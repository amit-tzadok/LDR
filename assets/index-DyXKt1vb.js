var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function T(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function te(e,t){return T(e.type,t,e.props)}function ne(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function re(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ie=/\/+/g;function ae(e,t){return typeof e==`object`&&e&&e.key!=null?re(``+e.key):t.toString(36)}function oe(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function se(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,se(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ae(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(ie,`$&/`)+`/`),se(o,r,i,``,function(e){return e})):o!=null&&(ne(o)&&(o=te(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ie,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ae(a,u),c+=se(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ae(a,u++),c+=se(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return se(oe(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ce(e,t,n){if(e==null)return e;var r=[],i=0;return se(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function le(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var E=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},D={map:ce,forEach:function(e,t,n){ce(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ce(e,function(){t++}),t},toArray:function(e){return ce(e,function(e){return e})||[]},only:function(e){if(!ne(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=D,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!ee.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return T(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)ee.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return T(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ne,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:le}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,E)}catch(e){E(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.0`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,ne());else{var t=n(l);t!==null&&ae(x,t.startTime-e)}}var S=!1,C=-1,w=5,ee=-1;function T(){return g?!0:!(e.unstable_now()-ee<w)}function te(){if(g=!1,S){var t=e.unstable_now();ee=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&T());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ae(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ne():S=!1}}}var ne;if(typeof y==`function`)ne=function(){y(te)};else if(typeof MessageChannel<`u`){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=te,ne=function(){ie.postMessage(null)}}else ne=function(){_(te,0)};function ae(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ae(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,ne()))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),ee=Symbol.for(`react.suspense`),T=Symbol.for(`react.suspense_list`),te=Symbol.for(`react.memo`),ne=Symbol.for(`react.lazy`),re=Symbol.for(`react.activity`),ie=Symbol.for(`react.memo_cache_sentinel`),ae=Symbol.iterator;function oe(e){return typeof e!=`object`||!e?null:(e=ae&&e[ae]||e[`@@iterator`],typeof e==`function`?e:null)}var se=Symbol.for(`react.client.reference`);function ce(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case ee:return`Suspense`;case T:return`SuspenseList`;case re:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case te:return t=e.displayName||null,t===null?ce(e.type)||`Memo`:t;case ne:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var le=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},de=[],fe=-1;function pe(e){return{current:e}}function me(e){0>fe||(e.current=de[fe],de[fe]=null,fe--)}function he(e,t){fe++,de[fe]=e.current,e.current=t}var ge=pe(null),_e=pe(null),ve=pe(null),ye=pe(null);function be(e,t){switch(he(ve,t),he(_e,e),he(ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rf(t),e=af(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}me(ge),he(ge,e)}function xe(){me(ge),me(_e),me(ve)}function Se(e){e.memoizedState!==null&&he(ye,e);var t=ge.current,n=af(t,e.type);t!==n&&(he(_e,e),he(ge,n))}function Ce(e){_e.current===e&&(me(ge),me(_e)),ye.current===e&&(me(ye),pp._currentValue=ue)}var we,Te;function Ee(e){if(we===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||``,Te=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+we+e+Te}var De=!1;function Oe(e,t){if(!e||De)return``;De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{De=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Ee(n):``}function ke(e,t){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee(`Lazy`);case 13:return e.child!==t&&t!==null?Ee(`Suspense Fallback`):Ee(`Suspense`);case 19:return Ee(`SuspenseList`);case 0:case 15:return Oe(e.type,!1);case 11:return Oe(e.type.render,!1);case 1:return Oe(e.type,!0);case 31:return Ee(`Activity`);default:return``}}function Ae(e){try{var t=``,n=null;do t+=ke(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var je=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,Fe=t.unstable_requestPaint,Ie=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,Be=t.unstable_NormalPriority,Ve=t.unstable_LowPriority,He=t.unstable_IdlePriority,Ue=t.log,We=t.unstable_setDisableYieldValue,Ge=null,Ke=null;function qe(e){if(typeof Ue==`function`&&We(e),Ke&&typeof Ke.setStrictMode==`function`)try{Ke.setStrictMode(Ge,e)}catch{}}var Je=Math.clz32?Math.clz32:Ze,Ye=Math.log,Xe=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(Ye(e)/Xe|0)|0}var Qe=256,$e=262144,et=4194304;function tt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=tt(n))):i=tt(o):i=tt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=tt(n))):i=tt(o)):i=tt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function it(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var e=et;return et<<=1,!(et&62914560)&&(et=4194304),e}function ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function st(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Je(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&lt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ut(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function dt(e,t){var n=t&-t;return n=n&42?1:ft(n),(n&(e.suspendedLanes|t))===0?n:0}function ft(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mt(){var e=D.p;return e===0?(e=window.event,e===void 0?32:kp(e.type)):e}function ht(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var gt=Math.random().toString(36).slice(2),_t=`__reactFiber$`+gt,vt=`__reactProps$`+gt,yt=`__reactContainer$`+gt,bt=`__reactEvents$`+gt,xt=`__reactListeners$`+gt,St=`__reactHandles$`+gt,Ct=`__reactResources$`+gt,wt=`__reactMarker$`+gt;function Tt(e){delete e[_t],delete e[vt],delete e[bt],delete e[xt],delete e[St]}function Et(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Df(e);e!==null;){if(n=e[_t])return n;e=Df(e)}return t}e=n,n=e.parentNode}return null}function Dt(e){if(e=e[_t]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kt(e){var t=e[Ct];return t||=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function At(e){e[wt]=!0}var jt=new Set,Mt={};function Nt(e,t){Pt(e,t),Pt(e+`Capture`,t)}function Pt(e,t){for(Mt[e]=t,e=0;e<t.length;e++)jt.add(t[e])}var Ft=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),It={},Lt={};function Rt(e){return je.call(Lt,e)?!0:je.call(It,e)?!1:Ft.test(e)?Lt[e]=!0:(It[e]=!0,!1)}function zt(e,t,n){if(Rt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Bt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Vt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function O(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ht(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ut(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wt(e){if(!e._valueTracker){var t=Ht(e)?`checked`:`value`;e._valueTracker=Ut(e,t,``+e[t])}}function Gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ht(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Kt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var qt=/[\n"\\]/g;function Jt(e){return e.replace(qt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Yt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+O(t)):e.value!==``+O(t)&&(e.value=``+O(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Zt(e,o,O(n)):Zt(e,o,O(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+O(s):e.removeAttribute(`name`)}function Xt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Wt(e);return}n=n==null?``:``+O(n),t=t==null?n:``+O(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Wt(e)}function Zt(e,t,n){t===`number`&&Kt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Qt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+O(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $t(e,t,n){if(t!=null&&(t=``+O(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+O(n)}function en(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(le(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=O(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Wt(e)}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function rn(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||nn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function an(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&rn(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&rn(e,o,t[o])}function on(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var sn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),cn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return cn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function un(){}var dn=null;function fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pn=null,mn=null;function hn(e){var t=Dt(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Jt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[vt]||null;if(!a)throw Error(i(90));Yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Gt(r)}break a;case`textarea`:$t(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Qt(e,!!n.multiple,t,!1)}}}var gn=!1;function _n(e,t,n){if(gn)return e(t,n);gn=!0;try{return e(t)}finally{if(gn=!1,(pn!==null||mn!==null)&&(Pu(),pn&&(t=pn,e=mn,mn=pn=null,hn(t),e)))for(t=0;t<e.length;t++)hn(e[t])}}function vn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[vt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),bn=!1;if(yn)try{var xn={};Object.defineProperty(xn,`passive`,{get:function(){bn=!0}}),window.addEventListener(`test`,xn,xn),window.removeEventListener(`test`,xn,xn)}catch{bn=!1}var Sn=null,Cn=null,wn=null;function Tn(){if(wn)return wn;var e,t=Cn,n=t.length,r,i=`value`in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wn=i.slice(e,1<r?1-r:void 0)}function En(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dn(){return!0}function On(){return!1}function kn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Dn:On,this.isPropagationStopped=On,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jn=kn(An),Mn=f({},An,{view:0,detail:0}),Nn=kn(Mn),Pn,Fn,In,Ln=f({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==In&&(In&&e.type===`mousemove`?(Pn=e.screenX-In.screenX,Fn=e.screenY-In.screenY):Fn=Pn=0,In=e),Pn)},movementY:function(e){return`movementY`in e?e.movementY:Fn}}),Rn=kn(Ln),zn=kn(f({},Ln,{dataTransfer:0})),Bn=kn(f({},Mn,{relatedTarget:0})),Vn=kn(f({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),Hn=kn(f({},An,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Un=kn(f({},An,{data:0})),Wn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Gn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Kn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function qn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kn[e])?!!t[e]:!1}function Jn(){return qn}var Yn=kn(f({},Mn,{key:function(e){if(e.key){var t=Wn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=En(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Gn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jn,charCode:function(e){return e.type===`keypress`?En(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?En(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Xn=kn(f({},Ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Zn=kn(f({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jn})),Qn=kn(f({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),$n=kn(f({},Ln,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),er=kn(f({},An,{newState:0,oldState:0})),k=[9,13,27,32],tr=yn&&`CompositionEvent`in window,nr=null;yn&&`documentMode`in document&&(nr=document.documentMode);var rr=yn&&`TextEvent`in window&&!nr,ir=yn&&(!tr||nr&&8<nr&&11>=nr),ar=` `,or=!1;function sr(e,t){switch(e){case`keyup`:return k.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function cr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var lr=!1;function ur(e,t){switch(e){case`compositionend`:return cr(t);case`keypress`:return t.which===32?(or=!0,ar):null;case`textInput`:return e=t.data,e===ar&&or?null:e;default:return null}}function dr(e,t){if(lr)return e===`compositionend`||!tr&&sr(e,t)?(e=Tn(),wn=Cn=Sn=null,lr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return ir&&t.locale!==`ko`?null:t.data;default:return null}}var fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!fr[e.type]:t===`textarea`}function mr(e,t,n,r){pn?mn?mn.push(r):mn=[r]:pn=r,t=Vd(t,`onChange`),0<t.length&&(n=new jn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var hr=null,gr=null;function _r(e){Pd(e,0)}function vr(e){if(Gt(Ot(e)))return e}function yr(e,t){if(e===`change`)return t}var br=!1;if(yn){var xr;if(yn){var Sr=`oninput`in document;if(!Sr){var Cr=document.createElement(`div`);Cr.setAttribute(`oninput`,`return;`),Sr=typeof Cr.oninput==`function`}xr=Sr}else xr=!1;br=xr&&(!document.documentMode||9<document.documentMode)}function wr(){hr&&(hr.detachEvent(`onpropertychange`,Tr),gr=hr=null)}function Tr(e){if(e.propertyName===`value`&&vr(gr)){var t=[];mr(t,gr,e,fn(e)),_n(_r,t)}}function Er(e,t,n){e===`focusin`?(wr(),hr=t,gr=n,hr.attachEvent(`onpropertychange`,Tr)):e===`focusout`&&wr()}function Dr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return vr(gr)}function Or(e,t){if(e===`click`)return vr(t)}function kr(e,t){if(e===`input`||e===`change`)return vr(t)}function Ar(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var jr=typeof Object.is==`function`?Object.is:Ar;function Mr(e,t){if(jr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!je.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function Nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pr(e,t){var n=Nr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Nr(n)}}function Fr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ir(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Rr=yn&&`documentMode`in document&&11>=document.documentMode,zr=null,Br=null,Vr=null,Hr=!1;function Ur(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hr||zr==null||zr!==Kt(r)||(r=zr,`selectionStart`in r&&Lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vr&&Mr(Vr,r)||(Vr=r,r=Vd(Br,`onSelect`),0<r.length&&(t=new jn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=zr)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Gr={animationend:Wr(`Animation`,`AnimationEnd`),animationiteration:Wr(`Animation`,`AnimationIteration`),animationstart:Wr(`Animation`,`AnimationStart`),transitionrun:Wr(`Transition`,`TransitionRun`),transitionstart:Wr(`Transition`,`TransitionStart`),transitioncancel:Wr(`Transition`,`TransitionCancel`),transitionend:Wr(`Transition`,`TransitionEnd`)},Kr={},qr={};yn&&(qr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),`TransitionEvent`in window||delete Gr.transitionend.transition);function Jr(e){if(Kr[e])return Kr[e];if(!Gr[e])return e;var t=Gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qr)return Kr[e]=t[n];return e}var Yr=Jr(`animationend`),Xr=Jr(`animationiteration`),Zr=Jr(`animationstart`),Qr=Jr(`transitionrun`),$r=Jr(`transitionstart`),ei=Jr(`transitioncancel`),ti=Jr(`transitionend`),ni=new Map,ri=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ri.push(`scrollEnd`);function ii(e,t){ni.set(e,t),Nt(t,[e])}var ai=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},oi=[],si=0,ci=0;function li(){for(var e=si,t=ci=si=0;t<e;){var n=oi[t];oi[t++]=null;var r=oi[t];oi[t++]=null;var i=oi[t];oi[t++]=null;var a=oi[t];if(oi[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&pi(n,i,a)}}function ui(e,t,n,r){oi[si++]=e,oi[si++]=t,oi[si++]=n,oi[si++]=r,ci|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function di(e,t,n,r){return ui(e,t,n,r),mi(e)}function fi(e,t){return ui(e,null,null,t),mi(e)}function pi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Je(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function mi(e){if(50<Tu)throw Tu=0,Eu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hi={};function gi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(e,t,n,r){return new gi(e,t,n,r)}function vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,t){var n=e.alternate;return n===null?(n=_i(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function bi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)vi(e)&&(s=1);else if(typeof e==`string`)s=ip(e,n,ge.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case re:return e=_i(31,n,t,a),e.elementType=re,e.lanes=o,e;case y:return Si(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=_i(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case ee:return e=_i(13,n,t,a),e.elementType=ee,e.lanes=o,e;case T:return e=_i(19,n,t,a),e.elementType=T,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case te:s=14;break a;case ne:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=_i(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Si(e,t,n,r){return e=_i(7,e,r,t),e.lanes=n,e}function Ci(e,t,n){return e=_i(6,e,null,t),e.lanes=n,e}function wi(e){var t=_i(18,null,null,0);return t.stateNode=e,t}function Ti(e,t,n){return t=_i(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ei=new WeakMap;function Di(e,t){if(typeof e==`object`&&e){var n=Ei.get(e);return n===void 0?(t={value:e,source:t,stack:Ae(t)},Ei.set(e,t),t):n}return{value:e,source:t,stack:Ae(t)}}var Oi=[],ki=0,Ai=null,ji=0,Mi=[],Ni=0,Pi=null,Fi=1,Ii=``;function Li(e,t){Oi[ki++]=ji,Oi[ki++]=Ai,Ai=e,ji=t}function Ri(e,t,n){Mi[Ni++]=Fi,Mi[Ni++]=Ii,Mi[Ni++]=Pi,Pi=e;var r=Fi;e=Ii;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var a=32-Je(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fi=1<<32-Je(t)+i|n<<i|r,Ii=a+e}else Fi=1<<a|n<<i|r,Ii=e}function zi(e){e.return!==null&&(Li(e,1),Ri(e,1,0))}function Bi(e){for(;e===Ai;)Ai=Oi[--ki],Oi[ki]=null,ji=Oi[--ki],Oi[ki]=null;for(;e===Pi;)Pi=Mi[--Ni],Mi[Ni]=null,Ii=Mi[--Ni],Mi[Ni]=null,Fi=Mi[--Ni],Mi[Ni]=null}function Vi(e,t){Mi[Ni++]=Fi,Mi[Ni++]=Ii,Mi[Ni++]=Pi,Fi=t.id,Ii=t.overflow,Pi=e}var Hi=null,Ui=null,A=!1,Wi=null,Gi=!1,Ki=Error(i(519));function qi(e){throw $i(Di(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ki}function Ji(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_t]=e,t[vt]=r,n){case`dialog`:L(`cancel`,t),L(`close`,t);break;case`iframe`:case`object`:case`embed`:L(`load`,t);break;case`video`:case`audio`:for(n=0;n<Md.length;n++)L(Md[n],t);break;case`source`:L(`error`,t);break;case`img`:case`image`:case`link`:L(`error`,t),L(`load`,t);break;case`details`:L(`toggle`,t);break;case`input`:L(`invalid`,t),Xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:L(`invalid`,t);break;case`textarea`:L(`invalid`,t),en(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||qd(t.textContent,n)?(r.popover!=null&&(L(`beforetoggle`,t),L(`toggle`,t)),r.onScroll!=null&&L(`scroll`,t),r.onScrollEnd!=null&&L(`scrollend`,t),r.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||qi(e,!0)}function Yi(e){for(Hi=e.return;Hi;)switch(Hi.tag){case 5:case 31:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:Hi=Hi.return}}function Xi(e){if(e!==Hi)return!1;if(!A)return Yi(e),A=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||of(e.type,e.memoizedProps)),n=!n),n&&Ui&&qi(e),Yi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ui=Ef(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ui=Ef(e)}else t===27?(t=Ui,mf(e.type)?(e=Tf,Tf=null,Ui=e):Ui=t):Ui=Hi?wf(e.stateNode.nextSibling):null;return!0}function Zi(){Ui=Hi=null,A=!1}function Qi(){var e=Wi;return e!==null&&(du===null?du=e:du.push.apply(du,e),Wi=null),e}function $i(e){Wi===null?Wi=[e]:Wi.push(e)}var ea=pe(null),ta=null,na=null;function ra(e,t,n){he(ea,t._currentValue),t._currentValue=n}function ia(e){e._currentValue=ea.current,me(ea)}function aa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function oa(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),aa(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),aa(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function sa(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;jr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ye.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[pp]:e.push(pp))}a=a.return}e!==null&&oa(t,e,n,r),t.flags|=262144}function ca(e){for(e=e.firstContext;e!==null;){if(!jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){ta=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ua(e){return fa(ta,e)}function da(e,t){return ta===null&&la(e),fa(e,t)}function fa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},na===null){if(e===null)throw Error(i(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return n}var pa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ma=t.unstable_scheduleCallback,ha=t.unstable_NormalPriority,ga={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _a(){return{controller:new pa,data:new Map,refCount:0}}function va(e){e.refCount--,e.refCount===0&&ma(ha,function(){e.controller.abort()})}var ya=null,ba=0,xa=0,Sa=null;function Ca(e,t){if(ya===null){var n=ya=[];ba=0,xa=Ed(),Sa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ba++,t.then(wa,wa),t}function wa(){if(--ba===0&&ya!==null){Sa!==null&&(Sa.status=`fulfilled`);var e=ya;ya=null,xa=0,Sa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ta(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ea=E.S;E.S=function(e,t){mu=Ie(),typeof t==`object`&&t&&typeof t.then==`function`&&Ca(e,t),Ea!==null&&Ea(e,t)};var Da=pe(null);function Oa(){var e=Da.current;return e===null?Zl.pooledCache:e}function ka(e,t){t===null?he(Da,Da.current):he(Da,t.pool)}function Aa(){var e=Oa();return e===null?null:{parent:ga._currentValue,pool:e}}var ja=Error(i(460)),Ma=Error(i(474)),Na=Error(i(542)),Pa={then:function(){}};function Fa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Ia(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ba(e),e;default:if(typeof t.status==`string`)t.then(un,un);else{if(e=Zl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ba(e),e}throw Ra=t,ja}}function La(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ra=e,ja):e}}var Ra=null;function za(){if(Ra===null)throw Error(i(459));var e=Ra;return Ra=null,e}function Ba(e){if(e===ja||e===Na)throw Error(i(483))}var Va=null,Ha=0;function Ua(e){var t=Ha;return Ha+=1,Va===null&&(Va=[]),Ia(Va,e,t)}function Wa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ga(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ka(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=yi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Ci(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ne&&La(i)===t.type)?(t=a(t,n.props),Wa(t,n),t.return=e,t):(t=xi(n.type,n.key,n.props,null,e.mode,r),Wa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ti(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Si(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Ci(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=xi(t.type,t.key,t.props,null,e.mode,n),Wa(n,t),n.return=e,n;case v:return t=Ti(t,e.mode,n),t.return=e,t;case ne:return t=La(t),f(e,t,n)}if(le(t)||oe(t))return t=Si(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ua(t),n);if(t.$$typeof===C)return f(e,da(e,t),n);Ga(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ne:return n=La(n),p(e,t,n,r)}if(le(n)||oe(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ua(n),r);if(n.$$typeof===C)return p(e,t,da(e,n),r);Ga(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ne:return r=La(r),m(e,t,n,r,i)}if(le(r)||oe(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ua(r),i);if(r.$$typeof===C)return m(e,t,n,da(t,r),i);Ga(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),A&&Li(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return A&&Li(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),A&&Li(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),A&&Li(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return A&&Li(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),A&&Li(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ne&&La(l)===r.type){n(e,r.sibling),c=a(r,o.props),Wa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Si(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=xi(o.type,o.key,o.props,null,e.mode,c),Wa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ti(o,e.mode,c),c.return=e,e=c}return s(e);case ne:return o=La(o),b(e,r,o,c)}if(le(o))return h(e,r,o,c);if(oe(o)){if(l=oe(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ua(o),c);if(o.$$typeof===C)return b(e,r,da(e,o),c);Ga(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Ci(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ha=0;var i=b(e,t,n,r);return Va=null,i}catch(t){if(t===ja||t===Na)throw t;var a=_i(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var qa=Ka(!0),Ja=Ka(!1),Ya=!1;function Xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,P&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=mi(e),pi(e,null,n),t}return ui(e,r,t,n),mi(e)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}function to(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var no=!1;function ro(){if(no){var e=Sa;if(e!==null)throw e}}function io(e,t,n,r){no=!1;var i=e.updateQueue;Ya=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(I&p)===p:(r&p)===p){p!==0&&p===xa&&(no=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Ya=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),au|=o,e.lanes=o,e.memoizedState=d}}function ao(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function oo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)ao(n[e],t)}var so=pe(null),co=pe(0);function lo(e,t){e=ru,he(co,e),he(so,t),ru=e|t.baseLanes}function uo(){he(co,ru),he(so,so.current)}function fo(){ru=co.current,me(so),me(co)}var po=pe(null),mo=null;function ho(e){var t=e.alternate;he(bo,bo.current&1),he(po,e),mo===null&&(t===null||so.current!==null||t.memoizedState!==null)&&(mo=e)}function go(e){he(bo,bo.current),he(po,e),mo===null&&(mo=e)}function _o(e){e.tag===22?(he(bo,bo.current),he(po,e),mo===null&&(mo=e)):vo(e)}function vo(){he(bo,bo.current),he(po,po.current)}function yo(e){me(po),mo===e&&(mo=null),me(bo)}var bo=pe(0);function j(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xf(n)||Sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=0,M=null,So=null,Co=null,wo=!1,To=!1,Eo=!1,Do=0,Oo=0,ko=null,Ao=0;function jo(){throw Error(i(321))}function Mo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,a){return xo=a,M=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Xs:Zs,Eo=!1,a=n(r,i),Eo=!1,To&&(a=Fo(t,n,r,i)),Po(e),a}function Po(e){E.H=Ys;var t=So!==null&&So.next!==null;if(xo=0,Co=So=M=null,wo=!1,Oo=0,ko=null,t)throw Error(i(300));e===null||mc||(e=e.dependencies,e!==null&&ca(e)&&(mc=!0))}function Fo(e,t,n,r){M=e;var a=0;do{if(To&&(ko=null),Oo=0,To=!1,25<=a)throw Error(i(301));if(a+=1,Co=So=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}E.H=Qs,o=t(n,r)}while(To);return o}function Io(){var e=E.H,t=e.useState()[0];return t=typeof t.then==`function`?Uo(t):t,e=e.useState()[0],(So===null?null:So.memoizedState)!==e&&(M.flags|=1024),t}function Lo(){var e=Do!==0;return Do=0,e}function Ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wo=!1}xo=0,Co=So=M=null,To=!1,Oo=Do=0,ko=null}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Co===null?M.memoizedState=Co=e:Co=Co.next=e,Co}function Vo(){if(So===null){var e=M.alternate;e=e===null?null:e.memoizedState}else e=So.next;var t=Co===null?M.memoizedState:Co.next;if(t!==null)Co=t,So=e;else{if(e===null)throw M.alternate===null?Error(i(467)):Error(i(310));So=e,e={memoizedState:So.memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},Co===null?M.memoizedState=Co=e:Co=Co.next=e}return Co}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(e){var t=Oo;return Oo+=1,ko===null&&(ko=[]),e=Ia(ko,e,t),t=M,(Co===null?t.memoizedState:Co.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Xs:Zs),e}function Wo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Uo(e);if(e.$$typeof===C)return ua(e)}throw Error(i(438,String(e)))}function Go(e){var t=null,n=M.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=M.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Ho(),M.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ie;return t.index++,n}function Ko(e,t){return typeof t==`function`?t(e):t}function qo(e){return Jo(Vo(),So,e)}function Jo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(xo&f)===f:(I&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===xa&&(d=!0);else if((xo&p)===p){u=u.next,p===xa&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,M.lanes|=p,au|=p;f=u.action,Eo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,M.lanes|=f,au|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!jr(o,e.memoizedState)&&(mc=!0,d&&(n=Sa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yo(e){var t=Vo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);jr(o,t.memoizedState)||(mc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xo(e,t,n){var r=M,a=Vo(),o=A;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!jr((So||a).memoizedState,n);if(s&&(a.memoizedState=n,mc=!0),a=a.queue,xs($o.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||Co!==null&&Co.memoizedState.tag&1){if(r.flags|=2048,gs(9,{destroy:void 0},Qo.bind(null,r,a,n,t),null),Zl===null)throw Error(i(349));o||xo&127||Zo(r,t,n)}return n}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=M.updateQueue,t===null?(t=Ho(),M.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qo(e,t,n,r){t.value=n,t.getSnapshot=r,es(t)&&ts(e)}function $o(e,t,n){return n(function(){es(t)&&ts(e)})}function es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function ts(e){var t=fi(e,2);t!==null&&ku(t,e,2)}function ns(e){var t=Bo();if(typeof e==`function`){var n=e;if(e=n(),Eo){qe(!0);try{n()}finally{qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e},t}function rs(e,t,n,r){return e.baseState=n,Jo(e,So,typeof r==`function`?r:Ko)}function is(e,t,n,r,a){if(Ks(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};E.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,as(t,o)):(o.next=n.next,t.pending=n.next=o)}}function as(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=E.T,o={};E.T=o;try{var s=n(i,r),c=E.S;c!==null&&c(o,s),os(e,t,s)}catch(n){cs(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),E.T=a}}else try{a=n(i,r),os(e,t,a)}catch(n){cs(e,t,n)}}function os(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){ss(e,t,n)},function(n){return cs(e,t,n)}):ss(e,t,n)}function ss(e,t,n){t.status=`fulfilled`,t.value=n,ls(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,as(e,n)))}function cs(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,ls(t),t=t.next;while(t!==r)}e.action=null}function ls(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function us(e,t){return t}function ds(e,t){if(A){var n=Zl.formState;if(n!==null){a:{var r=M;if(A){if(Ui){b:{for(var i=Ui,a=Gi;i.nodeType!==8;){if(!a){i=null;break b}if(i=wf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ui=wf(i.nextSibling),r=i.data===`F!`;break a}}qi(r)}r=!1}r&&(t=n[0])}}return n=Bo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n.queue=r,n=Us.bind(null,M,r),r.dispatch=n,r=ns(!1),a=Gs.bind(null,M,!1,r.queue),r=Bo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=is.bind(null,M,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function fs(e){return ps(Vo(),So,e)}function ps(e,t,n){if(t=Jo(e,t,us)[0],e=qo(Ko)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Uo(t)}catch(e){throw e===ja?Na:e}else r=t;t=Vo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(M.flags|=2048,gs(9,{destroy:void 0},ms.bind(null,i,n),null)),[r,a,e]}function ms(e,t){e.action=t}function hs(e){var t=Vo(),n=So;if(n!==null)return ps(t,n,e);Vo(),t=t.memoizedState,n=Vo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function gs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=M.updateQueue,t===null&&(t=Ho(),M.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _s(){return Vo().memoizedState}function vs(e,t,n,r){var i=Bo();M.flags|=e,i.memoizedState=gs(1|t,{destroy:void 0},n,r===void 0?null:r)}function ys(e,t,n,r){var i=Vo();r=r===void 0?null:r;var a=i.memoizedState.inst;So!==null&&r!==null&&Mo(r,So.memoizedState.deps)?i.memoizedState=gs(t,a,n,r):(M.flags|=e,i.memoizedState=gs(1|t,a,n,r))}function bs(e,t){vs(8390656,8,e,t)}function xs(e,t){ys(2048,8,e,t)}function Ss(e){M.flags|=4;var t=M.updateQueue;if(t===null)t=Ho(),M.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Cs(e){var t=Vo().memoizedState;return Ss({ref:t,nextImpl:e}),function(){if(P&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ws(e,t){return ys(4,2,e,t)}function Ts(e,t){return ys(4,4,e,t)}function Es(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ds(e,t,n){n=n==null?null:n.concat([e]),ys(4,4,Es.bind(null,t,e),n)}function Os(){}function ks(e,t){var n=Vo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function As(e,t){var n=Vo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Mo(t,r[1]))return r[0];if(r=e(),Eo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r}function js(e,t,n){return n===void 0||xo&1073741824&&!(I&261930)?e.memoizedState=t:(e.memoizedState=n,e=Ou(),M.lanes|=e,au|=e,n)}function Ms(e,t,n,r){return jr(n,t)?n:so.current===null?!(xo&42)||xo&1073741824&&!(I&261930)?(mc=!0,e.memoizedState=n):(e=Ou(),M.lanes|=e,au|=e,t):(e=js(e,n,r),jr(e,t)||(mc=!0),e)}function Ns(e,t,n,r,i){var a=D.p;D.p=a!==0&&8>a?a:8;var o=E.T,s={};E.T=s,Gs(e,!1,t,n);try{var c=i(),l=E.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ws(e,t,Ta(c,r),Du(e)):Ws(e,t,r,Du(e))}catch(n){Ws(e,t,{then:function(){},status:`rejected`,reason:n},Du())}finally{D.p=a,o!==null&&s.types!==null&&(o.types=s.types),E.T=o}}function Ps(){}function Fs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Is(e).queue;Ns(e,a,t,ue,n===null?Ps:function(){return Ls(e),n(r)})}function Is(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:ue},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ls(e){var t=Is(e);t.next===null&&(t=e.alternate.memoizedState),Ws(e,t.next.queue,{},Du())}function Rs(){return ua(pp)}function zs(){return Vo().memoizedState}function Bs(){return Vo().memoizedState}function Vs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Du();e=Qa(n);var r=$a(t,e,n);r!==null&&(ku(r,t,n),eo(r,t,n)),t={cache:_a()},e.payload=t;return}t=t.return}}function Hs(e,t,n){var r=Du();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e)?qs(t,n):(n=di(e,t,n,r),n!==null&&(ku(n,e,r),Js(n,t,r)))}function Us(e,t,n){Ws(e,t,n,Du())}function Ws(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))qs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,jr(s,o))return ui(e,t,i,0),Zl===null&&li(),!1}catch{}if(n=di(e,t,i,r),n!==null)return ku(n,e,r),Js(n,t,r),!0}return!1}function Gs(e,t,n,r){if(r={lane:2,revertLane:Ed(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ks(e)){if(t)throw Error(i(479))}else t=di(e,n,r,2),t!==null&&ku(t,e,2)}function Ks(e){var t=e.alternate;return e===M||t!==null&&t===M}function qs(e,t){To=wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}var Ys={readContext:ua,use:Wo,useCallback:jo,useContext:jo,useEffect:jo,useImperativeHandle:jo,useLayoutEffect:jo,useInsertionEffect:jo,useMemo:jo,useReducer:jo,useRef:jo,useState:jo,useDebugValue:jo,useDeferredValue:jo,useTransition:jo,useSyncExternalStore:jo,useId:jo,useHostTransitionStatus:jo,useFormState:jo,useActionState:jo,useOptimistic:jo,useMemoCache:jo,useCacheRefresh:jo};Ys.useEffectEvent=jo;var Xs={readContext:ua,use:Wo,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:ua,useEffect:bs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),vs(4194308,4,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4194308,4,e,t)},useInsertionEffect:function(e,t){vs(4,2,e,t)},useMemo:function(e,t){var n=Bo();t=t===void 0?null:t;var r=e();if(Eo){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Bo();if(n!==void 0){var i=n(t);if(Eo){qe(!0);try{n(t)}finally{qe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Hs.bind(null,M,e),[r.memoizedState,e]},useRef:function(e){var t=Bo();return e={current:e},t.memoizedState=e},useState:function(e){e=ns(e);var t=e.queue,n=Us.bind(null,M,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Os,useDeferredValue:function(e,t){return js(Bo(),e,t)},useTransition:function(){var e=ns(!1);return e=Ns.bind(null,M,e.queue,!0,!1),Bo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=M,a=Bo();if(A){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Zl===null)throw Error(i(349));I&127||Zo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,bs($o.bind(null,r,o,e),[e]),r.flags|=2048,gs(9,{destroy:void 0},Qo.bind(null,r,o,n,t),null),n},useId:function(){var e=Bo(),t=Zl.identifierPrefix;if(A){var n=Ii,r=Fi;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Do++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Ao++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:ds,useActionState:ds,useOptimistic:function(e){var t=Bo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gs.bind(null,M,!0,n),n.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return Bo().memoizedState=Vs.bind(null,M)},useEffectEvent:function(e){var t=Bo(),n={impl:e};return t.memoizedState=n,function(){if(P&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Zs={readContext:ua,use:Wo,useCallback:ks,useContext:ua,useEffect:xs,useImperativeHandle:Ds,useInsertionEffect:ws,useLayoutEffect:Ts,useMemo:As,useReducer:qo,useRef:_s,useState:function(){return qo(Ko)},useDebugValue:Os,useDeferredValue:function(e,t){return Ms(Vo(),So.memoizedState,e,t)},useTransition:function(){var e=qo(Ko)[0],t=Vo().memoizedState;return[typeof e==`boolean`?e:Uo(e),t]},useSyncExternalStore:Xo,useId:zs,useHostTransitionStatus:Rs,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){return rs(Vo(),So,e,t)},useMemoCache:Go,useCacheRefresh:Bs};Zs.useEffectEvent=Cs;var Qs={readContext:ua,use:Wo,useCallback:ks,useContext:ua,useEffect:xs,useImperativeHandle:Ds,useInsertionEffect:ws,useLayoutEffect:Ts,useMemo:As,useReducer:Yo,useRef:_s,useState:function(){return Yo(Ko)},useDebugValue:Os,useDeferredValue:function(e,t){var n=Vo();return So===null?js(n,e,t):Ms(n,So.memoizedState,e,t)},useTransition:function(){var e=Yo(Ko)[0],t=Vo().memoizedState;return[typeof e==`boolean`?e:Uo(e),t]},useSyncExternalStore:Xo,useId:zs,useHostTransitionStatus:Rs,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Vo();return So===null?(n.baseState=e,[e,n.queue.dispatch]):rs(n,So,e,t)},useMemoCache:Go,useCacheRefresh:Bs};Qs.useEffectEvent=Cs;function $s(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ec={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Du(),i=Qa(r);i.payload=t,n!=null&&(i.callback=n),t=$a(e,i,r),t!==null&&(ku(t,e,r),eo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Du(),i=Qa(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$a(e,i,r),t!==null&&(ku(t,e,r),eo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Du(),r=Qa(n);r.tag=2,t!=null&&(r.callback=t),t=$a(e,r,n),t!==null&&(ku(t,e,n),eo(t,e,n))}};function tc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,a):!0}function nc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function rc(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function ic(e){ai(e)}function ac(e){console.error(e)}function oc(e){ai(e)}function sc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function cc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function lc(e,t,n){return n=Qa(n),n.tag=3,n.payload={element:null},n.callback=function(){sc(e,t)},n}function uc(e){return e=Qa(e),e.tag=3,e}function dc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){cc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){cc(t,n,r),typeof i!=`function`&&(_u===null?_u=new Set([this]):_u.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function fc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&sa(t,n,a,!0),n=po.current,n!==null){switch(n.tag){case 31:case 13:return mo===null?Vu():n.alternate===null&&iu===0&&(iu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Pa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),od(e,r,a)),!1;case 22:return n.flags|=65536,r===Pa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),od(e,r,a)),!1}throw Error(i(435,n.tag))}return od(e,r,a),Vu(),!1}if(A)return t=po.current,t===null?(r!==Ki&&(t=Error(i(423),{cause:r}),$i(Di(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Di(r,n),a=lc(e.stateNode,r,a),to(e,a),iu!==4&&(iu=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ki&&(e=Error(i(422),{cause:r}),$i(Di(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Di(o,n),uu===null?uu=[o]:uu.push(o),iu!==4&&(iu=2),t===null)return!0;r=Di(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=lc(n.stateNode,r,e),to(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(_u===null||!_u.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=uc(a),dc(a,e,n,r),to(n,a),!1}n=n.return}while(n!==null);return!1}var pc=Error(i(461)),mc=!1;function hc(e,t,n,r){t.child=e===null?Ja(t,null,n,r):qa(t,e.child,n,r)}function gc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return la(t),r=No(e,t,n,o,a,i),s=Lo(),e!==null&&!mc?(Ro(e,t,i),Bc(e,t,i)):(A&&s&&zi(t),t.flags|=1,hc(e,t,r,i),t.child)}function _c(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!vi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,vc(e,t,a,r,i)):(e=xi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Vc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Mr:n,n(o,r)&&e.ref===t.ref)return Bc(e,t,i)}return t.flags|=1,e=yi(a,r),e.ref=t.ref,e.return=t,t.child=e}function vc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(mc=!1,t.pendingProps=r=a,Vc(e,i))e.flags&131072&&(mc=!0);else return t.lanes=e.lanes,Bc(e,t,i)}return Ec(e,t,n,r,i)}function yc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return xc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ka(t,a===null?null:a.cachePool),a===null?uo():lo(t,a),_o(t);else return r=t.lanes=536870912,xc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ka(t,null),uo(),vo(t)):(ka(t,a.cachePool),lo(t,a),vo(t),t.memoizedState=null);return hc(e,t,i,n),t.child}function bc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xc(e,t,n,r,i){var a=Oa();return a=a===null?null:{parent:ga._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ka(t,null),uo(),_o(t),e!==null&&sa(e,t,r,!0),t.childLanes=i,null}function Sc(e,t){return t=Fc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Cc(e,t,n){return qa(t,e.child,null,n),e=Sc(t,t.pendingProps),e.flags|=2,yo(t),t.memoizedState=null,e}function wc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(A){if(r.mode===`hidden`)return e=Sc(t,r),t.lanes=536870912,bc(null,e);if(go(t),(e=Ui)?(e=bf(e,Gi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pi===null?null:{id:Fi,overflow:Ii},retryLane:536870912,hydrationErrors:null},n=wi(e),n.return=t,t.child=n,Hi=t,Ui=null)):e=null,e===null)throw qi(t);return t.lanes=536870912,null}return Sc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(go(t),a)if(t.flags&256)t.flags&=-257,t=Cc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(mc||sa(e,t,n,!1),a=(n&e.childLanes)!==0,mc||a){if(r=Zl,r!==null&&(s=dt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,fi(e,s),ku(r,e,s),pc;Vu(),t=Cc(e,t,n)}else e=o.treeContext,Ui=wf(s.nextSibling),Hi=t,A=!0,Wi=null,Gi=!1,e!==null&&Vi(t,e),t=Sc(t,r),t.flags|=4096;return t}return e=yi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ec(e,t,n,r,i){return la(t),n=No(e,t,n,r,void 0,i),r=Lo(),e!==null&&!mc?(Ro(e,t,i),Bc(e,t,i)):(A&&r&&zi(t),t.flags|=1,hc(e,t,n,i),t.child)}function Dc(e,t,n,r,i,a){return la(t),t.updateQueue=null,n=Fo(t,r,n,i),Po(e),r=Lo(),e!==null&&!mc?(Ro(e,t,a),Bc(e,t,a)):(A&&r&&zi(t),t.flags|=1,hc(e,t,n,a),t.child)}function Oc(e,t,n,r,i){if(la(t),t.stateNode===null){var a=hi,o=n.contextType;typeof o==`object`&&o&&(a=ua(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ec,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Xa(t),o=n.contextType,a.context=typeof o==`object`&&o?ua(o):hi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&($s(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&ec.enqueueReplaceState(a,a.state,null),io(t,r,a,i),ro(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=rc(n,s);a.props=c;var l=a.context,u=n.contextType;o=hi,typeof u==`object`&&u&&(o=ua(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&nc(t,a,r,o),Ya=!1;var f=t.memoizedState;a.state=f,io(t,r,a,i),ro(),l=t.memoizedState,s||f!==l||Ya?(typeof d==`function`&&($s(t,n,d,r),l=t.memoizedState),(c=Ya||tc(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Za(e,t),o=t.memoizedProps,u=rc(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=hi,typeof l==`object`&&l&&(c=ua(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&nc(t,a,r,c),Ya=!1,f=t.memoizedState,a.state=f,io(t,r,a,i),ro();var p=t.memoizedState;o!==d||f!==p||Ya||e!==null&&e.dependencies!==null&&ca(e.dependencies)?(typeof s==`function`&&($s(t,n,s,r),p=t.memoizedState),(u=Ya||tc(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ca(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Tc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=qa(t,e.child,null,i),t.child=qa(t,null,n,i)):hc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Bc(e,t,i),e}function kc(e,t,n,r){return Zi(),t.flags|=256,hc(e,t,n,r),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(e){return{baseLanes:e,cachePool:Aa()}}function Mc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=cu),e}function Nc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(bo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(A){if(a?ho(t):vo(t),(e=Ui)?(e=bf(e,Gi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pi===null?null:{id:Fi,overflow:Ii},retryLane:536870912,hydrationErrors:null},n=wi(e),n.return=t,t.child=n,Hi=t,Ui=null)):e=null,e===null)throw qi(t);return Sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(vo(t),a=t.mode,c=Fc({mode:`hidden`,children:c},a),r=Si(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=jc(n),r.childLanes=Mc(e,s,n),t.memoizedState=Ac,bc(null,r)):(ho(t),Pc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(ho(t),t.flags&=-257,t=Ic(e,t,n)):t.memoizedState===null?(vo(t),c=r.fallback,a=t.mode,r=Fc({mode:`visible`,children:r.children},a),c=Si(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,qa(t,e.child,null,n),r=t.child,r.memoizedState=jc(n),r.childLanes=Mc(e,s,n),t.memoizedState=Ac,t=bc(null,r)):(vo(t),t.child=e.child,t.flags|=128,t=null);else if(ho(t),Sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,$i({value:r,source:null,stack:null}),t=Ic(e,t,n)}else if(mc||sa(e,t,n,!1),s=(n&e.childLanes)!==0,mc||s){if(s=Zl,s!==null&&(r=dt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,fi(e,r),ku(s,e,r),pc;xf(c)||Vu(),t=Ic(e,t,n)}else xf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ui=wf(c.nextSibling),Hi=t,A=!0,Wi=null,Gi=!1,e!==null&&Vi(t,e),t=Pc(t,r.children),t.flags|=4096);return t}return a?(vo(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=yi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Si(c,a,n,null),c.flags|=2):c=yi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,bc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=jc(n):(a=c.cachePool,a===null?a=Aa():(l=ga._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Mc(e,s,n),t.memoizedState=Ac,bc(e.child,r)):(ho(t),n=e.child,e=n.sibling,n=yi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Pc(e,t){return t=Fc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Fc(e,t){return e=_i(22,e,null,t),e.lanes=0,e}function Ic(e,t,n){return qa(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),aa(e.return,t,n)}function Rc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function zc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=bo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,he(bo,o),hc(e,t,r,n),r=A?ji:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,n,t);else if(e.tag===19)Lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&j(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&j(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rc(t,!0,n,null,a,r);break;case`together`:Rc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Bc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),au|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(sa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ca(e))):!0}function Hc(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),ra(t,ga,e.memoizedState.cache),Zi();break;case 27:case 5:Se(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(ho(t),e=Bc(e,t,n),e===null?null:e.sibling):Nc(e,t,n):(ho(t),t.flags|=128,null);ho(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(sa(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return zc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(bo,bo.current),r)break;return null;case 22:return t.lanes=0,yc(e,t,n,t.pendingProps);case 24:ra(t,ga,e.memoizedState.cache)}return Bc(e,t,n)}function Uc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)mc=!0;else{if(!Vc(e,n)&&!(t.flags&128))return mc=!1,Hc(e,t,n);mc=!!(e.flags&131072)}else mc=!1,A&&t.flags&1048576&&Ri(t,ji,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=La(t.elementType),t.type=e,typeof e==`function`)vi(e)?(r=rc(e,r),t.tag=1,t=Oc(null,t,e,r,n)):(t.tag=0,t=Ec(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=gc(null,t,e,r,n);break a}else if(a===te){t.tag=14,t=_c(null,t,e,r,n);break a}}throw t=ce(e)||e,Error(i(306,t,``))}}return t;case 0:return Ec(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=rc(r,t.pendingProps),Oc(e,t,r,a,n);case 3:a:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Za(e,t),io(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ra(t,ga,r),r!==o.cache&&oa(t,[ga],n,!0),ro(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=kc(e,t,r,n);break a}else if(r!==a){a=Di(Error(i(424)),t),$i(a),t=kc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ui=wf(e.firstChild),Hi=t,A=!0,Wi=null,Gi=!0,n=Ja(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zi(),r===a){t=Bc(e,t,n);break a}hc(e,t,r,n)}t=t.child}return t;case 26:return Tc(e,t),e===null?(n=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=n:A||(n=t.type,e=t.pendingProps,r=nf(ve.current).createElement(n),r[_t]=t,r[vt]=e,Xd(r,n,e),At(r),t.stateNode=r):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&A&&(r=t.stateNode=Of(t.type,t.pendingProps,ve.current),Hi=t,Gi=!0,a=Ui,mf(t.type)?(Tf=a,Ui=wf(r.firstChild)):Ui=a),hc(e,t,t.pendingProps.children,n),Tc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&A&&((a=r=Ui)&&(r=vf(r,t.type,t.pendingProps,Gi),r===null?a=!1:(t.stateNode=r,Hi=t,Ui=wf(r.firstChild),Gi=!1,a=!0)),a||qi(t)),Se(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,of(a,o)?r=null:s!==null&&of(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=No(e,t,Io,null,null,n),pp._currentValue=a),Tc(e,t),hc(e,t,r,n),t.child;case 6:return e===null&&A&&((e=n=Ui)&&(n=yf(n,t.pendingProps,Gi),n===null?e=!1:(t.stateNode=n,Hi=t,Ui=null,e=!0)),e||qi(t)),null;case 13:return Nc(e,t,n);case 4:return be(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qa(t,null,r,n):hc(e,t,r,n),t.child;case 11:return gc(e,t,t.type,t.pendingProps,n);case 7:return hc(e,t,t.pendingProps,n),t.child;case 8:return hc(e,t,t.pendingProps.children,n),t.child;case 12:return hc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ra(t,t.type,r.value),hc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,la(t),a=ua(a),r=r(a),t.flags|=1,hc(e,t,r,n),t.child;case 14:return _c(e,t,t.type,t.pendingProps,n);case 15:return vc(e,t,t.type,t.pendingProps,n);case 19:return zc(e,t,n);case 31:return wc(e,t,n);case 22:return yc(e,t,n,t.pendingProps);case 24:return la(t),r=ua(ga),e===null?(a=Oa(),a===null&&(a=Zl,o=_a(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Xa(t),ra(t,ga,a)):((e.lanes&n)!==0&&(Za(e,t),io(t,null,null,n),ro()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,ra(t,ga,r),r!==a.cache&&oa(t,[ga],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ra(t,ga,r))),hc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Wc(e){e.flags|=4}function Gc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Ru())e.flags|=8192;else throw Ra=Pa,Ma}else e.flags&=-16777217}function Kc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ap(t))if(Ru())e.flags|=8192;else throw Ra=Pa,Ma}function qc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:at(),e.lanes|=t,lu|=t)}function Jc(e,t){if(!A)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xc(e,t,n){var r=t.pendingProps;switch(Bi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yc(t),null;case 1:return Yc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ia(ga),xe(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Xi(t)?Wc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qi())),Yc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Wc(t),o===null?(Yc(t),Gc(t,a,null,r,n)):(Yc(t),Kc(t,o))):o?o===e.memoizedState?(Yc(t),t.flags&=-16777217):(Wc(t),Yc(t),Kc(t,o)):(e=e.memoizedProps,e!==r&&Wc(t),Yc(t),Gc(t,a,e,r,n)),null;case 27:if(Ce(t),n=ve.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Wc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Yc(t),null}e=ge.current,Xi(t)?Ji(t,e):(e=Of(a,r,n),t.stateNode=e,Wc(t))}return Yc(t),null;case 5:if(Ce(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Wc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Yc(t),null}if(o=ge.current,Xi(t))Ji(t,o);else{var s=nf(ve.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[_t]=t,o[vt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Xd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Wc(t)}}return Yc(t),Gc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Wc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ve.current,Xi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Hi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||qd(e.nodeValue,n)),e||qi(t,!0)}else e=nf(e).createTextNode(r),e[_t]=t,t.stateNode=e}return Yc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Xi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[_t]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yc(t),e=!1}else n=Qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(yo(t),t):(yo(t),null);if(t.flags&128)throw Error(i(558))}return Yc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Xi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[_t]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yc(t),a=!1}else a=Qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(yo(t),t):(yo(t),null)}return yo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),qc(t,t.updateQueue),Yc(t),null);case 4:return xe(),e===null&&Ld(t.stateNode.containerInfo),Yc(t),null;case 10:return ia(t.type),Yc(t),null;case 19:if(me(bo),r=t.memoizedState,r===null)return Yc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Jc(r,!1);else{if(iu!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=j(e),o!==null){for(t.flags|=128,Jc(r,!1),e=o.updateQueue,t.updateQueue=e,qc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)bi(n,e),n=n.sibling;return he(bo,bo.current&1|2),A&&Li(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ie()>hu&&(t.flags|=128,a=!0,Jc(r,!1),t.lanes=4194304)}else{if(!a)if(e=j(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,qc(t,e),Jc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!A)return Yc(t),null}else 2*Ie()-r.renderingStartTime>hu&&n!==536870912&&(t.flags|=128,a=!0,Jc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Yc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ie(),e.sibling=null,n=bo.current,he(bo,a?n&1|2:n&1),A&&Li(t,r.treeForkCount),e);case 22:case 23:return yo(t),fo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Yc(t),t.subtreeFlags&6&&(t.flags|=8192)):Yc(t),n=t.updateQueue,n!==null&&qc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&me(Da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ia(ga),Yc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Zc(e,t){switch(Bi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(ga),xe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 31:if(t.memoizedState!==null){if(yo(t),t.alternate===null)throw Error(i(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(yo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(bo),null;case 4:return xe(),null;case 10:return ia(t.type),null;case 22:case 23:return yo(t),fo(),e!==null&&me(Da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(ga),null;case 25:return null;default:return null}}function Qc(e,t){switch(Bi(t),t.tag){case 3:ia(ga),xe();break;case 26:case 27:case 5:Ce(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&yo(t);break;case 13:yo(t);break;case 19:me(bo);break;case 10:ia(t.type);break;case 22:case 23:yo(t),fo(),e!==null&&me(Da);break;case 24:ia(ga)}}function $c(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){ad(t,t.return,e)}}function el(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){ad(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){ad(t,t.return,e)}}function tl(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{oo(t,n)}catch(t){ad(e,e.return,t)}}}function nl(e,t,n){n.props=rc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){ad(e,t,n)}}function rl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){ad(e,t,n)}}function il(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){ad(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){ad(e,t,n)}else n.current=null}function al(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){ad(e,e.return,t)}}function ol(e,t,n){try{var r=e.stateNode;Zd(r,e.type,n,t),r[vt]=t}catch(t){ad(e,e.return,t)}}function sl(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mf(e.type)||e.tag===4}function cl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&mf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}function dl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xd(t,r,n),t[_t]=e,t[vt]=n}catch(t){ad(e,e.return,t)}}var fl=!1,pl=!1,ml=!1,hl=typeof WeakSet==`function`?WeakSet:Set,gl=null;function _l(e,t){if(e=e.containerInfo,ef=Sp,e=Ir(e),Lr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(tf={focusedElem:e,selectionRange:n},Sp=!1,gl=t;gl!==null;)if(t=gl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,gl=e;else for(;gl!==null;){switch(t=gl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=rc(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){ad(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_f(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:_f(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,gl=e;break}gl=t.return}}function vl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),r&4&&$c(5,n);break;case 1:if(Ml(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){ad(n,n.return,e)}else{var i=rc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){ad(n,n.return,e)}}r&64&&tl(n),r&512&&rl(n,n.return);break;case 3:if(Ml(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{oo(e,t)}catch(e){ad(n,n.return,e)}}break;case 27:t===null&&r&4&&dl(n);case 26:case 5:Ml(e,n),t===null&&r&4&&al(n),r&512&&rl(n,n.return);break;case 12:Ml(e,n);break;case 31:Ml(e,n),r&4&&Cl(e,n);break;case 13:Ml(e,n),r&4&&wl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ld.bind(null,n),Cf(e,n))));break;case 22:if(r=n.memoizedState!==null||fl,!r){t=t!==null&&t.memoizedState!==null||pl,i=fl;var a=pl;fl=r,(pl=t)&&!a?Pl(e,n,(n.subtreeFlags&8772)!=0):Ml(e,n),fl=i,pl=a}break;case 30:break;default:Ml(e,n)}}function yl(e){var t=e.alternate;t!==null&&(e.alternate=null,yl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var N=null,bl=!1;function xl(e,t,n){for(n=n.child;n!==null;)Sl(e,t,n),n=n.sibling}function Sl(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount==`function`)try{Ke.onCommitFiberUnmount(Ge,n)}catch{}switch(n.tag){case 26:pl||il(n,t),xl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pl||il(n,t);var r=N,i=bl;mf(n.type)&&(N=n.stateNode,bl=!1),xl(e,t,n),kf(n.stateNode),N=r,bl=i;break;case 5:pl||il(n,t);case 6:if(r=N,i=bl,N=null,xl(e,t,n),N=r,bl=i,N!==null)if(bl)try{(N.nodeType===9?N.body:N.nodeName===`HTML`?N.ownerDocument.body:N).removeChild(n.stateNode)}catch(e){ad(n,t,e)}else try{N.removeChild(n.stateNode)}catch(e){ad(n,t,e)}break;case 18:N!==null&&(bl?(e=N,hf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Jp(e)):hf(N,n.stateNode));break;case 4:r=N,i=bl,N=n.stateNode.containerInfo,bl=!0,xl(e,t,n),N=r,bl=i;break;case 0:case 11:case 14:case 15:el(2,n,t),pl||el(4,n,t),xl(e,t,n);break;case 1:pl||(il(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&nl(n,t,r)),xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:pl=(r=pl)||n.memoizedState!==null,xl(e,t,n),pl=r;break;default:xl(e,t,n)}}function Cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Jp(e)}catch(e){ad(t,t.return,e)}}}function wl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jp(e)}catch(e){ad(t,t.return,e)}}function Tl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hl),t;default:throw Error(i(435,e.tag))}}function El(e,t){var n=Tl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ud.bind(null,e,t);t.then(r,r)}})}function Dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(mf(c.type)){N=c.stateNode,bl=!1;break a}break;case 5:N=c.stateNode,bl=!1;break a;case 3:case 4:N=c.stateNode.containerInfo,bl=!0;break a}c=c.return}if(N===null)throw Error(i(160));Sl(o,s,a),N=null,bl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kl(t,e),t=t.sibling}var Ol=null;function kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Al(e),r&4&&(el(3,e,e.return),$c(3,e),el(5,e,e.return));break;case 1:Dl(t,e),Al(e),r&512&&(pl||n===null||il(n,n.return)),r&64&&fl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Ol;if(Dl(t,e),Al(e),r&512&&(pl||n===null||il(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[wt]||o[_t]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Xd(o,r,n),o[_t]=e,At(o),r=o;break a;case`link`:var s=np(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Xd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=np(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Xd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[_t]=e,At(o),r=o}e.stateNode=r}else rp(a,e.type,e.stateNode);else e.stateNode=Zf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&ol(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?rp(a,e.type,e.stateNode):Zf(a,r,e.memoizedProps))}break;case 27:Dl(t,e),Al(e),r&512&&(pl||n===null||il(n,n.return)),n!==null&&r&4&&ol(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Al(e),r&512&&(pl||n===null||il(n,n.return)),e.flags&32){a=e.stateNode;try{tn(a,``)}catch(t){ad(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,ol(e,a,n===null?a:n.memoizedProps)),r&1024&&(ml=!0);break;case 6:if(Dl(t,e),Al(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){ad(e,e.return,t)}}break;case 3:if(tp=null,a=Ol,Ol=Mf(t.containerInfo),Dl(t,e),Ol=a,Al(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jp(t.containerInfo)}catch(t){ad(e,e.return,t)}ml&&(ml=!1,jl(e));break;case 4:r=Ol,Ol=Mf(e.stateNode.containerInfo),Dl(t,e),Al(e),Ol=r;break;case 12:Dl(t,e),Al(e);break;case 31:Dl(t,e),Al(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,El(e,r)));break;case 13:Dl(t,e),Al(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pu=Ie()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,El(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=fl,d=pl;if(fl=u||a,pl=d||l,Dl(t,e),pl=d,fl=u,Al(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||fl||pl||Nl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){ad(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){ad(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?gf(m,!0):gf(l.stateNode,!1)}catch(e){ad(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,El(e,n))));break;case 19:Dl(t,e),Al(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,El(e,r)));break;case 30:break;case 21:break;default:Dl(t,e),Al(e)}}function Al(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(sl(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;ul(e,cl(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(tn(o,``),n.flags&=-33),ul(e,cl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,cl(e),s);break;default:throw Error(i(161))}}catch(t){ad(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vl(e,t.alternate,t),t=t.sibling}function Nl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:el(4,t,t.return),Nl(t);break;case 1:il(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&nl(t,t.return,n),Nl(t);break;case 27:kf(t.stateNode);case 26:case 5:il(t,t.return),Nl(t);break;case 22:t.memoizedState===null&&Nl(t);break;case 30:Nl(t);break;default:Nl(t)}e=e.sibling}}function Pl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Pl(i,a,n),$c(4,a);break;case 1:if(Pl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){ad(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)ao(c[i],s)}catch(e){ad(r,r.return,e)}}n&&o&64&&tl(a),rl(a,a.return);break;case 27:dl(a);case 26:case 5:Pl(i,a,n),n&&r===null&&o&4&&al(a),rl(a,a.return);break;case 12:Pl(i,a,n);break;case 31:Pl(i,a,n),n&&o&4&&Cl(i,a);break;case 13:Pl(i,a,n),n&&o&4&&wl(i,a);break;case 22:a.memoizedState===null&&Pl(i,a,n),rl(a,a.return);break;case 30:break;default:Pl(i,a,n)}t=t.sibling}}function Fl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&va(n))}function Il(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&va(e))}function Ll(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rl(e,t,n,r),t=t.sibling}function Rl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ll(e,t,n,r),i&2048&&$c(9,t);break;case 1:Ll(e,t,n,r);break;case 3:Ll(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&va(e)));break;case 12:if(i&2048){Ll(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){ad(t,t.return,e)}}else Ll(e,t,n,r);break;case 31:Ll(e,t,n,r);break;case 13:Ll(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Ll(e,t,n,r):(a._visibility|=2,zl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Ll(e,t,n,r):Bl(e,t),i&2048&&Fl(o,t);break;case 24:Ll(e,t,n,r),i&2048&&Il(t.alternate,t);break;default:Ll(e,t,n,r)}}function zl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:zl(a,o,s,c,i),$c(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,zl(a,o,s,c,i)):u._visibility&2?zl(a,o,s,c,i):Bl(a,o),i&&l&2048&&Fl(o.alternate,o);break;case 24:zl(a,o,s,c,i),i&&l&2048&&Il(o.alternate,o);break;default:zl(a,o,s,c,i)}t=t.sibling}}function Bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Bl(n,r),i&2048&&Fl(r.alternate,r);break;case 24:Bl(n,r),i&2048&&Il(r.alternate,r);break;default:Bl(n,r)}t=t.sibling}}var Vl=8192;function Hl(e,t,n){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Ul(e,t,n),e=e.sibling}function Ul(e,t,n){switch(e.tag){case 26:Hl(e,t,n),e.flags&Vl&&e.memoizedState!==null&&op(n,Ol,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,t,n);break;case 3:case 4:var r=Ol;Ol=Mf(e.stateNode.containerInfo),Hl(e,t,n),Ol=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Vl,Vl=16777216,Hl(e,t,n),Vl=r):Hl(e,t,n));break;default:Hl(e,t,n)}}function Wl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];gl=r,Jl(r,e)}Wl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&el(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ql(e)):Gl(e);break;default:Gl(e)}}function ql(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];gl=r,Jl(r,e)}Wl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:el(8,t,t.return),ql(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ql(t));break;default:ql(t)}e=e.sibling}}function Jl(e,t){for(;gl!==null;){var n=gl;switch(n.tag){case 0:case 11:case 15:el(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:va(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,gl=r;else a:for(n=e;gl!==null;){r=gl;var i=r.sibling,a=r.return;if(yl(r),r===n){gl=null;break a}if(i!==null){i.return=a,gl=i;break a}gl=a}}}var Yl={getCacheForType:function(e){var t=ua(ga),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ua(ga).controller.signal}},Xl=typeof WeakMap==`function`?WeakMap:Map,P=0,Zl=null,F=null,I=0,Ql=0,$l=null,eu=!1,tu=!1,nu=!1,ru=0,iu=0,au=0,ou=0,su=0,cu=0,lu=0,uu=null,du=null,fu=!1,pu=0,mu=0,hu=1/0,gu=null,_u=null,vu=0,yu=null,bu=null,xu=0,Su=0,Cu=null,wu=null,Tu=0,Eu=null;function Du(){return P&2&&I!==0?I&-I:E.T===null?mt():Ed()}function Ou(){if(cu===0)if(!(I&536870912)||A){var e=$e;$e<<=1,!($e&3932160)&&($e=262144),cu=e}else cu=536870912;return e=po.current,e!==null&&(e.flags|=32),cu}function ku(e,t,n){(e===Zl&&(Ql===2||Ql===9)||e.cancelPendingCommit!==null)&&(Iu(e,0),Nu(e,I,cu,!1)),st(e,n),(!(P&2)||e!==Zl)&&(e===Zl&&(!(P&2)&&(ou|=n),iu===4&&Nu(e,I,cu,!1)),vd(e))}function Au(e,t,n){if(P&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||rt(e,t),a=r?Wu(e,t):Hu(e,t,!0),o=r;do{if(a===0){tu&&!r&&Nu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Mu(n)){a=Hu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=uu;var l=c.current.memoizedState.isDehydrated;if(l&&(Iu(c,s).flags|=256),s=Hu(c,s,!1),s!==2){if(nu&&!l){c.errorRecoveryDisabledLanes|=o,ou|=o,a=4;break a}o=du,du=a,o!==null&&(du===null?du=o:du.push.apply(du,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Iu(e,0),Nu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Nu(r,t,cu,!eu);break a;case 2:du=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=pu+300-Ie(),10<a)){if(Nu(r,t,cu,!eu),nt(r,0,!0)!==0)break a;xu=t,r.timeoutHandle=lf(ju.bind(null,r,n,du,gu,fu,t,cu,ou,lu,eu,o,`Throttled`,-0,0),a);break a}ju(r,n,du,gu,fu,t,cu,ou,lu,eu,o,null,-0,0)}}break}while(1);vd(e)}function ju(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Ul(t,a,d);var m=(a&62914560)===a?pu-Ie():(a&4194048)===a?mu-Ie():0;if(m=cp(d,m),m!==null){xu=a,e.cancelPendingCommit=m(Zu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Nu(e,a,o,!l);return}}Zu(e,t,a,n,r,i,o,s,c)}function Mu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nu(e,t,n,r){t&=~su,t&=~ou,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Je(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&lt(e,n,t)}function Pu(){return P&6?!0:(yd(0,!1),!1)}function Fu(){if(F!==null){if(Ql===0)var e=F.return;else e=F,na=ta=null,zo(e),Va=null,Ha=0,e=F;for(;e!==null;)Qc(e.alternate,e),e=e.return;F=null}}function Iu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,uf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xu=0,Fu(),Zl=e,F=n=yi(e.current,null),I=t,Ql=0,$l=null,eu=!1,tu=rt(e,t),nu=!1,lu=cu=su=ou=au=iu=0,du=uu=null,fu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Je(r),a=1<<i;t|=e[i],r&=~a}return ru=t,li(),n}function Lu(e,t){M=null,E.H=Ys,t===ja||t===Na?(t=za(),Ql=3):t===Ma?(t=za(),Ql=4):Ql=t===pc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,$l=t,F===null&&(iu=1,sc(e,Di(t,e.current)))}function Ru(){var e=po.current;return e===null?!0:(I&4194048)===I?mo===null:(I&62914560)===I||I&536870912?e===mo:!1}function zu(){var e=E.H;return E.H=Ys,e===null?Ys:e}function Bu(){var e=E.A;return E.A=Yl,e}function Vu(){iu=4,eu||(I&4194048)!==I&&po.current!==null||(tu=!0),!(au&134217727)&&!(ou&134217727)||Zl===null||Nu(Zl,I,cu,!1)}function Hu(e,t,n){var r=P;P|=2;var i=zu(),a=Bu();(Zl!==e||I!==t)&&(gu=null,Iu(e,t)),t=!1;var o=iu;a:do try{if(Ql!==0&&F!==null){var s=F,c=$l;switch(Ql){case 8:Fu(),o=6;break a;case 3:case 2:case 9:case 6:po.current===null&&(t=!0);var l=Ql;if(Ql=0,$l=null,Ju(e,s,c,l),n&&tu){o=0;break a}break;default:l=Ql,Ql=0,$l=null,Ju(e,s,c,l)}}Uu(),o=iu;break}catch(t){Lu(e,t)}while(1);return t&&e.shellSuspendCounter++,na=ta=null,P=r,E.H=i,E.A=a,F===null&&(Zl=null,I=0,li()),o}function Uu(){for(;F!==null;)Ku(F)}function Wu(e,t){var n=P;P|=2;var r=zu(),a=Bu();Zl!==e||I!==t?(gu=null,hu=Ie()+500,Iu(e,t)):tu=rt(e,t);a:do try{if(Ql!==0&&F!==null){t=F;var o=$l;b:switch(Ql){case 1:Ql=0,$l=null,Ju(e,t,o,1);break;case 2:case 9:if(Fa(o)){Ql=0,$l=null,qu(t);break}t=function(){Ql!==2&&Ql!==9||Zl!==e||(Ql=7),vd(e)},o.then(t,t);break a;case 3:Ql=7;break a;case 4:Ql=5;break a;case 7:Fa(o)?(Ql=0,$l=null,qu(t)):(Ql=0,$l=null,Ju(e,t,o,7));break;case 5:var s=null;switch(F.tag){case 26:s=F.memoizedState;case 5:case 27:var c=F;if(s?ap(s):c.stateNode.complete){Ql=0,$l=null;var l=c.sibling;if(l!==null)F=l;else{var u=c.return;u===null?F=null:(F=u,Yu(u))}break b}}Ql=0,$l=null,Ju(e,t,o,5);break;case 6:Ql=0,$l=null,Ju(e,t,o,6);break;case 8:Fu(),iu=6;break a;default:throw Error(i(462))}}Gu();break}catch(t){Lu(e,t)}while(1);return na=ta=null,E.H=r,E.A=a,P=n,F===null?(Zl=null,I=0,li(),iu):0}function Gu(){for(;F!==null&&!Pe();)Ku(F)}function Ku(e){var t=Uc(e.alternate,e,ru);e.memoizedProps=e.pendingProps,t===null?Yu(e):F=t}function qu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Dc(n,t,t.pendingProps,t.type,void 0,I);break;case 11:t=Dc(n,t,t.pendingProps,t.type.render,t.ref,I);break;case 5:zo(t);default:Qc(n,t),t=F=bi(t,ru),t=Uc(n,t,ru)}e.memoizedProps=e.pendingProps,t===null?Yu(e):F=t}function Ju(e,t,n,r){na=ta=null,zo(t),Va=null,Ha=0;var i=t.return;try{if(fc(e,i,t,n,I)){iu=1,sc(e,Di(n,e.current)),F=null;return}}catch(t){if(i!==null)throw F=i,t;iu=1,sc(e,Di(n,e.current)),F=null;return}t.flags&32768?(A||r===1?e=!0:tu||I&536870912?e=!1:(eu=e=!0,(r===2||r===9||r===3||r===6)&&(r=po.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xu(t,e)):Yu(t)}function Yu(e){var t=e;do{if(t.flags&32768){Xu(t,eu);return}e=t.return;var n=Xc(t.alternate,t,ru);if(n!==null){F=n;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);iu===0&&(iu=5)}function Xu(e,t){do{var n=Zc(e.alternate,e);if(n!==null){n.flags&=32767,F=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=n}while(e!==null);iu=6,F=null}function Zu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do nd();while(vu!==0);if(P&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ci,ct(e,n,o,s,c,l),e===Zl&&(F=Zl=null,I=0),bu=t,yu=e,xu=n,Su=o,Cu=a,wu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,dd(Be,function(){return rd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=E.T,E.T=null,a=D.p,D.p=2,s=P,P|=4;try{_l(e,t,n)}finally{P=s,D.p=a,E.T=r}}vu=1,Qu(),$u(),ed()}}function Qu(){if(vu===1){vu=0;var e=yu,t=bu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=P;P|=4;try{kl(t,e);var a=tf,o=Ir(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Fr(s.ownerDocument.documentElement,s)){if(c!==null&&Lr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Pr(s,h),v=Pr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Sp=!!ef,tf=ef=null}finally{P=i,D.p=r,E.T=n}}e.current=t,vu=2}}function $u(){if(vu===2){vu=0;var e=yu,t=bu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=P;P|=4;try{vl(e,t.alternate,t)}finally{P=i,D.p=r,E.T=n}}vu=3}}function ed(){if(vu===4||vu===3){vu=0,Fe();var e=yu,t=bu,n=xu,r=wu;t.subtreeFlags&10256||t.flags&10256?vu=5:(vu=0,bu=yu=null,td(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(_u=null),pt(n),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot==`function`)try{Ke.onCommitFiberRoot(Ge,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=E.T,i=D.p,D.p=2,E.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{E.T=t,D.p=i}}xu&3&&nd(),vd(e),i=e.pendingLanes,n&261930&&i&42?e===Eu?Tu++:(Tu=0,Eu=e):Tu=0,yd(0,!1)}}function td(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,va(t)))}function nd(){return Qu(),$u(),ed(),rd()}function rd(){if(vu!==5)return!1;var e=yu,t=Su;Su=0;var n=pt(xu),r=E.T,a=D.p;try{D.p=32>n?32:n,E.T=null,n=Cu,Cu=null;var o=yu,s=xu;if(vu=0,bu=yu=null,xu=0,P&6)throw Error(i(331));var c=P;if(P|=4,Kl(o.current),Rl(o,o.current,s,n),P=c,yd(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot==`function`)try{Ke.onPostCommitFiberRoot(Ge,o)}catch{}return!0}finally{D.p=a,E.T=r,td(e,t)}}function id(e,t,n){t=Di(n,t),t=lc(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(st(e,2),vd(e))}function ad(e,t,n){if(e.tag===3)id(e,e,n);else for(;t!==null;){if(t.tag===3){id(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(_u===null||!_u.has(r))){e=Di(n,e),n=uc(2),r=$a(t,n,2),r!==null&&(dc(n,r,t,e),st(r,2),vd(r));break}}t=t.return}}function od(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(nu=!0,i.add(n),e=sd.bind(null,e,t,n),t.then(e,e))}function sd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Zl===e&&(I&n)===n&&(iu===4||iu===3&&(I&62914560)===I&&300>Ie()-pu?!(P&2)&&Iu(e,0):su|=n,lu===I&&(lu=0)),vd(e)}function cd(e,t){t===0&&(t=at()),e=fi(e,t),e!==null&&(st(e,t),vd(e))}function ld(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cd(e,n)}function ud(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),cd(e,n)}function dd(e,t){return Me(e,t)}var fd=null,pd=null,md=!1,hd=!1,gd=!1,_d=0;function vd(e){e!==pd&&e.next===null&&(pd===null?fd=pd=e:pd=pd.next=e),hd=!0,md||(md=!0,Td())}function yd(e,t){if(!gd&&hd){gd=!0;do for(var n=!1,r=fd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Je(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,wd(r,a))}else a=I,a=nt(r,r===Zl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||rt(r,a)||(n=!0,wd(r,a));r=r.next}while(n);gd=!1}}function bd(){xd()}function xd(){hd=md=!1;var e=0;_d!==0&&cf()&&(e=_d);for(var t=Ie(),n=null,r=fd;r!==null;){var i=r.next,a=Sd(r,t);a===0?(r.next=null,n===null?fd=i:n.next=i,i===null&&(pd=n)):(n=r,(e!==0||a&3)&&(hd=!0)),r=i}vu!==0&&vu!==5||yd(e,!1),_d!==0&&(_d=0)}function Sd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Je(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=it(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Zl,n=I,n=nt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ql===2||Ql===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ne(r),pt(n)){case 2:case 8:n=ze;break;case 32:n=Be;break;case 268435456:n=He;break;default:n=Be}return r=Cd.bind(null,e),n=Me(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Cd(e,t){if(vu!==0&&vu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nd()&&e.callbackNode!==n)return null;var r=I;return r=nt(e,e===Zl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Au(e,r,t),Sd(e,Ie()),e.callbackNode!=null&&e.callbackNode===n?Cd.bind(null,e):null)}function wd(e,t){if(nd())return null;Au(e,t,!0)}function Td(){ff(function(){P&6?Me(Re,bd):xd()})}function Ed(){if(_d===0){var e=xa;e===0&&(e=Qe,Qe<<=1,!(Qe&261888)&&(Qe=256)),_d=e}return _d}function Dd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:ln(``+e)}function Od(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=Dd((i[vt]||null).action),o=r.submitter;o&&(t=(t=o[vt]||null)?Dd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new jn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_d!==0){var e=o?Od(i,o):new FormData(i);Fs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Od(i,o):new FormData(i),Fs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var Ad=0;Ad<ri.length;Ad++){var jd=ri[Ad];ii(jd.toLowerCase(),`on`+(jd[0].toUpperCase()+jd.slice(1)))}ii(Yr,`onAnimationEnd`),ii(Xr,`onAnimationIteration`),ii(Zr,`onAnimationStart`),ii(`dblclick`,`onDoubleClick`),ii(`focusin`,`onFocus`),ii(`focusout`,`onBlur`),ii(Qr,`onTransitionRun`),ii($r,`onTransitionStart`),ii(ei,`onTransitionCancel`),ii(ti,`onTransitionEnd`),Pt(`onMouseEnter`,[`mouseout`,`mouseover`]),Pt(`onMouseLeave`,[`mouseout`,`mouseover`]),Pt(`onPointerEnter`,[`pointerout`,`pointerover`]),Pt(`onPointerLeave`,[`pointerout`,`pointerover`]),Nt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Nt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Nt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Nt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Md=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Nd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Md));function Pd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ai(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ai(e)}i.currentTarget=null,a=c}}}}function L(e,t){var n=t[bt];n===void 0&&(n=t[bt]=new Set);var r=e+`__bubble`;n.has(r)||(Rd(t,e,2,!1),n.add(r))}function Fd(e,t,n){var r=0;t&&(r|=4),Rd(n,e,r,t)}var Id=`_reactListening`+Math.random().toString(36).slice(2);function Ld(e){if(!e[Id]){e[Id]=!0,jt.forEach(function(t){t!==`selectionchange`&&(Nd.has(t)||Fd(t,!1,e),Fd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Id]||(t[Id]=!0,Fd(`selectionchange`,!1,t))}}function Rd(e,t,n,r){switch(kp(t)){case 2:var i=Cp;break;case 8:i=wp;break;default:i=Tp}n=i.bind(null,t,n,e),i=void 0,!bn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function zd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Et(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}_n(function(){var r=a,i=fn(n),s=[];a:{var c=ni.get(e);if(c!==void 0){var l=jn,u=e;switch(e){case`keypress`:if(En(n)===0)break a;case`keydown`:case`keyup`:l=Yn;break;case`focusin`:u=`focus`,l=Bn;break;case`focusout`:u=`blur`,l=Bn;break;case`beforeblur`:case`afterblur`:l=Bn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Rn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=zn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Zn;break;case Yr:case Xr:case Zr:l=Vn;break;case ti:l=Qn;break;case`scroll`:case`scrollend`:l=Nn;break;case`wheel`:l=$n;break;case`copy`:case`cut`:case`paste`:l=Hn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Xn;break;case`toggle`:case`beforetoggle`:l=er}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=vn(m,p),g!=null&&d.push(Bd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==dn&&(u=n.relatedTarget||n.fromElement)&&(Et(u)||u[yt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Et(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Rn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Xn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ot(l),h=u==null?c:Ot(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Et(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Hd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ud(s,c,l,d,!1),u!==null&&f!==null&&Ud(s,f,u,d,!0)}}a:{if(c=r?Ot(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=yr;else if(pr(c))if(br)v=kr;else{v=Dr;var y=Er}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&on(r.elementType)&&(v=yr):v=Or;if(v&&=v(e,r)){mr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Zt(c,`number`,c.value)}switch(y=r?Ot(r):window,e){case`focusin`:(pr(y)||y.contentEditable===`true`)&&(zr=y,Br=r,Vr=null);break;case`focusout`:Vr=Br=zr=null;break;case`mousedown`:Hr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Hr=!1,Ur(s,n,i);break;case`selectionchange`:if(Rr)break;case`keydown`:case`keyup`:Ur(s,n,i)}var b;if(tr)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else lr?sr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(ir&&n.locale!==`ko`&&(lr||x!==`onCompositionStart`?x===`onCompositionEnd`&&lr&&(b=Tn()):(Sn=i,Cn=`value`in Sn?Sn.value:Sn.textContent,lr=!0)),y=Vd(r,x),0<y.length&&(x=new Un(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=cr(n),b!==null&&(x.data=b)))),(b=rr?ur(e,n):dr(e,n))&&(x=Vd(r,`onBeforeInput`),0<x.length&&(y=new Un(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),kd(s,e,r,n,i)}Pd(s,t)})}function Bd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=vn(e,n),i!=null&&r.unshift(Bd(e,i,a)),i=vn(e,t),i!=null&&r.push(Bd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Hd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ud(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=vn(n,a),l!=null&&o.unshift(Bd(n,l,c))):i||(l=vn(n,a),l!=null&&o.push(Bd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Wd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Kd(e){return(typeof e==`string`?e:``+e).replace(Wd,`
`).replace(Gd,``)}function qd(e,t){return t=Kd(t),Kd(e)===t}function Jd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&tn(e,``+r);break;case`className`:Bt(e,`class`,r);break;case`tabIndex`:Bt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Bt(e,n,r);break;case`style`:an(e,r,o);break;case`data`:if(t!==`object`){Bt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Jd(e,t,`name`,a.name,a,null),Jd(e,t,`formEncType`,a.formEncType,a,null),Jd(e,t,`formMethod`,a.formMethod,a,null),Jd(e,t,`formTarget`,a.formTarget,a,null)):(Jd(e,t,`encType`,a.encType,a,null),Jd(e,t,`method`,a.method,a,null),Jd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=un);break;case`onScroll`:r!=null&&L(`scroll`,e);break;case`onScrollEnd`:r!=null&&L(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=ln(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:L(`beforetoggle`,e),L(`toggle`,e),zt(e,`popover`,r);break;case`xlinkActuate`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:zt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=sn.get(n)||n,zt(e,n,r))}}function Yd(e,t,n,r,a,o){switch(n){case`style`:an(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&tn(e,``+r);break;case`onScroll`:r!=null&&L(`scroll`,e);break;case`onScrollEnd`:r!=null&&L(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=un);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Mt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[vt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):zt(e,n,r)}}}function Xd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:L(`error`,e),L(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Jd(e,t,o,s,n,null)}}a&&Jd(e,t,`srcSet`,n.srcSet,n,null),r&&Jd(e,t,`src`,n.src,n,null);return;case`input`:L(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Jd(e,t,r,d,n,null)}}Xt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in L(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Jd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Qt(e,!!r,n,!0):Qt(e,!!r,t,!1);return;case`textarea`:for(s in L(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Jd(e,t,s,c,n,null)}en(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Jd(e,t,l,r,n,null)}return;case`dialog`:L(`beforetoggle`,e),L(`toggle`,e),L(`cancel`,e),L(`close`,e);break;case`iframe`:case`object`:L(`load`,e);break;case`video`:case`audio`:for(r=0;r<Md.length;r++)L(Md[r],e);break;case`image`:L(`error`,e),L(`load`,e);break;case`details`:L(`toggle`,e);break;case`embed`:case`source`:case`link`:L(`error`,e),L(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Jd(e,t,u,r,n,null)}return;default:if(on(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Yd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Jd(e,t,c,r,n,null))}function Zd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Jd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Jd(e,t,p,m,r,f)}}Yt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Jd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Jd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Qt(e,!!n,n?[]:``,!1):Qt(e,!!n,t,!0)):Qt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Jd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Jd(e,t,s,a,r,o)}$t(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Jd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Jd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Jd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Jd(e,t,u,p,r,m)}return;default:if(on(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Yd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Yd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Jd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Jd(e,t,f,p,r,m)}function Qd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function $d(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Qd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Qd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var ef=null,tf=null;function nf(e){return e.nodeType===9?e:e.ownerDocument}function rf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function af(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function of(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sf=null;function cf(){var e=window.event;return e&&e.type===`popstate`?e===sf?!1:(sf=e,!0):(sf=null,!1)}var lf=typeof setTimeout==`function`?setTimeout:void 0,uf=typeof clearTimeout==`function`?clearTimeout:void 0,df=typeof Promise==`function`?Promise:void 0,ff=typeof queueMicrotask==`function`?queueMicrotask:df===void 0?lf:function(e){return df.resolve(null).then(e).catch(pf)};function pf(e){setTimeout(function(){throw e})}function mf(e){return e===`head`}function hf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Jp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)kf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,kf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[wt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&kf(e.ownerDocument.body);n=i}while(n);Jp(t)}function gf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function _f(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:_f(n),Tt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function vf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[wt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=wf(e.nextSibling),e===null)break}return null}function yf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=wf(e.nextSibling),e===null))return null;return e}function bf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=wf(e.nextSibling),e===null))return null;return e}function xf(e){return e.data===`$?`||e.data===`$~`}function Sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function Cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function wf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Tf=null;function Ef(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return wf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Of(e,t,n){switch(t=nf(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function kf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tt(e)}var Af=new Map,jf=new Set;function Mf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nf=D.d;D.d={f:Pf,r:Ff,D:Rf,C:zf,L:Bf,m:Vf,X:Uf,S:Hf,M:Wf};function Pf(){var e=Nf.f(),t=Pu();return e||t}function Ff(e){var t=Dt(e);t!==null&&t.tag===5&&t.type===`form`?Ls(t):Nf.r(e)}var If=typeof document>`u`?null:document;function Lf(e,t,n){var r=If;if(r&&typeof t==`string`&&t){var i=Jt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),jf.has(i)||(jf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Xd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Rf(e){Nf.D(e),Lf(`dns-prefetch`,e,null)}function zf(e,t){Nf.C(e,t),Lf(`preconnect`,e,t)}function Bf(e,t,n){Nf.L(e,t,n);var r=If;if(r&&e&&t){var i=`link[rel="preload"][as="`+Jt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Jt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Jt(n.imageSizes)+`"]`)):i+=`[href="`+Jt(e)+`"]`;var a=i;switch(t){case`style`:a=Kf(e);break;case`script`:a=Yf(e)}Af.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Af.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(qf(a))||t===`script`&&r.querySelector(Xf(a))||(t=r.createElement(`link`),Xd(t,`link`,e),At(t),r.head.appendChild(t)))}}function Vf(e,t){Nf.m(e,t);var n=If;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Jt(r)+`"][href="`+Jt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Yf(e)}if(!Af.has(a)&&(e=f({rel:`modulepreload`,href:e},t),Af.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Xf(a)))return}r=n.createElement(`link`),Xd(r,`link`,e),At(r),n.head.appendChild(r)}}}function Hf(e,t,n){Nf.S(e,t,n);var r=If;if(r&&e){var i=kt(r).hoistableStyles,a=Kf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(qf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Af.get(a))&&$f(e,n);var c=o=r.createElement(`link`);At(c),Xd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Qf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Uf(e,t){Nf.X(e,t);var n=If;if(n&&e){var r=kt(n).hoistableScripts,i=Yf(e),a=r.get(i);a||(a=n.querySelector(Xf(i)),a||(e=f({src:e,async:!0},t),(t=Af.get(i))&&ep(e,t),a=n.createElement(`script`),At(a),Xd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Wf(e,t){Nf.M(e,t);var n=If;if(n&&e){var r=kt(n).hoistableScripts,i=Yf(e),a=r.get(i);a||(a=n.querySelector(Xf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=Af.get(i))&&ep(e,t),a=n.createElement(`script`),At(a),Xd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Gf(e,t,n,r){var a=(a=ve.current)?Mf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Kf(n.href),n=kt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Kf(n.href);var o=kt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(qf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Af.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Af.set(e,n),o||Jf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Yf(n),n=kt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kf(e){return`href="`+Jt(e)+`"`}function qf(e){return`link[rel="stylesheet"][`+e+`]`}function R(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Jf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Xd(t,`link`,n),At(t),e.head.appendChild(t))}function Yf(e){return`[src="`+Jt(e)+`"]`}function Xf(e){return`script[async]`+e}function Zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Jt(n.href)+`"]`);if(r)return t.instance=r,At(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),At(r),Xd(r,`style`,a),Qf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Kf(n.href);var o=e.querySelector(qf(a));if(o)return t.state.loading|=4,t.instance=o,At(o),o;r=R(n),(a=Af.get(a))&&$f(r,a),o=(e.ownerDocument||e).createElement(`link`),At(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Xd(o,`link`,r),t.state.loading|=4,Qf(o,n.precedence,e),t.instance=o;case`script`:return o=Yf(n.src),(a=e.querySelector(Xf(o)))?(t.instance=a,At(a),a):(r=n,(a=Af.get(o))&&(r=f({},n),ep(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),At(a),Xd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Qf(r,n.precedence,e));return t.instance}function Qf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function $f(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function ep(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var tp=null;function np(e,t,n){if(tp===null){var r=new Map,i=tp=new Map;i.set(n,r)}else i=tp,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[wt]||a[_t]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function rp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function ip(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function ap(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function op(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Kf(r.href),a=t.querySelector(qf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=lp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,At(a);return}a=t.ownerDocument||t,r=R(r),(i=Af.get(i))&&$f(r,i),a=a.createElement(`link`),At(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Xd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=lp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var sp=0;function cp(e,t){return e.stylesheets&&e.count===0&&dp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&sp===0&&(sp=62500*$d());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function lp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var up=null;function dp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,up=new Map,t.forEach(fp,e),up=null,lp.call(e))}function fp(e,t){if(!(t.state.loading&4)){var n=up.get(e);if(n)var r=n.get(null);else{n=new Map,up.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=lp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var pp={$$typeof:C,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function mp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function hp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new mp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=_i(3,null,null,t),e.current=a,a.stateNode=e,t=_a(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Xa(a),e}function gp(e){return e?(e=hi,e):hi}function _p(e,t,n,r,i,a){i=gp(i),r.context===null?r.context=i:r.pendingContext=i,r=Qa(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=$a(e,r,t),n!==null&&(ku(n,e,t),eo(n,e,t))}function vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yp(e,t){vp(e,t),(e=e.alternate)&&vp(e,t)}function bp(e){if(e.tag===13||e.tag===31){var t=fi(e,67108864);t!==null&&ku(t,e,67108864),yp(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=Du();t=ft(t);var n=fi(e,t);n!==null&&ku(n,e,t),yp(e,t)}}var Sp=!0;function Cp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=2,Tp(e,t,n,r)}finally{D.p=a,E.T=i}}function wp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=8,Tp(e,t,n,r)}finally{D.p=a,E.T=i}}function Tp(e,t,n,r){if(Sp){var i=Ep(r);if(i===null)zd(e,t,r,Dp,n),Rp(e,r);else if(Bp(i,e,t,n,r))r.stopPropagation();else if(Rp(e,r),t&4&&-1<Lp.indexOf(e)){for(;i!==null;){var a=Dt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=tt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Je(o);s.entanglements[1]|=c,o&=~c}vd(a),!(P&6)&&(hu=Ie()+500,yd(0,!1))}}break;case 31:case 13:s=fi(a,2),s!==null&&ku(s,a,2),Pu(),yp(a,2)}if(a=Ep(r),a===null&&zd(e,t,r,Dp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else zd(e,t,r,null,n)}}function Ep(e){return e=fn(e),Op(e)}var Dp=null;function Op(e){if(Dp=null,e=Et(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dp=e,null}function kp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Le()){case Re:return 2;case ze:return 8;case Be:case Ve:return 32;case He:return 268435456;default:return 32}default:return 32}}var Ap=!1,jp=null,Mp=null,Np=null,Pp=new Map,Fp=new Map,Ip=[],Lp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Rp(e,t){switch(e){case`focusin`:case`focusout`:jp=null;break;case`dragenter`:case`dragleave`:Mp=null;break;case`mouseover`:case`mouseout`:Np=null;break;case`pointerover`:case`pointerout`:Pp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Fp.delete(t.pointerId)}}function zp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dt(t),t!==null&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bp(e,t,n,r,i){switch(t){case`focusin`:return jp=zp(jp,e,t,n,r,i),!0;case`dragenter`:return Mp=zp(Mp,e,t,n,r,i),!0;case`mouseover`:return Np=zp(Np,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Pp.set(a,zp(Pp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Fp.set(a,zp(Fp.get(a)||null,e,t,n,r,i)),!0}return!1}function Vp(e){var t=Et(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ht(e.priority,function(){xp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ht(e.priority,function(){xp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ep(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dn=r,n.target.dispatchEvent(r),dn=null}else return t=Dt(n),t!==null&&bp(t),e.blockedOn=n,!1;t.shift()}return!0}function Up(e,t,n){Hp(e)&&n.delete(t)}function Wp(){Ap=!1,jp!==null&&Hp(jp)&&(jp=null),Mp!==null&&Hp(Mp)&&(Mp=null),Np!==null&&Hp(Np)&&(Np=null),Pp.forEach(Up),Fp.forEach(Up)}function Gp(e,n){e.blockedOn===n&&(e.blockedOn=null,Ap||(Ap=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wp)))}var Kp=null;function qp(e){Kp!==e&&(Kp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kp===e&&(Kp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(Op(r||n)===null)continue;break}var a=Dt(n);a!==null&&(e.splice(t,3),t-=3,Fs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Jp(e){function t(t){return Gp(t,e)}jp!==null&&Gp(jp,e),Mp!==null&&Gp(Mp,e),Np!==null&&Gp(Np,e),Pp.forEach(t),Fp.forEach(t);for(var n=0;n<Ip.length;n++){var r=Ip[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ip.length&&(n=Ip[0],n.blockedOn===null);)Vp(n),n.blockedOn===null&&Ip.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[vt]||null;if(typeof a==`function`)o||qp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[vt]||null)s=o.formAction;else if(Op(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),qp(n)}}}function Yp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Xp(e){this._internalRoot=e}Zp.prototype.render=Xp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;_p(n,Du(),e,t,null,null)},Zp.prototype.unmount=Xp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_p(e.current,2,null,e,null,null),Pu(),t[yt]=null}};function Zp(e){this._internalRoot=e}Zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ip.length&&t!==0&&t<Ip[n].priority;n++);Ip.splice(n,0,e),n===0&&Vp(e)}};var Qp=n.version;if(Qp!==`19.2.0`)throw Error(i(527,Qp,`19.2.0`));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var $p={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:E,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{Ge=em.inject($p),Ke=em}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=ic,s=ac,c=oc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=hp(e,1,!1,null,null,n,r,null,o,s,c,Yp),e[yt]=t.current,Ld(e),new Xp(t)}})),y=u(s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),1),b=u(_()),x=u(p());function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var C;(function(e){e.Pop=`POP`,e.Push=`PUSH`,e.Replace=`REPLACE`})(C||={});var w=`popstate`;function ee(e){e===void 0&&(e={});function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=oe(e.location.hash.substr(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),ie(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:ae(t))}function r(e,t){te(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(`+JSON.stringify(t)+`)`)}return se(t,n,r,e)}function T(e,t){if(e===!1||e==null)throw Error(t)}function te(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function ne(){return Math.random().toString(36).substr(2,8)}function re(e,t){return{usr:e.state,key:e.key,idx:t}}function ie(e,t,n,r){return n===void 0&&(n=null),S({pathname:typeof e==`string`?e:e.pathname,search:``,hash:``},typeof t==`string`?oe(t):t,{state:n,key:t&&t.key||r||ne()})}function ae(e){let{pathname:t=`/`,search:n=``,hash:r=``}=e;return n&&n!==`?`&&(t+=n.charAt(0)===`?`?n:`?`+n),r&&r!==`#`&&(t+=r.charAt(0)===`#`?r:`#`+r),t}function oe(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function se(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=C.Pop,c=null,l=u();l??(l=0,o.replaceState(S({},o.state,{idx:l}),``));function u(){return(o.state||{idx:null}).idx}function d(){s=C.Pop;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=C.Push;let r=ie(h.location,e,t);n&&n(r,e),l=u()+1;let d=re(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=C.Replace;let r=ie(h.location,e,t);n&&n(r,e),l=u();let i=re(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){let t=i.location.origin===`null`?i.location.href:i.location.origin,n=typeof e==`string`?e:ae(e);return n=n.replace(/ $/,`%20`),T(t,`No window.location.(origin|href) available to create URL for href: `+n),new URL(n,t)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(w,d),c=e,()=>{i.removeEventListener(w,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}var ce;(function(e){e.data=`data`,e.deferred=`deferred`,e.redirect=`redirect`,e.error=`error`})(ce||={});function le(e,t,n){return n===void 0&&(n=`/`),E(e,t,n,!1)}function E(e,t,n,r){let i=Te((typeof t==`string`?oe(t):t).pathname||`/`,n);if(i==null)return null;let a=D(e);de(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=we(i);o=xe(a[e],t,r)}return o}function D(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=``);let i=(e,i,a)=>{let o={relativePath:a===void 0?e.path||``:a,caseSensitive:e.caseSensitive===!0,childrenIndex:i,route:e};o.relativePath.startsWith(`/`)&&(T(o.relativePath.startsWith(r),`Absolute route path "`+o.relativePath+`" nested under path `+(`"`+r+`" is not valid. An absolute child route path `)+`must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let s=Pe([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(T(e.index!==!0,`Index routes must not have child routes. Please remove `+(`all child routes from route path "`+s+`".`)),D(e.children,t,c,s)),!(e.path==null&&!e.index)&&t.push({path:s,score:ye(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(e.path===``||!((n=e.path)!=null&&n.includes(`?`)))i(e,t);else for(let n of ue(e.path))i(e,t,n)}),t}function ue(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=ue(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function de(e){e.sort((e,t)=>e.score===t.score?be(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var fe=/^:[\w-]+$/,pe=3,me=2,he=1,ge=10,_e=-2,ve=e=>e===`*`;function ye(e,t){let n=e.split(`/`),r=n.length;return n.some(ve)&&(r+=_e),t&&(r+=me),n.filter(e=>!ve(e)).reduce((e,t)=>e+(fe.test(t)?pe:t===``?he:ge),r)}function be(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function xe(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=Se({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Se({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Pe([a,u.pathname]),pathnameBase:Fe(Pe([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Pe([a,u.pathnameBase]))}return o}function Se(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ce(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if(r===`*`){let e=s[n]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let c=s[n];return i&&!c?e[r]=void 0:e[r]=(c||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function Ce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),te(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "`+e+`" will be treated as if it were `+(`"`+e.replace(/\*$/,`/*`)+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+(`please change the route path to "`+e.replace(/\*$/,`/*`)+`".`));let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`));return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function we(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return te(!1,`The URL path "`+e+`" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent `+(`encoding (`+t+`).`)),e}}function Te(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=e=>Ee.test(e);function Oe(e,t){t===void 0&&(t=`/`);let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?oe(e):e,a;if(n)if(De(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),te(!1,`Pathnames cannot have embedded double slashes - normalizing `+(e+` -> `+n))}a=n.startsWith(`/`)?ke(n.substring(1),`/`):ke(n,t)}else a=t;return{pathname:a,search:Ie(r),hash:Le(i)}}function ke(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Ae(e,t,n,r){return`Cannot include a '`+e+`' character in a manually specified `+("`to."+t+"` field ["+JSON.stringify(r)+`].  Please separate it out to the `)+("`to."+n+"` field. Alternatively you may provide the full path as ")+`a string in <Link to="..."> and the router will parse it for you.`}function je(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Me(e,t){let n=je(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Ne(e,t,n,r){r===void 0&&(r=!1);let i;typeof e==`string`?i=oe(e):(i=S({},e),T(!i.pathname||!i.pathname.includes(`?`),Ae(`?`,`pathname`,`search`,i)),T(!i.pathname||!i.pathname.includes(`#`),Ae(`#`,`pathname`,`hash`,i)),T(!i.search||!i.search.includes(`#`),Ae(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Oe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Pe=e=>e.join(`/`).replace(/\/\/+/g,`/`),Fe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ie=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Le=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function Re(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}var Be=x.createContext(null),Ve=x.createContext(null),He=x.createContext(null),Ue=x.createContext(null),We=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Ge=x.createContext(null);function Ke(){return x.useContext(Ue)!=null}function qe(){return!Ke()&&T(!1),x.useContext(Ue).location}function Je(e){x.useContext(He).static||x.useLayoutEffect(e)}function Ye(){let{isDataRoute:e}=x.useContext(We);return e?pt():Xe()}function Xe(){!Ke()&&T(!1);let e=x.useContext(Be),{basename:t,future:n,navigator:r}=x.useContext(He),{matches:i}=x.useContext(We),{pathname:a}=qe(),o=JSON.stringify(Me(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return Je(()=>{s.current=!0}),x.useCallback(function(n,i){if(i===void 0&&(i={}),!s.current)return;if(typeof n==`number`){r.go(n);return}let c=Ne(n,JSON.parse(o),a,i.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Pe([t,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[t,r,o,a,e])}var Ze=x.createContext(null);function Qe(e){let t=x.useContext(We).outlet;return t&&x.createElement(Ze.Provider,{value:e},t)}function $e(e,t){return et(e,t)}function et(e,t,n,r){!Ke()&&T(!1);let{navigator:i}=x.useContext(He),{matches:a}=x.useContext(We),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:`/`;o&&o.route;let l=qe(),u;if(t){let e=typeof t==`string`?oe(t):t;!(c===`/`||e.pathname?.startsWith(c))&&T(!1),u=e}else u=l;let d=u.pathname||`/`,f=d;if(c!==`/`){let e=c.replace(/^\//,``).split(`/`);f=`/`+d.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let p=le(e,{pathname:f}),m=at(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Pe([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?c:Pe([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&m?x.createElement(Ue.Provider,{value:{location:ze({pathname:`/`,search:``,hash:``,state:null,key:`default`},u),navigationType:C.Pop}},m):m}function tt(){let e=ft(),t=Re(e)?e.status+` `+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return x.createElement(x.Fragment,null,x.createElement(`h2`,null,`Unexpected Application Error!`),x.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?x.createElement(`pre`,{style:{padding:`0.5rem`,backgroundColor:`rgba(200,200,200, 0.5)`}},n):null,null)}var nt=x.createElement(tt,null),rt=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error(`React Router caught the following error during render`,e,t)}render(){return this.state.error===void 0?this.props.children:x.createElement(We.Provider,{value:this.props.routeContext},x.createElement(Ge.Provider,{value:this.state.error,children:this.props.component}))}};function it(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Be);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(We.Provider,{value:t},r)}function at(e,t,n,r){if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);!(e>=0)&&T(!1),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&e[t.route.id]===void 0&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let l,u=!1,d=null,f=null;n&&(l=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||nt,s&&(c<0&&i===0?(ht(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):c===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=l?d:u?f:r.route.Component?x.createElement(r.route.Component,null):r.route.element?r.route.element:e,x.createElement(it,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?x.createElement(rt,{location:n.location,revalidation:n.revalidation,component:d,error:l,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var ot=function(e){return e.UseBlocker=`useBlocker`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e}(ot||{}),st=function(e){return e.UseBlocker=`useBlocker`,e.UseLoaderData=`useLoaderData`,e.UseActionData=`useActionData`,e.UseRouteError=`useRouteError`,e.UseNavigation=`useNavigation`,e.UseRouteLoaderData=`useRouteLoaderData`,e.UseMatches=`useMatches`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e.UseRouteId=`useRouteId`,e}(st||{});function ct(e){let t=x.useContext(Be);return!t&&T(!1),t}function lt(e){let t=x.useContext(Ve);return!t&&T(!1),t}function ut(e){let t=x.useContext(We);return!t&&T(!1),t}function dt(e){let t=ut(e),n=t.matches[t.matches.length-1];return!n.route.id&&T(!1),n.route.id}function ft(){let e=x.useContext(Ge),t=lt(st.UseRouteError),n=dt(st.UseRouteError);return e===void 0?t.errors?.[n]:e}function pt(){let{router:e}=ct(ot.UseNavigateStable),t=dt(st.UseNavigateStable),n=x.useRef(!1);return Je(()=>{n.current=!0}),x.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r==`number`?e.navigate(r):e.navigate(r,ze({fromRouteId:t},i)))},[e,t])}var mt={};function ht(e,t,n){!t&&!mt[e]&&(mt[e]=!0)}var gt=(e,t,n)=>(``+t+("You can use the `"+e+"` future flag to opt-in early. ")+(`For more information, see `+n+`.`),void 0);function _t(e,t){e?.v7_startTransition===void 0&&gt(`v7_startTransition`,"React Router will begin wrapping state updates in `React.startTransition` in v7",`https://reactrouter.com/v6/upgrading/future#v7_starttransition`),e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath===void 0)&&gt(`v7_relativeSplatPath`,`Relative route resolution within Splat routes is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath`),t&&(t.v7_fetcherPersist===void 0&&gt(`v7_fetcherPersist`,`The persistence behavior of fetchers is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist`),t.v7_normalizeFormMethod===void 0&&gt(`v7_normalizeFormMethod`,"Casing of `formMethod` fields is being normalized to uppercase in v7",`https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod`),t.v7_partialHydration===void 0&&gt(`v7_partialHydration`,"`RouterProvider` hydration behavior is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_partialhydration`),t.v7_skipActionErrorRevalidation===void 0&&gt(`v7_skipActionErrorRevalidation`,"The revalidation behavior after 4xx/5xx `action` responses is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation`))}x.startTransition;function vt(e){let{to:t,replace:n,state:r,relative:i}=e;!Ke()&&T(!1);let{future:a,static:o}=x.useContext(He),{matches:s}=x.useContext(We),{pathname:c}=qe(),l=Ye(),u=Ne(t,Me(s,a.v7_relativeSplatPath),c,i===`path`),d=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(d),{replace:n,state:r,relative:i}),[l,d,i,n,r]),null}function yt(e){return Qe(e.context)}function bt(e){T(!1)}function xt(e){let{basename:t=`/`,children:n=null,location:r,navigationType:i=C.Pop,navigator:a,static:o=!1,future:s}=e;Ke()&&T(!1);let c=t.replace(/^\/*/,`/`),l=x.useMemo(()=>({basename:c,navigator:a,static:o,future:ze({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r==`string`&&(r=oe(r));let{pathname:u=`/`,search:d=``,hash:f=``,state:p=null,key:m=`default`}=r,h=x.useMemo(()=>{let e=Te(u,c);return e==null?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:i}},[c,u,d,f,p,m,i]);return h==null?null:x.createElement(He.Provider,{value:l},x.createElement(Ue.Provider,{children:n,value:h}))}function St(e){let{children:t,location:n}=e;return $e(Ct(t),n)}new Promise(()=>{});function Ct(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(e,r)=>{if(!x.isValidElement(e))return;let i=[...t,r];if(e.type===x.Fragment){n.push.apply(n,Ct(e.props.children,i));return}e.type!==bt&&T(!1),!(!e.props.index||!e.props.children)&&T(!1);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ct(e.props.children,i)),n.push(a)}),n}var wt=`6`;try{window.__reactRouterVersion=wt}catch{}var Tt=x.startTransition;b.flushSync,x.useId;function Et(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current??=ee({window:i,v5Compat:!0});let o=a.current,[s,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=x.useCallback(e=>{l&&Tt?Tt(()=>c(e)):c(e)},[c,l]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>_t(r),[r]),x.createElement(xt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}typeof window<`u`&&window.document!==void 0&&window.document.createElement;var Dt;(function(e){e.UseScrollRestoration=`useScrollRestoration`,e.UseSubmit=`useSubmit`,e.UseSubmitFetcher=`useSubmitFetcher`,e.UseFetcher=`useFetcher`,e.useViewTransitionState=`useViewTransitionState`})(Dt||={});var Ot;(function(e){e.UseFetcher=`useFetcher`,e.UseFetchers=`useFetchers`,e.UseScrollRestoration=`useScrollRestoration`})(Ot||={});var kt=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),At=s(((e,t)=>{t.exports=kt()})),jt=(0,x.createContext)({});function Mt(e){let t=(0,x.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Nt=typeof window<`u`,Pt=Nt?x.useLayoutEffect:x.useEffect,Ft=(0,x.createContext)(null);function It(e,t){e.indexOf(t)===-1&&e.push(t)}function Lt(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Rt=(e,t,n)=>n>t?t:n<e?e:n,zt={},Bt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Vt(e){return typeof e==`object`&&!!e}var O=e=>/^0[^.\s]+$/u.test(e);function Ht(e){let t;return()=>(t===void 0&&(t=e()),t)}var Ut=e=>e,Wt=(e,t)=>n=>t(e(n)),Gt=(...e)=>e.reduce(Wt),Kt=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},qt=class{constructor(){this.subscriptions=[]}add(e){return It(this.subscriptions,e),()=>Lt(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},Jt=e=>e*1e3,Yt=e=>e/1e3;function Xt(e,t){return t?e*(1e3/t):0}var Zt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qt=1e-7,$t=12;function en(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Zt(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Qt&&++s<$t);return o}function tn(e,t,n,r){if(e===t&&n===r)return Ut;let i=t=>en(t,0,1,e,n);return e=>e===0||e===1?e:Zt(i(e),t,r)}var nn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rn=e=>t=>1-e(1-t),an=tn(.33,1.53,.69,.99),on=rn(an),sn=nn(on),cn=e=>(e*=2)<1?.5*on(e):.5*(2-2**(-10*(e-1))),ln=e=>1-Math.sin(Math.acos(e)),un=rn(ln),dn=nn(ln),fn=tn(.42,0,1,1),pn=tn(0,0,.58,1),mn=tn(.42,0,.58,1),hn=e=>Array.isArray(e)&&typeof e[0]!=`number`,gn=e=>Array.isArray(e)&&typeof e[0]==`number`,_n={linear:Ut,easeIn:fn,easeInOut:mn,easeOut:pn,circIn:ln,circInOut:dn,circOut:un,backIn:on,backInOut:sn,backOut:an,anticipate:cn},vn=e=>typeof e==`string`,yn=e=>{if(gn(e)){e.length;let[t,n,r,i]=e;return tn(t,n,r,i)}else if(vn(e))return _n[e],`${e}`,_n[e];return e},bn=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],xn={value:null,addProjectionMetrics:null};function Sn(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&xn.value&&xn.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var Cn=40;function wn(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=bn.reduce((e,n)=>(e[n]=Sn(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=zt.useManualTiming?i.timestamp:performance.now();n=!1,zt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,Cn),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:bn.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<bn.length;t++)o[bn[t]].cancel(e)},state:i,steps:o}}var{schedule:Tn,cancel:En,state:Dn,steps:On}=wn(typeof requestAnimationFrame<`u`?requestAnimationFrame:Ut,!0),kn;function An(){kn=void 0}var jn={now:()=>(kn===void 0&&jn.set(Dn.isProcessing||zt.useManualTiming?Dn.timestamp:performance.now()),kn),set:e=>{kn=e,queueMicrotask(An)}},Mn={layout:0,mainThread:0,waapi:0},Nn=e=>t=>typeof t==`string`&&t.startsWith(e),Pn=Nn(`--`),Fn=Nn(`var(--`),In=e=>Fn(e)?Ln.test(e.split(`/*`)[0].trim()):!1,Ln=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rn={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},zn={...Rn,transform:e=>Rt(0,1,e)},Bn={...Rn,default:1},Vn=e=>Math.round(e*1e5)/1e5,Hn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Un(e){return e==null}var Wn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gn=(e,t)=>n=>!!(typeof n==`string`&&Wn.test(n)&&n.startsWith(e)||t&&!Un(n)&&Object.prototype.hasOwnProperty.call(n,t)),Kn=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(Hn);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},qn=e=>Rt(0,255,e),Jn={...Rn,transform:e=>Math.round(qn(e))},Yn={test:Gn(`rgb`,`red`),parse:Kn(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+Jn.transform(e)+`, `+Jn.transform(t)+`, `+Jn.transform(n)+`, `+Vn(zn.transform(r))+`)`};function Xn(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var Zn={test:Gn(`#`),parse:Xn,transform:Yn.transform},Qn=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$n=Qn(`deg`),er=Qn(`%`),k=Qn(`px`),tr=Qn(`vh`),nr=Qn(`vw`),rr=(()=>({...er,parse:e=>er.parse(e)/100,transform:e=>er.transform(e*100)}))(),ir={test:Gn(`hsl`,`hue`),parse:Kn(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+er.transform(Vn(t))+`, `+er.transform(Vn(n))+`, `+Vn(zn.transform(r))+`)`},ar={test:e=>Yn.test(e)||Zn.test(e)||ir.test(e),parse:e=>Yn.test(e)?Yn.parse(e):ir.test(e)?ir.parse(e):Zn.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?Yn.transform(e):ir.transform(e),getAnimatableNone:e=>{let t=ar.parse(e);return t.alpha=0,ar.transform(t)}},or=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sr(e){return isNaN(e)&&typeof e==`string`&&(e.match(Hn)?.length||0)+(e.match(or)?.length||0)>0}var cr=`number`,lr=`color`,ur=`var`,dr=`var(`,fr="${}",pr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mr(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(pr,e=>(ar.test(e)?(r.color.push(a),i.push(lr),n.push(ar.parse(e))):e.startsWith(dr)?(r.var.push(a),i.push(ur),n.push(e)):(r.number.push(a),i.push(cr),n.push(parseFloat(e))),++a,fr)).split(fr),indexes:r,types:i}}function hr(e){return mr(e).values}function gr(e){let{split:t,types:n}=mr(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===cr?i+=Vn(e[a]):t===lr?i+=ar.transform(e[a]):i+=e[a]}return i}}var _r=e=>typeof e==`number`?0:ar.test(e)?ar.getAnimatableNone(e):e;function vr(e){let t=hr(e);return gr(e)(t.map(_r))}var yr={test:sr,parse:hr,createTransformer:gr,getAnimatableNone:vr};function br(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xr({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=br(s,r,e+1/3),a=br(s,r,e),o=br(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Sr(e,t){return n=>n>0?t:e}var Cr=(e,t,n)=>e+(t-e)*n,wr=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Tr=[Zn,Yn,ir],Er=e=>Tr.find(t=>t.test(e));function Dr(e){let t=Er(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===ir&&(n=xr(n)),n}var Or=(e,t)=>{let n=Dr(e),r=Dr(t);if(!n||!r)return Sr(e,t);let i={...n};return e=>(i.red=wr(n.red,r.red,e),i.green=wr(n.green,r.green,e),i.blue=wr(n.blue,r.blue,e),i.alpha=Cr(n.alpha,r.alpha,e),Yn.transform(i))},kr=new Set([`none`,`hidden`]);function Ar(e,t){return kr.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jr(e,t){return n=>Cr(e,t,n)}function Mr(e){return typeof e==`number`?jr:typeof e==`string`?In(e)?Sr:ar.test(e)?Or:Ir:Array.isArray(e)?Nr:typeof e==`object`?ar.test(e)?Or:Pr:Sr}function Nr(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>Mr(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Pr(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Mr(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function Fr(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var Ir=(e,t)=>{let n=yr.createTransformer(t),r=mr(e),i=mr(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kr.has(e)&&!i.values.length||kr.has(t)&&!r.values.length?Ar(e,t):Gt(Nr(Fr(r,i),i.values),n):(`${e}${t}`,Sr(e,t))};function Lr(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?Cr(e,t,n):Mr(e)(e,t)}var Rr=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>Tn.update(t,e),stop:()=>En(t),now:()=>Dn.isProcessing?Dn.timestamp:jn.now()}},zr=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},Br=2e4;function Vr(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function Hr(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(Vr(r),Br);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:Yt(i)}}var Ur=5;function Wr(e,t,n){let r=Math.max(t-Ur,0);return Xt(n-e(r),t-r)}var Gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kr=.001;function qr({duration:e=Gr.duration,bounce:t=Gr.bounce,velocity:n=Gr.velocity,mass:r=Gr.mass}){let i,a;Gr.maxDuration;let o=1-t;o=Rt(Gr.minDamping,Gr.maxDamping,o),e=Rt(Gr.minDuration,Gr.maxDuration,Yt(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=Xr(t,o),c=Math.exp(-i);return Kr-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=Xr(t**2,o);return(-i(t)+Kr>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-Kr+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=Yr(i,a,s);if(e=Jt(e),isNaN(c))return{stiffness:Gr.stiffness,damping:Gr.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var Jr=12;function Yr(e,t,n){let r=n;for(let n=1;n<Jr;n++)r-=e(r)/t(r);return r}function Xr(e,t){return e*Math.sqrt(1-t*t)}var Zr=[`duration`,`bounce`],Qr=[`stiffness`,`damping`,`mass`];function $r(e,t){return t.some(t=>e[t]!==void 0)}function ei(e){let t={velocity:Gr.velocity,stiffness:Gr.stiffness,damping:Gr.damping,mass:Gr.mass,isResolvedFromDuration:!1,...e};if(!$r(e,Qr)&&$r(e,Zr))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Rt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Gr.mass,stiffness:i,damping:a}}else{let n=qr(e);t={...t,...n,mass:Gr.mass},t.isResolvedFromDuration=!0}return t}function ti(e=Gr.visualDuration,t=Gr.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=ei({...n,velocity:-Yt(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=Yt(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?Gr.restSpeed.granular:Gr.restSpeed.default,i||=v?Gr.restDelta.granular:Gr.restDelta.default;let y;if(h<1){let e=Xr(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?Jt(m):Wr(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(Vr(b),Br),t=zr(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}ti.applyToOptions=e=>{let t=Hr(e,100,ti);return e.ease=t.ease,e.duration=Jt(t.duration),e.type=`keyframes`,e};function ni({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=ti({keyframes:[f.value,m(f.value)],velocity:Wr(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function ri(e,t,n){let r=[],i=n||zt.mix||Lr,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=Gt(Array.isArray(t)?t[n]||Ut:t,a)),r.push(a)}return r}function ii(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=ri(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=Kt(e[r],e[r+1],n);return s[r](i)};return n?t=>l(Rt(e[0],e[a-1],t)):l}function ai(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=Kt(0,t,r);e.push(Cr(n,1,i))}}function oi(e){let t=[0];return ai(t,e.length-1),t}function si(e,t){return e.map(e=>e*t)}function ci(e,t){return e.map(()=>t||mn).splice(0,e.length-1)}function li({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=hn(r)?r.map(yn):yn(r),a={done:!1,value:t[0]},o=ii(si(n&&n.length===t.length?n:oi(t),e),t,{ease:Array.isArray(i)?i:ci(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var ui=e=>e!==null;function di(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(ui),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var fi={decay:ni,inertia:ni,tween:li,keyframes:li,spring:ti};function pi(e){typeof e.type==`string`&&(e.type=fi[e.type])}var mi=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},hi=e=>e/100,gi=class extends mi{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},Mn.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;pi(e);let{type:t=li,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||li;s!==li&&typeof o[0]!=`number`&&(this.mixKeyframes=Gt(hi,Lr(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Vr(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=Rt(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==ni&&(b.value=di(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Yt(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(this.currentTime)}set time(e){e=Jt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jn.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yt(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=Rr,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,Mn.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function _i(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var vi=e=>e*180/Math.PI,yi=e=>xi(vi(Math.atan2(e[1],e[0]))),bi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yi,rotateZ:yi,skewX:e=>vi(Math.atan(e[1])),skewY:e=>vi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xi=e=>(e%=360,e<0&&(e+=360),e),Si=yi,Ci=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ti={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ci,scaleY:wi,scale:e=>(Ci(e)+wi(e))/2,rotateX:e=>xi(vi(Math.atan2(e[6],e[5]))),rotateY:e=>xi(vi(Math.atan2(-e[2],e[0]))),rotateZ:Si,rotate:Si,skewX:e=>vi(Math.atan(e[4])),skewY:e=>vi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ei(e){return e.includes(`scale`)?1:0}function Di(e,t){if(!e||e===`none`)return Ei(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=Ti,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bi,i=t}if(!i)return Ei(t);let a=r[t],o=i[1].split(`,`).map(ki);return typeof a==`function`?a(o):o[a]}var Oi=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return Di(n,t)};function ki(e){return parseFloat(e.trim())}var Ai=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],ji=(()=>new Set(Ai))(),Mi=e=>e===Rn||e===k,Ni=new Set([`x`,`y`,`z`]),Pi=Ai.filter(e=>!Ni.has(e));function Fi(e){let t=[];return Pi.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var Ii={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Di(t,`x`),y:(e,{transform:t})=>Di(t,`y`)};Ii.translateX=Ii.x,Ii.translateY=Ii.y;var Li=new Set,Ri=!1,zi=!1,Bi=!1;function Vi(){if(zi){let e=Array.from(Li).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=Fi(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}zi=!1,Ri=!1,Li.forEach(e=>e.complete(Bi)),Li.clear()}function Hi(){Li.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(zi=!0)})}function Ui(){Bi=!0,Hi(),Vi(),Bi=!1}var A=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(Li.add(this),Ri||(Ri=!0,Tn.read(Hi),Tn.resolveKeyframes(Vi))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}_i(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Li.delete(this)}cancel(){this.state===`scheduled`&&(Li.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},Wi=e=>e.startsWith(`--`);function Gi(e,t,n){Wi(t)?e.style.setProperty(t,n):e.style[t]=n}var Ki=Ht(()=>window.ScrollTimeline!==void 0),qi={};function Ji(e,t){let n=Ht(e);return()=>qi[t]??n()}var Yi=Ji(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),Xi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Zi={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:Xi([0,.65,.55,1]),circOut:Xi([.55,0,1,.45]),backIn:Xi([.31,.01,.66,-.59]),backOut:Xi([.33,1.53,.69,.99])};function Qi(e,t){if(e)return typeof e==`function`?Yi()?zr(e,t):`ease-out`:gn(e)?Xi(e):Array.isArray(e)?e.map(e=>Qi(e,t)||Zi.easeOut):Zi[e]}function $i(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=Qi(s,i);Array.isArray(d)&&(u.easing=d),xn.value&&Mn.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return xn.value&&p.finished.finally(()=>{Mn.waapi--}),p}function ea(e){return typeof e==`function`&&`applyToOptions`in e}function ta({type:e,...t}){return ea(e)&&Yi()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var na=class extends mi{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=ta(e);this.animation=$i(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=di(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):Gi(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return Yt(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Jt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&Ki()?(this.animation.timeline=e,Ut):t(this)}},ra={anticipate:cn,backInOut:sn,circInOut:dn};function ia(e){return e in ra}function aa(e){typeof e.ease==`string`&&ia(e.ease)&&(e.ease=ra[e.ease])}var oa=10,sa=class extends na{constructor(e){aa(e),pi(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new gi({...a,autoplay:!1}),s=Jt(this.finishedTime??this.time);t.setWithVelocity(o.sample(s-oa).value,o.sample(s).value,oa),o.stop()}},ca=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(yr.test(e)||e===`0`)&&!e.startsWith(`url(`));function la(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ua(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=ca(i,t),s=ca(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:la(e)||(n===`spring`||ea(n))&&r}function da(e){e.duration=0,e.type=`keyframes`}var fa=new Set([`opacity`,`clipPath`,`filter`,`transform`]),pa=Ht(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function ma(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return pa()&&n&&fa.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var ha=40,ga=class extends mi{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=jn.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||A)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=jn.now(),ua(e,i,a,o)||((zt.instantAnimations||!s)&&l?.(di(e,n,t)),e[0]=e[e.length-1],da(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>ha?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&ma(u)?new sa({...u,element:u.motionValue.owner.current}):new gi(u);d.finished.then(()=>this.notifyFinished()).catch(Ut),this.pendingTimeline&&=(this.stopTimeline=d.attachTimeline(this.pendingTimeline),void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ui()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}},_a=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function va(e){let t=_a.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function ya(e,t,n=1){`${e}`;let[r,i]=va(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Bt(e)?parseFloat(e):e}return In(i)?ya(i,t,n+1):i}function ba(e,t){return e?.[t]??e?.default??e}var xa=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...Ai]),Sa={test:e=>e===`auto`,parse:e=>e},Ca=e=>t=>t.test(e),wa=[Rn,k,er,$n,nr,tr,Sa],Ta=e=>wa.find(Ca(e));function Ea(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||O(e)}var Da=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function Oa(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(Hn)||[];if(!r)return e;let i=n.replace(r,``),a=Da.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var ka=/\b([a-z-]*)\(.*?\)/gu,Aa={...yr,getAnimatableNone:e=>{let t=e.match(ka);return t?t.map(Oa).join(` `):e}},ja={...Rn,transform:Math.round},Ma={borderWidth:k,borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderRadius:k,radius:k,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomRightRadius:k,borderBottomLeftRadius:k,width:k,maxWidth:k,height:k,maxHeight:k,top:k,right:k,bottom:k,left:k,padding:k,paddingTop:k,paddingRight:k,paddingBottom:k,paddingLeft:k,margin:k,marginTop:k,marginRight:k,marginBottom:k,marginLeft:k,backgroundPositionX:k,backgroundPositionY:k,rotate:$n,rotateX:$n,rotateY:$n,rotateZ:$n,scale:Bn,scaleX:Bn,scaleY:Bn,scaleZ:Bn,skew:$n,skewX:$n,skewY:$n,distance:k,translateX:k,translateY:k,translateZ:k,x:k,y:k,z:k,perspective:k,transformPerspective:k,opacity:zn,originX:rr,originY:rr,originZ:k,zIndex:ja,fillOpacity:zn,strokeOpacity:zn,numOctaves:ja},Na={...Ma,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:Aa,WebkitFilter:Aa},Pa=e=>Na[e];function Fa(e,t){let n=Pa(e);return n!==Aa&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Ia=new Set([`auto`,`none`,`0`]);function La(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!Ia.has(t)&&mr(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=Fa(n,i)}var Ra=class extends A{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),In(r))){let i=ya(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!xa.has(n)||e.length!==2)return;let[r,i]=e,a=Ta(r),o=Ta(i);if(a!==o)if(Mi(a)&&Mi(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else Ii[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||Ea(e[t]))&&n.push(t);n.length&&La(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ii[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=Ii[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}};function za(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}var Ba=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function Va(e){return Vt(e)&&`offsetHeight`in e}var Ha=30,Ua=e=>!isNaN(parseFloat(e)),Wa={current:void 0},Ga=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=jn.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ua(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new qt);let n=this.events[e].add(t);return e===`change`?()=>{n(),Tn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Wa.current&&Wa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ha)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,Ha);return Xt(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ka(e,t){return new Ga(e,t)}var{schedule:qa,cancel:Ja}=wn(queueMicrotask,!1),Ya={x:!1,y:!1};function Xa(){return Ya.x||Ya.y}function Za(e){return e===`x`||e===`y`?Ya[e]?null:(Ya[e]=!0,()=>{Ya[e]=!1}):Ya.x||Ya.y?null:(Ya.x=Ya.y=!0,()=>{Ya.x=Ya.y=!1})}function Qa(e,t){let n=za(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function $a(e){return!(e.pointerType===`touch`||Xa())}function eo(e,t,n={}){let[r,i,a]=Qa(e,n),o=e=>{if(!$a(e))return;let{target:n}=e,r=t(n,e);if(typeof r!=`function`||!n)return;let a=e=>{$a(e)&&(r(e),n.removeEventListener(`pointerleave`,a))};n.addEventListener(`pointerleave`,a,i)};return r.forEach(e=>{e.addEventListener(`pointerenter`,o,i)}),a}var to=(e,t)=>t?e===t?!0:to(e,t.parentElement):!1,no=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,ro=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function io(e){return ro.has(e.tagName)||e.tabIndex!==-1}var ao=new WeakSet;function oo(e){return t=>{t.key===`Enter`&&e(t)}}function so(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var co=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=oo(()=>{if(ao.has(n))return;so(n,`down`);let e=oo(()=>{so(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>so(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function lo(e){return no(e)&&!Xa()}function uo(e,t,n={}){let[r,i,a]=Qa(e,n),o=e=>{let r=e.currentTarget;if(!lo(e))return;ao.add(r);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),ao.has(r)&&ao.delete(r),lo(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||to(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),Va(e)&&(e.addEventListener(`focus`,e=>co(e,i)),!io(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function fo(e){return Vt(e)&&`ownerSVGElement`in e}function po(e){return fo(e)&&e.tagName===`svg`}var mo=e=>!!(e&&e.getVelocity),ho=[...wa,ar,yr],go=e=>ho.find(Ca(e)),_o=(0,x.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function vo(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function yo(...e){return t=>{let n=!1,r=e.map(e=>{let r=vo(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():vo(e[t],null)}}}}function bo(...e){return x.useCallback(yo(...e),e)}var j=u(At(),1),xo=class extends x.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=Va(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function M({children:e,isPresent:t,anchorX:n,root:r}){let i=(0,x.useId)(),a=(0,x.useRef)(null),o=(0,x.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,x.useContext)(_o),c=bo(a,e?.ref);return(0,x.useInsertionEffect)(()=>{let{width:e,height:c,top:l,left:u,right:d}=o.current;if(t||!a.current||!e||!c)return;let f=n===`left`?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=i;let p=document.createElement(`style`);s&&(p.nonce=s);let m=r??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${l}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),(0,j.jsx)(xo,{isPresent:t,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:c})})}var So=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:c})=>{let l=Mt(Co),u=(0,x.useId)(),d=!0,f=(0,x.useMemo)(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:e=>{l.set(e,!0);for(let e of l.values())if(!e)return;r&&r()},register:e=>(l.set(e,!1),()=>l.delete(e))}),[n,l,r]);return a&&d&&(f={...f}),(0,x.useMemo)(()=>{l.forEach((e,t)=>l.set(t,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o===`popLayout`&&(e=(0,j.jsx)(M,{isPresent:n,anchorX:s,root:c,children:e})),(0,j.jsx)(Ft.Provider,{value:f,children:e})};function Co(){return new Map}function wo(e=!0){let t=(0,x.useContext)(Ft);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,x.useId)();(0,x.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,x.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var To=e=>e.key||``;function Eo(e){let t=[];return x.Children.forEach(e,e=>{(0,x.isValidElement)(e)&&t.push(e)}),t}var Do=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1,anchorX:s=`left`,root:c})=>{let[l,u]=wo(o),d=(0,x.useMemo)(()=>Eo(e),[e]),f=o&&!l?[]:d.map(To),p=(0,x.useRef)(!0),m=(0,x.useRef)(d),h=Mt(()=>new Map),[g,_]=(0,x.useState)(d),[v,y]=(0,x.useState)(d);Pt(()=>{p.current=!1,m.current=d;for(let e=0;e<v.length;e++){let t=To(v[e]);f.includes(t)?h.delete(t):h.get(t)!==!0&&h.set(t,!1)}},[v,f.length,f.join(`-`)]);let b=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){let n=v[t],r=To(n);f.includes(r)||(e.splice(t,0,n),b.push(n))}return a===`wait`&&b.length&&(e=b),y(Eo(e)),_(d),null}let{forceRender:S}=(0,x.useContext)(jt);return(0,j.jsx)(j.Fragment,{children:v.map(e=>{let g=To(e),_=o&&!l?!1:d===v||f.includes(g);return(0,j.jsx)(So,{isPresent:_,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:_?void 0:()=>{if(h.has(g))h.set(g,!0);else return;let e=!0;h.forEach(t=>{t||(e=!1)}),e&&(S?.(),y(m.current),o&&u?.(),r&&r())},anchorX:s,children:e},g)})})},Oo=(0,x.createContext)({strict:!1}),ko={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},Ao={};for(let e in ko)Ao[e]={isEnabled:t=>ko[e].some(e=>!!t[e])};function jo(e){for(let t in e)Ao[t]={...Ao[t],...e[t]}}var Mo=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.ignoreStrict.viewport`.split(`.`));function No(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||Mo.has(e)}var Po=c({default:()=>Fo}),Fo,Io=o((()=>{throw Fo={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),Lo=e=>!No(e);function Ro(e){typeof e==`function`&&(Lo=t=>t.startsWith(`on`)?!No(t):e(t))}try{Ro((Io(),d(Po)).default)}catch{}function zo(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(Lo(i)||n===!0&&No(i)||!t&&!No(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var Bo=(0,x.createContext)({});function Vo(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function Ho(e){return typeof e==`string`||Array.isArray(e)}var Uo=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],Wo=[`initial`,...Uo];function Go(e){return Vo(e.animate)||Wo.some(t=>Ho(e[t]))}function Ko(e){return!!(Go(e)||e.variants)}function qo(e,t){if(Go(e)){let{initial:t,animate:n}=e;return{initial:t===!1||Ho(t)?t:void 0,animate:Ho(n)?n:void 0}}return e.inherit===!1?{}:t}function Jo(e){let{initial:t,animate:n}=qo(e,(0,x.useContext)(Bo));return(0,x.useMemo)(()=>({initial:t,animate:n}),[Yo(t),Yo(n)])}function Yo(e){return Array.isArray(e)?e.join(` `):e}var Xo={};function Zo(e){for(let t in e)Xo[t]=e[t],Pn(t)&&(Xo[t].isCSSVariable=!0)}function Qo(e,{layout:t,layoutId:n}){return ji.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!Xo[e]||e===`opacity`)}var $o={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},es=Ai.length;function ts(e,t,n){let r=``,i=!0;for(let a=0;a<es;a++){let o=Ai[a],s=e[o];if(s===void 0)continue;let c=!0;if(c=typeof s==`number`?s===(o.startsWith(`scale`)?1:0):parseFloat(s)===0,!c||n){let e=Ba(s,Ma[o]);if(!c){i=!1;let t=$o[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function ns(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(ji.has(e)){o=!0;continue}else if(Pn(e)){i[e]=n;continue}else{let t=Ba(n,Ma[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=ts(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}var rs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function is(e,t,n){for(let r in t)!mo(t[r])&&!Qo(r,n)&&(e[r]=t[r])}function as({transformTemplate:e},t){return(0,x.useMemo)(()=>{let n=rs();return ns(n,t,e),Object.assign({},n.vars,n.style)},[t])}function os(e,t){let n=e.style||{},r={};return is(r,n,e),Object.assign(r,as(e,t)),r}function ss(e,t){let n={},r=os(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var cs={offset:`stroke-dashoffset`,array:`stroke-dasharray`},ls={offset:`strokeDashoffset`,array:`strokeDasharray`};function us(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?cs:ls;e[a.offset]=k.transform(-r);let o=k.transform(t),s=k.transform(n);e[a.array]=`${o} ${s}`}function ds(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(ns(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&us(d,i,a,o,!1)}var fs=()=>({...rs(),attrs:{}}),ps=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function ms(e,t,n,r){let i=(0,x.useMemo)(()=>{let n=fs();return ds(n,t,ps(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};is(t,e.style,e),i.style={...t,...i.style}}return i}var hs=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function gs(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(hs.indexOf(e)>-1||/[A-Z]/u.test(e))}function _s(e,t,n,{latestValues:r},i,a=!1){let o=(gs(e)?ms:ss)(t,r,i,e),s=zo(t,typeof e==`string`,a),c=e===x.Fragment?{}:{...s,...o,ref:n},{children:l}=t,u=(0,x.useMemo)(()=>mo(l)?l.get():l,[l]);return(0,x.createElement)(e,{...c,children:u})}function vs(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function ys(e,t,n,r){if(typeof t==`function`){let[i,a]=vs(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=vs(r);t=t(n===void 0?e.custom:n,i,a)}return t}function bs(e){return mo(e)?e.get():e}function xs({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Ss(n,r,i,e),renderState:t()}}function Ss(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=bs(a[e]);let{initial:o,animate:s}=e,c=Go(e),l=Ko(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!Vo(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=ys(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var Cs=e=>(t,n)=>{let r=(0,x.useContext)(Bo),i=(0,x.useContext)(Ft),a=()=>xs(e,t,r,i);return n?a():Mt(a)};function ws(e,t,n){let{style:r}=e,i={};for(let a in r)(mo(r[a])||t.style&&mo(t.style[a])||Qo(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}var Ts=Cs({scrapeMotionValuesFromProps:ws,createRenderState:rs});function Es(e,t,n){let r=ws(e,t,n);for(let n in e)if(mo(e[n])||mo(t[n])){let t=Ai.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var Ds=Cs({scrapeMotionValuesFromProps:Es,createRenderState:fs}),Os=Symbol.for(`motionComponentSymbol`);function ks(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function As(e,t,n){return(0,x.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==`function`?n(r):ks(n)&&(n.current=r))},[t])}var js=e=>e.replace(/([a-z])([A-Z])/gu,`$1-$2`).toLowerCase(),Ms=`data-`+js(`framerAppearId`),Ns=(0,x.createContext)({});function Ps(e,t,n,r,i){let{visualElement:a}=(0,x.useContext)(Bo),o=(0,x.useContext)(Oo),s=(0,x.useContext)(Ft),c=(0,x.useContext)(_o).reducedMotion,l=(0,x.useRef)(null);r||=o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:c}));let u=l.current,d=(0,x.useContext)(Ns);u&&!u.projection&&i&&(u.type===`html`||u.type===`svg`)&&Fs(l.current,n,i,d);let f=(0,x.useRef)(!1);(0,x.useInsertionEffect)(()=>{u&&f.current&&u.update(n,s)});let p=n[Ms],m=(0,x.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Pt(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,x.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),!1),u.enteringChildren=void 0)}),u}function Fs(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:Is(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&ks(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function Is(e){if(e)return e.options.allowProjection===!1?Is(e.parent):e.projection}function Ls(e,{forwardMotionProps:t=!1}={},n,r){n&&jo(n);let i=gs(e)?Ds:Ts;function a(a,o){let s,c={...(0,x.useContext)(_o),...a,layoutId:Rs(a)},{isStatic:l}=c,u=Jo(a),d=i(a,l);if(!l&&Nt){zs(c,n);let t=Bs(c);s=t.MeasureLayout,u.visualElement=Ps(e,d,c,r,t.ProjectionNode)}return(0,j.jsxs)(Bo.Provider,{value:u,children:[s&&u.visualElement?(0,j.jsx)(s,{visualElement:u.visualElement,...c}):null,_s(e,a,As(d,u.visualElement,o),d,l,t)]})}a.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let o=(0,x.forwardRef)(a);return o[Os]=e,o}function Rs({layoutId:e}){let t=(0,x.useContext)(jt).id;return t&&e!==void 0?t+`-`+e:e}function zs(e,t){(0,x.useContext)(Oo).strict}function Bs(e){let{drag:t,layout:n}=Ao;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Vs(e,t){if(typeof Proxy>`u`)return Ls;let n=new Map,r=(n,r)=>Ls(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,Ls(a,void 0,e,t)),n.get(a))})}function Hs({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Us({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ws(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gs(e){return e===void 0||e===1}function Ks({scale:e,scaleX:t,scaleY:n}){return!Gs(e)||!Gs(t)||!Gs(n)}function qs(e){return Ks(e)||Js(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Js(e){return Ys(e.x)||Ys(e.y)}function Ys(e){return e&&e!==`0%`}function Xs(e,t,n){return n+t*(e-n)}function Zs(e,t,n,r,i){return i!==void 0&&(e=Xs(e,i,r)),Xs(e,n,r)+t}function Qs(e,t=0,n=1,r,i){e.min=Zs(e.min,t,n,r,i),e.max=Zs(e.max,t,n,r,i)}function $s(e,{x:t,y:n}){Qs(e.x,t.translate,t.scale,t.originPoint),Qs(e.y,n.translate,n.scale,n.originPoint)}var ec=.999999999999,tc=1.0000000000001;function nc(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ac(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,$s(e,o)),r&&qs(a.latestValues)&&ac(e,a.latestValues))}t.x<tc&&t.x>ec&&(t.x=1),t.y<tc&&t.y>ec&&(t.y=1)}function rc(e,t){e.min+=t,e.max+=t}function ic(e,t,n,r,i=.5){Qs(e,t,n,Cr(e.min,e.max,i),r)}function ac(e,t){ic(e.x,t.x,t.scaleX,t.scale,t.originX),ic(e.y,t.y,t.scaleY,t.scale,t.originY)}function oc(e,t){return Hs(Ws(e.getBoundingClientRect(),t))}function sc(e,t,n){let r=oc(e,n),{scroll:i}=t;return i&&(rc(r.x,i.offset.x),rc(r.y,i.offset.y)),r}var cc=()=>({translate:0,scale:1,origin:0,originPoint:0}),lc=()=>({x:cc(),y:cc()}),uc=()=>({min:0,max:0}),dc=()=>({x:uc(),y:uc()}),fc={current:null},pc={current:!1};function mc(){if(pc.current=!0,Nt)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>fc.current=e.matches;e.addEventListener(`change`,t),t()}else fc.current=!1}var hc=new WeakMap;function gc(e,t,n){for(let r in t){let i=t[r],a=n[r];if(mo(i))e.addValue(r,i);else if(mo(a))e.addValue(r,Ka(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,Ka(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var _c=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],vc=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=jn.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Tn.render(this.render,!1,!0))};let{latestValues:s,renderState:c}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Go(t),this.isVariantNode=Ko(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in u){let t=u[e];s[e]!==void 0&&mo(t)&&t.set(s[e])}}mount(e){this.current=e,hc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),pc.current||mc(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:fc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=ji.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&Tn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in Ao){let t=Ao[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dc()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<_c.length;t++){let n=_c[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=gc(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Ka(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(Bt(n)||O(n))?n=parseFloat(n):!go(n)&&yr.test(t)&&(n=Fa(e,t)),this.setBaseTarget(e,mo(n)?n.get():n)),mo(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=ys(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!mo(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qt),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){qa.render(this.render)}},yc=class extends vc{constructor(){super(...arguments),this.KeyframeResolver=Ra}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;mo(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}};function bc(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function xc(e){return window.getComputedStyle(e)}var Sc=class extends yc{constructor(){super(...arguments),this.type=`html`,this.renderInstance=bc}readValueFromInstance(e,t){if(ji.has(t))return this.projection?.isProjecting?Ei(t):Oi(e,t);{let n=xc(e),r=(Pn(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oc(e,t)}build(e,t,n){ns(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ws(e,t,n)}},Cc=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]);function wc(e,t,n,r){for(let n in bc(e,t,void 0,r),t.attrs)e.setAttribute(Cc.has(n)?n:js(n),t.attrs[n])}var Tc=class extends yc{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=dc}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ji.has(t)){let e=Pa(t);return e&&e.default||0}return t=Cc.has(t)?t:js(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Es(e,t,n)}build(e,t,n){ds(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){wc(e,t,n,r)}mount(e){this.isSVGTag=ps(e.tagName),super.mount(e)}},Ec=(e,t)=>gs(e)?new Tc(t):new Sc(t,{allowProjection:e!==x.Fragment});function Dc(e,t,n){let r=e.getProps();return ys(r,t,n===void 0?r.custom:n,e)}var Oc=e=>Array.isArray(e);function kc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ka(n))}function Ac(e){return Oc(e)?e[e.length-1]||0:e}function jc(e,t){let{transitionEnd:n={},transition:r={},...i}=Dc(e,t)||{};for(let t in i={...i,...n},i)kc(e,t,Ac(i[t]))}function Mc(e){return!!(mo(e)&&e.add)}function Nc(e,t){let n=e.getValue(`willChange`);if(Mc(n))return n.add(t);if(!n&&zt.WillChange){let n=new zt.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function Pc(e){return e.props[Ms]}var Fc=e=>e!==null;function Ic(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(Fc),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}var Lc={type:`spring`,stiffness:500,damping:25,restSpeed:10},Rc=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zc={type:`keyframes`,duration:.8},Bc={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},Vc=(e,{keyframes:t})=>t.length>2?zc:ji.has(e)?e.startsWith(`scale`)?Rc(t[1]):Lc:Bc;function Hc({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var Uc=(e,t,n,r={},i,a)=>o=>{let s=ba(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=Jt(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};Hc(s)||Object.assign(u,Vc(e,u)),u.duration&&=Jt(u.duration),u.repeatDelay&&=Jt(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(da(u),u.delay===0&&(d=!0)),(zt.instantAnimations||zt.skipAnimations)&&(d=!0,da(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=Ic(u.keyframes,s);if(e!==void 0){Tn.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new gi(u):new ga(u)};function Wc({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Gc(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);let c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||l&&Wc(l,t))continue;let o={delay:n,...ba(a||{},t)},u=r.get();if(u!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===u&&!o.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=Pc(e);if(n){let e=window.MotionHandoffAnimation(n,t,Tn);e!==null&&(o.startTime=e,d=!0)}}Nc(e,t),r.start(Uc(t,r,i,e.shouldReduceMotion&&xa.has(t)?{type:!1}:o,e,d));let f=r.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{Tn.update(()=>{o&&jc(e,o)})}),c}function Kc(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}function qc(e,t,n={}){let r=Dc(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(Gc(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return Jc(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function Jc(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(qc(c,t,{...o,delay:n+(typeof r==`function`?0:r)+Kc(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function Yc(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>qc(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=qc(e,t,n);else{let i=typeof t==`function`?Dc(e,t,n.custom):t;r=Promise.all(Gc(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}function Xc(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Zc=Wo.length;function Qc(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&Qc(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<Zc;n++){let r=Wo[n],i=e.props[r];(Ho(i)||i===!1)&&(t[r]=i)}return t}var $c=[...Uo].reverse(),el=Uo.length;function tl(e){return t=>Promise.all(t.map(({animation:t,options:n})=>Yc(e,t,n)))}function nl(e){let t=tl(e),n=al(),r=!0,i=t=>(n,r)=>{let i=Dc(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=Qc(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<el;t++){let f=$c[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=Ho(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||Vo(m)||typeof m==`boolean`)continue;let v=rl(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},ee=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Oc(t)&&Oc(n)?!Xc(t,n):t!==n,r?t==null?l.add(e):ee(e):t!==void 0&&l.has(e)?ee(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let T=_&&v;y&&(!T||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=Dc(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=Kc(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=Dc(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=al()}}}function rl(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!Xc(t,e):!1}function il(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function al(){return{animate:il(!0),whileInView:il(),whileHover:il(),whileTap:il(),whileDrag:il(),whileFocus:il(),exit:il()}}var ol=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},sl=class extends ol{constructor(e){super(e),e.animationState||=nl(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();Vo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},cl=0,ll={animation:{Feature:sl},exit:{Feature:class extends ol{constructor(){super(...arguments),this.id=cl++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function ul(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function dl(e){return{point:{x:e.pageX,y:e.pageY}}}var fl=e=>t=>no(t)&&e(t,dl(t));function pl(e,t,n,r){return ul(e,t,fl(n),r)}var ml=1e-4,hl=1-ml,gl=1+ml,_l=.01,vl=0-_l,yl=0+_l;function N(e){return e.max-e.min}function bl(e,t,n){return Math.abs(e-t)<=n}function xl(e,t,n,r=.5){e.origin=r,e.originPoint=Cr(t.min,t.max,e.origin),e.scale=N(n)/N(t),e.translate=Cr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hl&&e.scale<=gl||isNaN(e.scale))&&(e.scale=1),(e.translate>=vl&&e.translate<=yl||isNaN(e.translate))&&(e.translate=0)}function Sl(e,t,n,r){xl(e.x,t.x,n.x,r?r.originX:void 0),xl(e.y,t.y,n.y,r?r.originY:void 0)}function Cl(e,t,n){e.min=n.min+t.min,e.max=e.min+N(t)}function wl(e,t,n){Cl(e.x,t.x,n.x),Cl(e.y,t.y,n.y)}function Tl(e,t,n){e.min=t.min-n.min,e.max=e.min+N(t)}function El(e,t,n){Tl(e.x,t.x,n.x),Tl(e.y,t.y,n.y)}function Dl(e){return[e(`x`),e(`y`)]}var Ol=({current:e})=>e?e.ownerDocument.defaultView:null,kl=(e,t)=>Math.abs(e-t);function Al(e,t){let n=kl(e.x,t.x),r=kl(e.y,t.y);return Math.sqrt(n**2+r**2)}var jl=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=Pl(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=Al(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=Dn;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ml(t,this.transformPagePoint),Tn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=Pl(e.type===`pointercancel`?this.lastMoveEventInfo:Ml(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!no(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let o=Ml(dl(e),this.transformPagePoint),{point:s}=o,{timestamp:c}=Dn;this.history=[{...s,timestamp:c}];let{onSessionStart:l}=t;l&&l(e,Pl(o,this.history)),this.removeListeners=Gt(pl(this.contextWindow,`pointermove`,this.handlePointerMove),pl(this.contextWindow,`pointerup`,this.handlePointerUp),pl(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}};function Ml(e,t){return t?{point:t(e.point)}:e}function Nl(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Pl({point:e},t){return{point:e,delta:Nl(e,Il(t)),offset:Nl(e,Fl(t)),velocity:Ll(t,.1)}}function Fl(e){return e[0]}function Il(e){return e[e.length-1]}function Ll(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=Il(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Jt(t)));)n--;if(!r)return{x:0,y:0};let a=Yt(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rl(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Cr(n,e,r.max):Math.min(e,n)),e}function zl(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function Bl(e,{top:t,left:n,bottom:r,right:i}){return{x:zl(e.x,n,i),y:zl(e.y,t,r)}}function Vl(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Hl(e,t){return{x:Vl(e.x,t.x),y:Vl(e.y,t.y)}}function Ul(e,t){let n=.5,r=N(e),i=N(t);return i>r?n=Kt(t.min,t.max-r,e.min):r>i&&(n=Kt(e.min,e.max-i,t.min)),Rt(0,1,n)}function Wl(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Gl=.35;function Kl(e=Gl){return e===!1?e=0:e===!0&&(e=Gl),{x:ql(e,`left`,`right`),y:ql(e,`top`,`bottom`)}}function ql(e,t,n){return{min:Jl(e,t),max:Jl(e,n)}}function Jl(e,t){return typeof e==`number`?e:e[t]||0}var Yl=new WeakMap,Xl=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dc(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dl(e).point)},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Za(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dl(e=>{let t=this.getAxisMotionValue(e).get()||0;if(er.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=N(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&Tn.postRender(()=>i(e,t)),Nc(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Zl(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Dl(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new jl(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:Ol(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&Tn.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!P(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Rl(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ks(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=Bl(n.layoutBox,e):this.constraints=!1,this.elastic=Kl(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Dl(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=Wl(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ks(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=sc(n,r.root,this.visualElement.getTransformPagePoint()),a=Hl(r.layout.layoutBox,i);if(t){let e=t(Us(a));this.hasMutatedConstraints=!!e,e&&(a=Hs(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=Dl(o=>{if(!P(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return Nc(this.visualElement,e),n.start(Uc(e,n,0,t,this.visualElement,!1))}stopAnimation(){Dl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dl(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Dl(t=>{let{drag:n}=this.getProps();if(!P(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-Cr(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ks(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};Dl(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=Ul({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dl(t=>{if(!P(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(Cr(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Yl.set(this.visualElement,this);let e=this.visualElement.current,t=pl(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();ks(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Tn.read(n);let a=ul(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Dl(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Gl,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function P(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Zl(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var F=class extends ol{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new Xl(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}},I=e=>(t,n)=>{e&&Tn.postRender(()=>e(t,n))},Ql=class extends ol{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new jl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ol(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:I(e),onStart:I(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Tn.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=pl(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},$l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var tu={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if(k.test(e))e=parseFloat(e);else return e;return`${eu(e,t.target.x)}% ${eu(e,t.target.y)}%`}},nu={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=yr.parse(e);if(i.length>5)return r;let a=yr.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=Cr(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},ru=!1,iu=class extends x.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Zo(ou),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),ru&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,ru=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Tn.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qa.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;ru=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function au(e){let[t,n]=wo(),r=(0,x.useContext)(jt);return(0,j.jsx)(iu,{...e,layoutGroup:r,switchLayoutGroup:(0,x.useContext)(Ns),isPresent:t,safeToRemove:n})}var ou={borderRadius:{...tu,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:nu};function su(e,t,n){let r=mo(e)?e:Ka(e);return r.start(Uc(``,r,t,n)),r.animation}var cu=(e,t)=>e.depth-t.depth,lu=class{constructor(){this.children=[],this.isDirty=!1}add(e){It(this.children,e),this.isDirty=!0}remove(e){Lt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cu),this.isDirty=!1,this.children.forEach(e)}};function uu(e,t){let n=jn.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(En(r),e(a-t))};return Tn.setup(r,!0),()=>En(r)}var du=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],fu=du.length,pu=e=>typeof e==`string`?parseFloat(e):e,mu=e=>typeof e==`number`||k.test(e);function hu(e,t,n,r,i,a){i?(e.opacity=Cr(0,n.opacity??1,_u(r)),e.opacityExit=Cr(t.opacity??1,0,vu(r))):a&&(e.opacity=Cr(t.opacity??1,n.opacity??1,r));for(let i=0;i<fu;i++){let a=`border${du[i]}Radius`,o=gu(t,a),s=gu(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||mu(o)===mu(s)?(e[a]=Math.max(Cr(pu(o),pu(s),r),0),(er.test(s)||er.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=Cr(t.rotate||0,n.rotate||0,r))}function gu(e,t){return e[t]===void 0?e.borderRadius:e[t]}var _u=yu(0,.5,un),vu=yu(.5,.95,Ut);function yu(e,t,n){return r=>r<e?0:r>t?1:n(Kt(e,t,r))}function bu(e,t){e.min=t.min,e.max=t.max}function xu(e,t){bu(e.x,t.x),bu(e.y,t.y)}function Su(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cu(e,t,n,r,i){return e-=t,e=Xs(e,1/n,r),i!==void 0&&(e=Xs(e,1/i,r)),e}function wu(e,t=0,n=1,r=.5,i,a=e,o=e){if(er.test(t)&&(t=parseFloat(t),t=Cr(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=Cr(a.min,a.max,r);e===a&&(s-=t),e.min=Cu(e.min,t,n,s,i),e.max=Cu(e.max,t,n,s,i)}function Tu(e,t,[n,r,i],a,o){wu(e,t[n],t[r],t[i],t.scale,a,o)}var Eu=[`x`,`scaleX`,`originX`],Du=[`y`,`scaleY`,`originY`];function Ou(e,t,n,r){Tu(e.x,t,Eu,n?n.x:void 0,r?r.x:void 0),Tu(e.y,t,Du,n?n.y:void 0,r?r.y:void 0)}function ku(e){return e.translate===0&&e.scale===1}function Au(e){return ku(e.x)&&ku(e.y)}function ju(e,t){return e.min===t.min&&e.max===t.max}function Mu(e,t){return ju(e.x,t.x)&&ju(e.y,t.y)}function Nu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Pu(e,t){return Nu(e.x,t.x)&&Nu(e.y,t.y)}function Fu(e){return N(e.x)/N(e.y)}function Iu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var Lu=class{constructor(){this.members=[]}add(e){It(this.members,e),e.scheduleRender()}remove(e){if(Lt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Ru(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var zu={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Bu=[``,`X`,`Y`,`Z`],Vu=1e3,Hu=0;function Uu(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Wu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=Pc(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,Tn,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Wu(r)}function Gu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=Hu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xn.value&&(zu.nodes=zu.calculatedTargetDeltas=zu.calculatedProjections=0),this.nodes.forEach(Ju),this.nodes.forEach(td),this.nodes.forEach(nd),this.nodes.forEach(Yu),xn.addProjectionMetrics&&xn.addProjectionMetrics(zu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new lu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qt),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=fo(t)&&!po(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;Tn.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=uu(i,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(ed)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||ld,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!Pu(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...ba(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||ed(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rd),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zu);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qu);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($u),this.nodes.forEach(Ku),this.nodes.forEach(qu)):this.nodes.forEach(Qu),this.clearAllSnapshots();let e=jn.now();Dn.delta=Rt(0,1e3/60,e-Dn.timestamp),Dn.timestamp=e,Dn.isProcessing=!0,On.update.process(Dn),On.preRender.process(Dn),On.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qa.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xu),this.sharedNodes.forEach(id)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!N(this.snapshot.measuredBox.x)&&!N(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Au(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||qs(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),pd(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return dc();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hd))){let{scroll:e}=this.root;e&&(rc(t.x,e.offset.x),rc(t.y,e.offset.y))}return t}removeElementScroll(e){let t=dc();if(xu(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&xu(t,e),rc(t.x,i.offset.x),rc(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=dc();xu(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ac(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),qs(r.latestValues)&&ac(n,r.latestValues)}return qs(this.latestValues)&&ac(n,this.latestValues),n}removeTransform(e){let t=dc();xu(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!qs(n.latestValues))continue;Ks(n.latestValues)&&n.updateSnapshot();let r=dc();xu(r,n.measurePageBox()),Ou(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return qs(this.latestValues)&&Ou(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dc(),this.relativeTargetOrigin=dc(),El(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),xu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dc(),this.targetWithTransforms=dc()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wl(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xu(this.target,this.layout.layoutBox),$s(this.target,this.targetDelta)):xu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dc(),this.relativeTargetOrigin=dc(),El(this.relativeTargetOrigin,this.target,e.target),xu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xn.value&&zu.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ks(this.parent.latestValues)||Js(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;xu(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;nc(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=dc());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Su(this.prevProjectionDelta.x,this.projectionDelta.x),Su(this.prevProjectionDelta.y,this.projectionDelta.y)),Sl(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!Iu(this.projectionDelta.x,this.prevProjectionDelta.x)||!Iu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),xn.value&&zu.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lc(),this.projectionDelta=lc(),this.projectionDeltaWithTransform=lc()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=dc(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(cd));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;ad(a.x,e.x,n),ad(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(El(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sd(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&Mu(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=dc(),xu(d,this.relativeTarget)),s&&(this.animationValues=i,hu(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(En(this.pendingAnimation),void 0),this.pendingAnimation=Tn.update(()=>{$l.hasAnimatedSinceResize=!0,Mn.layout++,this.motionValue||=Ka(0),this.currentAnimation=su(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Mn.layout--},onComplete:()=>{Mn.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&md(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||dc();let t=N(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=N(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}xu(t,n),ac(t,i),Sl(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Lu),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&Uu(`z`,e,r,this.animationValues);for(let t=0;t<Bu.length;t++)Uu(`rotate${Bu[t]}`,e,r,this.animationValues),Uu(`skew${Bu[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=bs(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=bs(t?.pointerEvents)||``),this.hasProjected&&!qs(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=Ru(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,Xo){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=Xo[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?bs(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Zu),this.root.sharedNodes.clear()}}}function Ku(e){e.updateLayout()}function qu(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?Dl(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=N(r);r.min=n[e].min,r.max=r.min+i}):md(i,t.layoutBox,n)&&Dl(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=N(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=lc();Sl(o,n,t.layoutBox);let s=lc();a?Sl(s,e.applyTransform(r,!0),t.measuredBox):Sl(s,n,t.layoutBox);let c=!Au(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=dc();El(o,t.layoutBox,i.layoutBox);let s=dc();El(s,n,a.layoutBox),Pu(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ju(e){xn.value&&zu.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function Yu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xu(e){e.clearSnapshot()}function Zu(e){e.clearMeasurements()}function Qu(e){e.isLayoutDirty=!1}function $u(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function ed(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function td(e){e.resolveTargetDelta()}function nd(e){e.calcProjection()}function rd(e){e.resetSkewAndRotation()}function id(e){e.removeLeadSnapshot()}function ad(e,t,n){e.translate=Cr(t.translate,0,n),e.scale=Cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function od(e,t,n,r){e.min=Cr(t.min,n.min,r),e.max=Cr(t.max,n.max,r)}function sd(e,t,n,r){od(e.x,t.x,n.x,r),od(e.y,t.y,n.y,r)}function cd(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var ld={duration:.45,ease:[.4,0,.1,1]},ud=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dd=ud(`applewebkit/`)&&!ud(`chrome/`)?Math.round:Ut;function fd(e){e.min=dd(e.min),e.max=dd(e.max)}function pd(e){fd(e.x),fd(e.y)}function md(e,t,n){return e===`position`||e===`preserve-aspect`&&!bl(Fu(t),Fu(n),.2)}function hd(e){return e!==e.root&&e.scroll?.wasRoot}var gd=Gu({attachResizeListener:(e,t)=>ul(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_d={current:void 0},vd=Gu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_d.current){let e=new gd({});e.mount(window),e.setOptions({layoutScroll:!0}),_d.current=e}return _d.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),yd={pan:{Feature:Ql},drag:{Feature:F,ProjectionNode:vd,MeasureLayout:au}};function bd(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&Tn.postRender(()=>i(t,dl(t)))}var xd=class extends ol{mount(){let{current:e}=this.node;e&&(this.unmount=eo(e,(e,t)=>(bd(this.node,t,`Start`),e=>bd(this.node,e,`End`))))}unmount(){}},Sd=class extends ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=Gt(ul(this.node.current,`focus`,()=>this.onFocus()),ul(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function Cd(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&Tn.postRender(()=>i(t,dl(t)))}var wd=class extends ol{mount(){let{current:e}=this.node;e&&(this.unmount=uo(e,(e,t)=>(Cd(this.node,t,`Start`),(e,{success:t})=>Cd(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}},Td=new WeakMap,Ed=new WeakMap,Dd=e=>{let t=Td.get(e.target);t&&t(e)},Od=e=>{e.forEach(Dd)};function kd({root:e,...t}){let n=e||document;Ed.has(n)||Ed.set(n,{});let r=Ed.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Od,{root:e,...t})),r[i]}function Ad(e,t,n){let r=kd(t);return Td.set(e,n),r.observe(e),()=>{Td.delete(e),r.unobserve(e)}}var jd={some:0,all:1},Md=class extends ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:jd[r]};return Ad(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(Nd(e,t))&&this.startObserver()}unmount(){}};function Nd({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var Pd={inView:{Feature:Md},tap:{Feature:wd},focus:{Feature:Sd},hover:{Feature:xd}},L={layout:{ProjectionNode:vd,MeasureLayout:au}},Fd=Vs({...ll,...Pd,...yd,...L},Ec),Id=()=>void 0,Ld=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Rd=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ld(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Rd(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Bd;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Bd=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Vd=function(e){let t=Ld(e);return zd.encodeByteArray(t,!0)},Hd=function(e){return Vd(e).replace(/\./g,``)},Ud=function(e){try{return zd.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Wd(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Gd=()=>Wd().__FIREBASE_DEFAULTS__,Kd=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qd=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ud(e[1]);return t&&JSON.parse(t)},Jd=()=>{try{return Id()||Gd()||Kd()||qd()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yd=e=>Jd()?.emulatorHosts?.[e],Xd=e=>{let t=Yd(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Zd=()=>Jd()?.config,Qd=e=>Jd()?.[`_${e}`],$d=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function ef(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function tf(e){return(await fetch(e,{credentials:`include`})).ok}function nf(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Hd(JSON.stringify(n)),Hd(JSON.stringify(o)),``].join(`.`)}var rf={};function af(){let e={prod:[],emulator:[]};for(let t of Object.keys(rf))rf[t]?e.emulator.push(t):e.prod.push(t);return e}function of(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var sf=!1;function cf(e,t){if(typeof window>`u`||typeof document>`u`||!ef(window.location.host)||rf[e]===t||rf[e]||sf)return;rf[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=af().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{sf=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=of(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function lf(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function uf(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lf())}function df(){let e=Jd()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function ff(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function pf(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function mf(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function hf(){let e=lf();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function gf(){return!df()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function _f(){try{return typeof indexedDB==`object`}catch{return!1}}function vf(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}function yf(){return!(typeof navigator>`u`||!navigator.cookieEnabled)}var bf=`FirebaseError`,xf=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=bf,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}},Sf=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Cf(i,n):`Error`;return new xf(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Cf(e,t){return e.replace(wf,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var wf=/\{\$([^}]+)}/g;function Tf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ef(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Df(n)&&Df(a)){if(!Ef(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Df(e){return typeof e==`object`&&!!e}function Of(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function kf(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Af(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function jf(e,t){let n=new Mf(e,t);return n.subscribe.bind(n)}var Mf=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Nf(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Pf),r.error===void 0&&(r.error=Pf),r.complete===void 0&&(r.complete=Pf);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nf(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Pf(){}var Ff=1e3,If=2,Lf=14400*1e3,Rf=.5;function zf(e,t=Ff,n=If){let r=t*n**+e,i=Math.round(Rf*r*(Math.random()-.5)*2);return Math.min(Lf,r+i)}function Bf(e){return e&&e._delegate?e._delegate:e}var Vf=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Hf=`[DEFAULT]`,Uf=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new $d;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Gf(e))try{this.getOrInitializeService({instanceIdentifier:Hf})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Hf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hf){return this.instances.has(e)}getOptions(e=Hf){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Wf(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hf){return this.component?this.component.multipleInstances?e:Hf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Wf(e){return e===Hf?void 0:e}function Gf(e){return e.instantiationMode===`EAGER`}var Kf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Uf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},qf=[],R;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(R||={});var Jf={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Yf=R.INFO,Xf={[R.DEBUG]:`log`,[R.VERBOSE]:`log`,[R.INFO]:`info`,[R.WARN]:`warn`,[R.ERROR]:`error`},Zf=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Xf[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Qf=class{constructor(e){this.name=e,this._logLevel=Yf,this._logHandler=Zf,this._userLogHandler=null,qf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Jf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}},$f=(e,t)=>t.some(t=>e instanceof t),ep,tp;function np(){return ep||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function rp(){return tp||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var ip=new WeakMap,ap=new WeakMap,op=new WeakMap,sp=new WeakMap,cp=new WeakMap;function lp(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(hp(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&ip.set(t,e)}).catch(()=>{}),cp.set(t,e),t}function up(e){if(ap.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});ap.set(e,t)}var dp={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return ap.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||op.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hp(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function fp(e){dp=e(dp)}function pp(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(gp(this),t,...n);return op.set(r,t.sort?t.sort():[t]),hp(r)}:rp().includes(e)?function(...t){return e.apply(gp(this),t),hp(ip.get(this))}:function(...t){return hp(e.apply(gp(this),t))}}function mp(e){return typeof e==`function`?pp(e):(e instanceof IDBTransaction&&up(e),$f(e,np())?new Proxy(e,dp):e)}function hp(e){if(e instanceof IDBRequest)return lp(e);if(sp.has(e))return sp.get(e);let t=mp(e);return t!==e&&(sp.set(e,t),cp.set(t,e)),t}var gp=e=>cp.get(e);function _p(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=hp(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(hp(o.result),e.oldVersion,e.newVersion,hp(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}function vp(e,{blocked:t}={}){let n=indexedDB.deleteDatabase(e);return t&&n.addEventListener(`blocked`,e=>t(e.oldVersion,e)),hp(n).then(()=>void 0)}var yp=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],bp=[`put`,`add`,`delete`,`clear`],xp=new Map;function Sp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(xp.get(t))return xp.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=bp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yp.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return xp.set(t,a),a}fp(e=>({...e,get:(t,n,r)=>Sp(t,n)||e.get(t,n,r),has:(t,n)=>!!Sp(t,n)||e.has(t,n)}));var Cp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(wp(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function wp(e){return e.getComponent()?.type===`VERSION`}var Tp=`@firebase/app`,Ep=`0.14.6`,Dp=new Qf(`@firebase/app`),Op=`@firebase/app-compat`,kp=`@firebase/analytics-compat`,Ap=`@firebase/analytics`,jp=`@firebase/app-check-compat`,Mp=`@firebase/app-check`,Np=`@firebase/auth`,Pp=`@firebase/auth-compat`,Fp=`@firebase/database`,Ip=`@firebase/data-connect`,Lp=`@firebase/database-compat`,Rp=`@firebase/functions`,zp=`@firebase/functions-compat`,Bp=`@firebase/installations`,Vp=`@firebase/installations-compat`,Hp=`@firebase/messaging`,Up=`@firebase/messaging-compat`,Wp=`@firebase/performance`,Gp=`@firebase/performance-compat`,Kp=`@firebase/remote-config`,qp=`@firebase/remote-config-compat`,Jp=`@firebase/storage`,Yp=`@firebase/storage-compat`,Xp=`@firebase/firestore`,Zp=`@firebase/ai`,Qp=`@firebase/firestore-compat`,$p=`firebase`,em=`12.6.0`,tm=`[DEFAULT]`,nm={[Tp]:`fire-core`,[Op]:`fire-core-compat`,[Ap]:`fire-analytics`,[kp]:`fire-analytics-compat`,[Mp]:`fire-app-check`,[jp]:`fire-app-check-compat`,[Np]:`fire-auth`,[Pp]:`fire-auth-compat`,[Fp]:`fire-rtdb`,[Ip]:`fire-data-connect`,[Lp]:`fire-rtdb-compat`,[Rp]:`fire-fn`,[zp]:`fire-fn-compat`,[Bp]:`fire-iid`,[Vp]:`fire-iid-compat`,[Hp]:`fire-fcm`,[Up]:`fire-fcm-compat`,[Wp]:`fire-perf`,[Gp]:`fire-perf-compat`,[Kp]:`fire-rc`,[qp]:`fire-rc-compat`,[Jp]:`fire-gcs`,[Yp]:`fire-gcs-compat`,[Xp]:`fire-fst`,[Qp]:`fire-fst-compat`,[Zp]:`fire-vertex`,"fire-js":`fire-js`,[$p]:`fire-js-all`},rm=new Map,im=new Map,am=new Map;function om(e,t){try{e.container.addComponent(t)}catch(n){Dp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sm(e){let t=e.name;if(am.has(t))return Dp.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,e);for(let t of rm.values())om(t,e);for(let t of im.values())om(t,e);return!0}function cm(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lm(e){return e==null?!1:e.settings!==void 0}var um=new Sf(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),dm=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vf(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw um.create(`app-deleted`,{appName:this._name})}},fm=em;function pm(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:tm,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw um.create(`bad-app-name`,{appName:String(i)});if(n||=Zd(),!n)throw um.create(`no-options`);let a=rm.get(i);if(a){if(Ef(n,a.options)&&Ef(r,a.config))return a;throw um.create(`duplicate-app`,{appName:i})}let o=new Kf(i);for(let e of am.values())o.addComponent(e);let s=new dm(n,r,o);return rm.set(i,s),s}function mm(e=tm){let t=rm.get(e);if(!t&&e===`[DEFAULT]`&&Zd())return pm();if(!t)throw um.create(`no-app`,{appName:e});return t}function hm(e,t,n){let r=nm[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dp.warn(e.join(` `));return}sm(new Vf(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var gm=`firebase-heartbeat-database`,_m=1,vm=`firebase-heartbeat-store`,ym=null;function bm(){return ym||=_p(gm,_m,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vm)}catch(e){console.warn(e)}}}}).catch(e=>{throw um.create(`idb-open`,{originalErrorMessage:e.message})}),ym}async function xm(e){try{let t=(await bm()).transaction(vm),n=await t.objectStore(vm).get(Cm(e));return await t.done,n}catch(e){if(e instanceof xf)Dp.warn(e.message);else{let t=um.create(`idb-get`,{originalErrorMessage:e?.message});Dp.warn(t.message)}}}async function Sm(e,t){try{let n=(await bm()).transaction(vm,`readwrite`);await n.objectStore(vm).put(t,Cm(e)),await n.done}catch(e){if(e instanceof xf)Dp.warn(e.message);else{let t=um.create(`idb-set`,{originalErrorMessage:e?.message});Dp.warn(t.message)}}}function Cm(e){return`${e.name}!${e.options.appId}`}var wm=1024,Tm=30,Em=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new km(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Dm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Tm){let e=jm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dp.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Dm(),{heartbeatsToSend:t,unsentEntries:n}=Om(this._heartbeatsCache.heartbeats),r=Hd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Dp.warn(e),``}}};function Dm(){return new Date().toISOString().substring(0,10)}function Om(e,t=wm){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Am(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Am(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var km=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _f()?vf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await xm(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Sm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Sm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Am(e){return Hd(JSON.stringify({version:2,heartbeats:e})).length}function jm(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Mm(e){sm(new Vf(`platform-logger`,e=>new Cp(e),`PRIVATE`)),sm(new Vf(`heartbeat`,e=>new Em(e),`PRIVATE`)),hm(Tp,Ep,e),hm(Tp,Ep,`esm2020`),hm(`fire-js`,``)}Mm(``);function Nm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Pm=Nm,Fm=new Sf(`auth`,`Firebase`,Nm()),Im=new Qf(`@firebase/auth`);function Lm(e,...t){Im.logLevel<=R.WARN&&Im.warn(`Auth (${fm}): ${e}`,...t)}function Rm(e,...t){Im.logLevel<=R.ERROR&&Im.error(`Auth (${fm}): ${e}`,...t)}function zm(e,...t){throw Um(e,...t)}function Bm(e,...t){return Um(e,...t)}function Vm(e,t,n){return new Sf(`auth`,`Firebase`,{...Pm(),[t]:n}).create(t,{appName:e.name})}function Hm(e){return Vm(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Um(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Fm.create(e,...t)}function z(e,t,...n){if(!e)throw Um(t,...n)}function Wm(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Rm(t),Error(t)}function Gm(e,t){e||Wm(t)}function Km(){return typeof self<`u`&&self.location?.href||``}function qm(){return Jm()===`http:`||Jm()===`https:`}function Jm(){return typeof self<`u`&&self.location?.protocol||null}function Ym(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(qm()||pf()||`connection`in navigator)?navigator.onLine:!0}function Xm(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Zm=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gm(t>e,`Short delay should be less than long delay!`),this.isMobile=uf()||mf()}get(){return Ym()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Qm(e,t){Gm(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var $m=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Wm(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Wm(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Wm(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},eh={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},th=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],nh=new Zm(3e4,6e4);function rh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ih(e,t,n,r,i={}){return ah(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Of({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return ff()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&ef(e.emulatorConfig.host)&&(c.credentials=`include`),$m.fetch()(await sh(e,e.config.apiHost,n,o),c)})}async function ah(e,t,n){e._canInitEmulator=!1;let r={...eh,...t};try{let t=new lh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw uh(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw uh(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw uh(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw uh(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Vm(e,o,n);zm(e,o)}}catch(t){if(t instanceof xf)throw t;zm(e,`network-request-failed`,{message:String(t)})}}async function oh(e,t,n,r,i={}){let a=await ih(e,t,n,r,i);return`mfaPendingCredential`in a&&zm(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function sh(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Qm(e.config,i):`${e.config.apiScheme}://${i}`;return th.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function ch(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var lh=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Bm(this.auth,`network-request-failed`)),nh.get())})}};function uh(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Bm(e,t,r);return i.customData._tokenResponse=n,i}function dh(e){return e!==void 0&&e.enterprise!==void 0}var fh=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ch(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function ph(e,t){return ih(e,`GET`,`/v2/recaptchaConfig`,rh(e,t))}async function mh(e,t){return ih(e,`POST`,`/v1/accounts:delete`,t)}async function hh(e,t){return ih(e,`POST`,`/v1/accounts:lookup`,t)}function gh(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _h(e,t=!1){let n=Bf(e),r=await n.getIdToken(t),i=yh(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:gh(vh(i.auth_time)),issuedAtTime:gh(vh(i.iat)),expirationTime:gh(vh(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function vh(e){return Number(e)*1e3}function yh(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Rm(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Ud(n);return e?JSON.parse(e):(Rm(`Failed to decode base64 JWT payload`),null)}catch(e){return Rm(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function bh(e){let t=yh(e);return z(t,`internal-error`),z(t.exp!==void 0,`internal-error`),z(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function xh(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof xf&&Sh(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function Sh({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var Ch=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},wh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Th(e){let t=e.auth,n=await xh(e,hh(t,{idToken:await e.getIdToken()}));z(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Oh(r.providerUserInfo):[],a=Dh(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new wh(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function Eh(e){let t=Bf(e);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Dh(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Oh(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function kh(e,t){let n=await ah(e,{},async()=>{let n=Of({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await sh(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&ef(e.emulatorConfig.host)&&(s.credentials=`include`),$m.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ah(e,t){return ih(e,`POST`,`/v2/accounts:revokeToken`,rh(e,t))}var jh=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,`internal-error`),z(e.idToken!==void 0,`internal-error`),z(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):bh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){z(e.length!==0,`internal-error`);let t=bh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await kh(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(z(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(z(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(z(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Wm(`not implemented`)}};function Mh(e,t){z(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Nh=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new Ch(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new wh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await xh(this,this.stsTokenManager.getToken(this.auth,e));return z(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _h(this,e)}reload(){return Eh(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Th(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lm(this.auth.app))return Promise.reject(Hm(this.auth));let e=await this.getIdToken();return await xh(this,mh(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;z(d&&h,t,`internal-error`);let g=jh.fromJSON(this.name,h);z(typeof d==`string`,t,`internal-error`),Mh(r,t.name),Mh(i,t.name),z(typeof f==`boolean`,t,`internal-error`),z(typeof p==`boolean`,t,`internal-error`),Mh(a,t.name),Mh(o,t.name),Mh(s,t.name),Mh(c,t.name),Mh(l,t.name),Mh(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new jh;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];z(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Oh(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new jh;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Ph=new Map;function Fh(e){Gm(e instanceof Function,`Expected a class definition`);let t=Ph.get(e);return t?(Gm(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Ph.set(e,t),t)}var Ih=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Ih.type=`NONE`;var Lh=Ih;function Rh(e,t,n){return`firebase:${e}:${t}:${n}`}var zh=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Rh(this.userKey,r.apiKey,i),this.fullPersistenceKey=Rh(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await hh(this.auth,{idToken:e}).catch(()=>void 0);return t?Nh._fromGetAccountInfoResponse(this.auth,t,e):null}return Nh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Fh(Lh),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Fh(Lh),o=Rh(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await hh(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Nh._fromGetAccountInfoResponse(t,e,n)}else r=Nh._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Bh(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(Wh(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(Vh(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(Kh(t))return`Blackberry`;if(qh(t))return`Webos`;if(Hh(t))return`Safari`;if((t.includes(`chrome/`)||Uh(t))&&!t.includes(`edge/`))return`Chrome`;if(Gh(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function Vh(e=lf()){return/firefox\//i.test(e)}function Hh(e=lf()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Uh(e=lf()){return/crios\//i.test(e)}function Wh(e=lf()){return/iemobile/i.test(e)}function Gh(e=lf()){return/android/i.test(e)}function Kh(e=lf()){return/blackberry/i.test(e)}function qh(e=lf()){return/webos/i.test(e)}function Jh(e=lf()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yh(e=lf()){return Jh(e)&&!!window.navigator?.standalone}function Xh(){return hf()&&document.documentMode===10}function Zh(e=lf()){return Jh(e)||Gh(e)||qh(e)||Kh(e)||/windows phone/i.test(e)||Wh(e)}function Qh(e,t=[]){let n;switch(e){case`Browser`:n=Bh(lf());break;case`Worker`:n=`${Bh(lf())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${fm}/${r}`}var $h=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function eg(e,t={}){return ih(e,`GET`,`/v2/passwordPolicy`,rh(e,t))}var tg=6,ng=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??tg,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},rg=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ag(this),this.idTokenSubscription=new ag(this),this.beforeStateQueue=new $h(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fh(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await hh(this,{idToken:e}),n=await Nh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lm(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xm()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lm(this.app))return Promise.reject(Hm(this));let t=e?Bf(e):null;return t&&z(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lm(this.app)?Promise.reject(Hm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lm(this.app)?Promise.reject(Hm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ng(await eg(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sf(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Ah(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Fh(e)||this._popupRedirectResolver;z(t,this,`argument-error`),this.redirectPersistenceManager=await zh.create(this,[Fh(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(lm(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lm(`Error while retrieving App Check token: ${e.error}`),e?.token}};function ig(e){return Bf(e)}var ag=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jf(e=>this.observer=e)}get next(){return z(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},og={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function sg(e){og=e}function cg(e){return og.loadJS(e)}function lg(){return og.recaptchaEnterpriseScript}function ug(){return og.gapiScript}function dg(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var fg=class{constructor(){this.enterprise=new pg}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},pg=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},mg=`recaptcha-enterprise`,hg=`NO_RECAPTCHA`,gg=class{constructor(e){this.type=mg,this.auth=ig(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ph(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new fh(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;dh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(hg)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new fg().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&dh(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=lg();t.length!==0&&(t+=n),cg(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function _g(e,t,n,r=!1,i=!1){let a=new gg(e),o;if(i)o=hg;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function vg(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await _g(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await _g(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await _g(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await _g(e,t,n,!1,!0))):Promise.reject(i)):r(e,await _g(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function yg(e){let t=ig(e),n=new fh(await ph(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new gg(t).verify()}function bg(e,t){let n=cm(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Ef(n.getOptions(),t??{}))return e;zm(e,`already-initialized`)}return n.initialize({options:t})}function xg(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fh);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Sg(e,t,n){let r=ig(e);z(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=Cg(t),{host:o,port:s}=wg(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),z(Ef(l,r.config.emulator)&&Ef(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ef(o)?(tf(`${a}//${o}${c}`),cf(`Auth`,!0)):i||Eg()}function Cg(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function wg(e){let t=Cg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:Tg(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:Tg(t)}}}function Tg(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function Eg(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var Dg=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wm(`not implemented`)}_getIdTokenResponse(e){return Wm(`not implemented`)}_linkToIdToken(e,t){return Wm(`not implemented`)}_getReauthenticationResolver(e){return Wm(`not implemented`)}};async function Og(e,t){return ih(e,`POST`,`/v1/accounts:signUp`,t)}async function kg(e,t){return oh(e,`POST`,`/v1/accounts:signInWithPassword`,rh(e,t))}async function Ag(e,t){return oh(e,`POST`,`/v1/accounts:signInWithEmailLink`,rh(e,t))}async function jg(e,t){return oh(e,`POST`,`/v1/accounts:signInWithEmailLink`,rh(e,t))}var Mg=class e extends Dg{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return vg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,kg,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Ag(e,{email:this._email,oobCode:this._password});default:zm(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return vg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Og,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return jg(e,{idToken:t,email:this._email,oobCode:this._password});default:zm(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Ng(e,t){return oh(e,`POST`,`/v1/accounts:signInWithIdp`,rh(e,t))}var Pg=`http://localhost`,Fg=class e extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zm(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Ng(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Ng(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ng(e,t)}buildRequest(){let e={requestUri:Pg,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Of(t)}return e}};async function Ig(e,t){return ih(e,`POST`,`/v1/accounts:sendVerificationCode`,rh(e,t))}async function Lg(e,t){return oh(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,rh(e,t))}async function Rg(e,t){let n=await oh(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,rh(e,t));if(n.temporaryProof)throw uh(e,`account-exists-with-different-credential`,n);return n}var zg={USER_NOT_FOUND:`user-not-found`};async function Bg(e,t){return oh(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,rh(e,{...t,operation:`REAUTH`}),zg)}var Vg=class e extends Dg{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return Lg(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Rg(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Bg(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Hg(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Ug(e){let t=kf(Af(e)).link,n=t?kf(Af(t)).deep_link_id:null,r=kf(Af(e)).deep_link_id;return(r?kf(Af(r)).link:null)||r||n||t||e}var Wg=class e{constructor(e){let t=kf(Af(e)),n=t.apiKey??null,r=t.oobCode??null,i=Hg(t.mode??null);z(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Ug(t);try{return new e(n)}catch{return null}}},Gg=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Mg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Wg.parseLink(t);return z(n,`argument-error`),Mg._fromEmailAndCode(e,n.code,n.tenantId)}};Gg.PROVIDER_ID=`password`,Gg.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Gg.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Kg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},qg=class extends Kg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Jg=class e extends qg{constructor(){super(`facebook.com`)}static credential(t){return Fg._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Jg.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Jg.PROVIDER_ID=`facebook.com`;var Yg=class e extends qg{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Fg._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Yg.GOOGLE_SIGN_IN_METHOD=`google.com`,Yg.PROVIDER_ID=`google.com`;var Xg=class e extends qg{constructor(){super(`github.com`)}static credential(t){return Fg._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Xg.GITHUB_SIGN_IN_METHOD=`github.com`,Xg.PROVIDER_ID=`github.com`;var Zg=class e extends qg{constructor(){super(`twitter.com`)}static credential(t,n){return Fg._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Zg.TWITTER_SIGN_IN_METHOD=`twitter.com`,Zg.PROVIDER_ID=`twitter.com`;async function Qg(e,t){return oh(e,`POST`,`/v1/accounts:signUp`,rh(e,t))}var $g=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Nh._fromIdTokenResponse(t,r,i),providerId:e_(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:e_(r),_tokenResponse:r,operationType:n})}};function e_(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var t_=class e extends xf{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function n_(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?t_._fromErrorAndOperation(e,n,t,r):n})}async function r_(e,t,n=!1){let r=await xh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $g._forOperation(e,`link`,r)}async function i_(e,t,n=!1){let{auth:r}=e;if(lm(r.app))return Promise.reject(Hm(r));let i=`reauthenticate`;try{let a=await xh(e,n_(r,i,t,e),n);z(a.idToken,r,`internal-error`);let o=yh(a.idToken);z(o,r,`internal-error`);let{sub:s}=o;return z(e.uid===s,r,`user-mismatch`),$g._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&zm(r,`user-mismatch`),e}}async function a_(e,t,n=!1){if(lm(e.app))return Promise.reject(Hm(e));let r=`signIn`,i=await n_(e,r,t),a=await $g._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function o_(e,t){return a_(ig(e),t)}async function s_(e){let t=ig(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function c_(e,t,n){if(lm(e.app))return Promise.reject(Hm(e));let r=ig(e),i=await vg(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Qg,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&s_(e),t}),a=await $g._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function l_(e,t,n){return lm(e.app)?Promise.reject(Hm(e)):o_(Bf(e),Gg.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&s_(e),t})}function u_(e,t,n,r){return Bf(e).onIdTokenChanged(t,n,r)}function d_(e,t,n){return Bf(e).beforeAuthStateChanged(t,n)}function f_(e,t,n,r){return Bf(e).onAuthStateChanged(t,n,r)}function p_(e){return Bf(e).signOut()}async function m_(e){return Bf(e).delete()}function h_(e,t){return ih(e,`POST`,`/v2/accounts/mfaEnrollment:start`,rh(e,t))}function g_(e,t){return ih(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,rh(e,t))}function __(e,t){return ih(e,`POST`,`/v2/accounts/mfaEnrollment:start`,rh(e,t))}function v_(e,t){return ih(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,rh(e,t))}var y_=`__sak`,b_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(y_,`1`),this.storage.removeItem(y_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},x_=1e3,S_=10,C_=class extends b_{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Xh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,S_):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},x_)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};C_.type=`LOCAL`;var w_=C_,T_=1e3;function E_(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function D_(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var O_=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=D_(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:E_(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=D_(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=D_(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=E_(n),i=setInterval(()=>{let e=E_(n);e!==r&&(t(e),r=e)},T_);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};O_.type=`COOKIE`;var k_=class extends b_{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};k_.type=`SESSION`;var A_=k_;function j_(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var M_=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await j_(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};M_.receivers=[];function N_(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var P_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=N_(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function F_(){return window}function I_(e){F_().location.href=e}function L_(){return F_().WorkerGlobalScope!==void 0&&typeof F_().importScripts==`function`}async function R_(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z_(){return navigator?.serviceWorker?.controller||null}function B_(){return L_()?self:null}var V_=`firebaseLocalStorageDb`,H_=1,U_=`firebaseLocalStorage`,W_=`fbase_key`,G_=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function K_(e,t){return e.transaction([U_],t?`readwrite`:`readonly`).objectStore(U_)}function q_(){return new G_(indexedDB.deleteDatabase(V_)).toPromise()}function J_(){let e=indexedDB.open(V_,H_);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(U_,{keyPath:W_})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(U_)?t(n):(n.close(),await q_(),t(await J_()))})})}async function Y_(e,t,n){return new G_(K_(e,!0).put({[W_]:t,value:n})).toPromise()}async function X_(e,t){let n=await new G_(K_(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Z_(e,t){return new G_(K_(e,!0).delete(t)).toPromise()}var Q_=800,$_=3,ev=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await J_(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>$_)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return L_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=M_._getInstance(B_()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await R_(),!this.activeServiceWorker)return;this.sender=new P_(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z_()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await J_();return await Y_(e,y_,`1`),await Z_(e,y_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>X_(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Z_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new G_(K_(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q_)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};ev.type=`LOCAL`;var tv=ev;function nv(e,t){return ih(e,`POST`,`/v2/accounts/mfaSignIn:start`,rh(e,t))}function rv(e,t){return ih(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,rh(e,t))}function iv(e,t){return ih(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,rh(e,t))}dg(`rcb`),new Zm(3e4,6e4);var av=`recaptcha`;async function ov(e,t,n){if(!e._getRecaptchaConfig())try{await yg(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return z(t.type===`enroll`,e,`internal-error`),(await vg(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===hg?(z(n?.type===av,e,`argument-error`),h_(e,await sv(e,t,n))):h_(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{z(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return z(i,e,`missing-multi-factor-info`),(await vg(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===hg?(z(n?.type===av,e,`argument-error`),nv(e,await sv(e,t,n))):nv(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await vg(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===hg?(z(n?.type===av,e,`argument-error`),Ig(e,await sv(e,t,n))):Ig(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function sv(e,t,n){z(n.type===av,e,`argument-error`);let r=await n.verify();z(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var cv=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ig(t)}verifyPhoneNumber(e,t){return ov(this.auth,e,Bf(t))}static credential(e,t){return Vg._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Vg._fromTokenResponse(t,n):null}};cv.PROVIDER_ID=`phone`,cv.PHONE_SIGN_IN_METHOD=`phone`;function lv(e,t){return t?Fh(t):(z(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var uv=class extends Dg{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Ng(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ng(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ng(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function dv(e){return a_(e.auth,new uv(e),e.bypassAuthState)}function fv(e){let{auth:t,user:n}=e;return z(n,t,`internal-error`),i_(n,new uv(e),e.bypassAuthState)}async function pv(e){let{auth:t,user:n}=e;return z(n,t,`internal-error`),r_(n,new uv(e),e.bypassAuthState)}var mv=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return dv;case`linkViaPopup`:case`linkViaRedirect`:return pv;case`reauthViaPopup`:case`reauthViaRedirect`:return fv;default:zm(this.auth,`internal-error`)}}resolve(e){Gm(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gm(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},hv=new Zm(2e3,1e4),gv=class e extends mv{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return z(e,this.auth,`internal-error`),e}async onExecution(){Gm(this.filter.length===1,`Popup operations only handle one event`);let e=N_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bm(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bm(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bm(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,hv.get())};e()}};gv.currentPopupAction=null;var _v=`pendingRedirect`,vv=new Map,yv=class extends mv{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=vv.get(this.auth._key());if(!e){try{let t=await bv(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}vv.set(this.auth._key(),e)}return this.bypassAuthState||vv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function bv(e,t){let n=Cv(t),r=Sv(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function xv(e,t){vv.set(e._key(),t)}function Sv(e){return Fh(e._redirectPersistence)}function Cv(e){return Rh(_v,e.config.apiKey,e.name)}async function wv(e,t,n=!1){if(lm(e.app))return Promise.reject(Hm(e));let r=ig(e),i=await new yv(r,lv(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var Tv=600*1e3,Ev=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kv(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!Ov(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Bm(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tv&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}};function Dv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function Ov({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function kv(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return Ov(e);default:return!1}}async function Av(e,t={}){return ih(e,`GET`,`/v1/projects`,t)}var jv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mv=/^https?/;async function Nv(e){if(e.config.emulator)return;let{authorizedDomains:t}=await Av(e);for(let e of t)try{if(Pv(e))return}catch{}zm(e,`unauthorized-domain`)}function Pv(e){let t=Km(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!Mv.test(n))return!1;if(jv.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var Fv=new Zm(3e4,6e4);function Iv(){let e=F_().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Lv(e){return new Promise((t,n)=>{function r(){Iv(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),n(Bm(e,`network-request-failed`))},timeout:Fv.get()})}if(F_().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(F_().gapi?.load)r();else{let t=dg(`iframefcb`);return F_()[t]=()=>{gapi.load?r():n(Bm(e,`network-request-failed`))},cg(`${ug()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Rv=null,e})}var Rv=null;function zv(e){return Rv||=Lv(e),Rv}var Bv=new Zm(5e3,15e3),Vv=`__/auth/iframe`,Hv=`emulator/auth/iframe`,Uv={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Wv=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Gv(e){let t=e.config;z(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Qm(t,Hv):`https://${e.config.authDomain}/${Vv}`,r={apiKey:t.apiKey,appName:e.name,v:fm},i=Wv.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Of(r).slice(1)}`}async function Kv(e){let t=await zv(e),n=F_().gapi;return z(n,e,`internal-error`),t.open({where:document.body,url:Gv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Bm(e,`network-request-failed`),a=F_().setTimeout(()=>{r(i)},Bv.get());function o(){F_().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var qv={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Jv=500,Yv=600,Xv=`_blank`,Zv=`http://localhost`,Qv=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $v(e,t,n,r=Jv,i=Yv){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...qv,width:r.toString(),height:i.toString(),top:a,left:o},l=lf().toLowerCase();n&&(s=Uh(l)?Xv:n),Vh(l)&&(t||=Zv,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Yh(l)&&s!==`_self`)return ey(t||``,s),new Qv(null);let d=window.open(t||``,s,u);z(d,e,`popup-blocked`);try{d.focus()}catch{}return new Qv(d)}function ey(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ty=`__/auth/handler`,ny=`emulator/auth/handler`,ry=`fac`;async function iy(e,t,n,r,i,a){z(e.config.authDomain,e,`auth-domain-config-required`),z(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fm,eventId:i};if(t instanceof Kg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,Tf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof qg){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${ry}=${encodeURIComponent(c)}`:``;return`${ay(e)}?${Of(s).slice(1)}${l}`}function ay({config:e}){return e.emulator?Qm(e,ny):`https://${e.authDomain}/${ty}`}var oy=`webStorageSupport`,sy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=wv,this._overrideRedirectResult=xv}async _openPopup(e,t,n,r){return Gm(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),$v(e,await iy(e,t,n,Km(),r),N_())}async _openRedirect(e,t,n,r){return await this._originValidation(e),I_(await iy(e,t,n,Km(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Gm(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Kv(e),n=new Ev(e);return t.register(`authEvent`,t=>(z(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(oy,{type:oy},n=>{let r=n?.[0]?.[oy];r!==void 0&&t(!!r),zm(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zh()||Hh()||Jh()}},cy=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Wm(`unexpected MultiFactorSessionType`)}}},ly=class e extends cy{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return g_(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return rv(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},uy=class{constructor(){}static assertion(e){return ly._fromCredential(e)}};uy.FACTOR_ID=`phone`;var dy=class{static assertionForEnrollment(e,t){return fy._fromSecret(e,t)}static assertionForSignIn(e,t){return fy._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;z(t.user?.auth!==void 0,`internal-error`);let n=await __(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return py._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};dy.FACTOR_ID=`totp`;var fy=class e extends cy{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return z(this.secret!==void 0,e,`argument-error`),v_(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){z(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return iv(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},py=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(my(e)||my(t))&&(n=!0),n&&(my(e)&&(e=this.auth.currentUser?.email||`unknownuser`),my(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function my(e){return e===void 0||e?.length===0}var hy=`@firebase/auth`,gy=`1.11.1`,_y=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vy(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function yy(e){sm(new Vf(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;z(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new rg(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:Qh(e)});return xg(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),sm(new Vf(`auth-internal`,e=>(e=>new _y(e))(ig(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),hm(hy,gy,vy(e)),hm(hy,gy,`esm2020`)}var by=Qd(`authIdTokenMaxAge`)||300,xy=null,Sy=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>by)return;let i=n?.token;xy!==i&&(xy=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cy(e=mm()){let t=cm(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=bg(e,{popupRedirectResolver:sy,persistence:[tv,w_,A_]}),r=Qd(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=Sy(e.toString());d_(n,t,()=>t(n.currentUser)),u_(n,e=>t(e))}}let i=Yd(`auth`);return i&&Sg(n,`http://${i}`),n}function wy(){return document.getElementsByTagName(`head`)?.[0]??document}sg({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Bm(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,wy().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),yy(`Browser`),hm(`firebase`,`12.6.0`,`app`);var Ty=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Ey={},Dy,Oy;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Oy=Ey.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,Dy=Ey.Integer=o}).apply(Ty===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Ty);var ky=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Ay={},jy,My,Ny,Py,Fy,Iy,Ly,Ry;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof ky==`object`&&ky];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(ee)}};function ee(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function re(e){return/^[\s\xa0]*$/.test(e)}function ie(e,t){te.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ie,te),ie.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae=`closure_listenable_`+(Math.random()*1e6|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++oe,this.da=this.fa=!1}function ce(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function le(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function E(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function D(e){let t={};for(let n in e)t[n]=e[n];return t}let ue=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function de(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ue.length;t++)n=ue[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}fe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=me(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new se(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function pe(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ce(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function me(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var he=`closure_lm_`+(Math.random()*1e6|0),ge={};function _e(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)_e(e,t[a],n,r,i);return null}return n=De(n),e&&e[ae]?e.J(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Te(e);if(c||(e[he]=c=new fe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ye(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ye(){function e(n){return t.call(e.src,e.listener,n)}let t=we;return e}function be(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=De(n),e&&e[ae]?e.K(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function xe(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xe(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=De(n),e&&e[ae]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=me(t,n,r,i),n>-1&&(ce(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,r,i)),(n=e>-1?t[e]:null)&&Se(n))}function Se(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[ae])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(pe(n,e),n.h==0&&(n.src=null,t[he]=null)):ce(e)}}}function Ce(e){return e in ge?ge[e]:ge[e]=`on`+e}function we(e,t){if(e.da)e=!0;else{t=new ie(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Se(e),e=n.call(r,t)}return e}function Te(e){return e=e[he],e instanceof fe?e:null}var Ee=`__closure_events_fn_`+(Math.random()*1e9>>>0);function De(e){return typeof e==`function`?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Oe(){T.call(this),this.i=new fe(this),this.M=this,this.G=null}d(Oe,T),Oe.prototype[ae]=!0,Oe.prototype.removeEventListener=function(e,t,n,r){xe(this,e,t,n,r)};function ke(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new te(t,e);else if(t instanceof te)t.target=t.target||e;else{var i=t;t=new te(r,e),de(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Ae(a,r,!0,t)&&i;if(a=t.g=e,i=Ae(a,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Ae(a,r,!1,t)&&i}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ce(n[e]);delete e.g[t],e.h--}}this.G=null},Oe.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ae(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&pe(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function je(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Me(e){e.g=je(()=>{e.g=null,e.i&&(e.i=!1,Me(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Ne extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(e){T.call(this),this.h=e,this.g={}}d(Pe,T);var Fe=[];function Ie(e){le(e.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},e),e.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ie(this)},Pe.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Le=o.JSON.stringify,Re=o.JSON.parse,ze=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Be(){}function Ve(){}var He={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ue(){te.call(this,`d`)}d(Ue,te);function We(){te.call(this,`c`)}d(We,te);var Ge={},Ke=null;function qe(){return Ke||=new Oe}Ge.Ia=`serverreachability`;function Je(e){te.call(this,Ge.Ia,e)}d(Je,te);function Ye(e){let t=qe();ke(t,new Je(t))}Ge.STAT_EVENT=`statevent`;function Xe(e,t){te.call(this,Ge.STAT_EVENT,e),this.stat=t}d(Xe,te);function Ze(e){let t=qe();ke(t,new Xe(t,e))}Ge.Ja=`timingevent`;function Qe(e,t){te.call(this,Ge.Ja,e),this.size=t}d(Qe,te);function $e(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function et(){this.g=!0}et.prototype.ua=function(){this.g=!1};function tt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function nt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function rt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+at(e,n)+(r?` `+r:``)})}function it(e,t){e.info(function(){return`TIMEOUT: `+t})}et.prototype.info=function(){};function at(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Le(a)}catch{return t}}var ot={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},st={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ct;function lt(){}d(lt,Be),lt.prototype.g=function(){return new XMLHttpRequest},ct=new lt;function ut(e){return encodeURIComponent(String(e))}function dt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ft(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pt}function pt(){this.i=null,this.g=``,this.h=!1}var mt={},ht={};function gt(e,t,n){e.M=1,e.A=Ht(Rt(t)),e.u=n,e.R=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),xt(e),e.B=Rt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),nn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new pt,e.g=Jn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Ne(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Fe[0]=i.toString()),i=Fe);for(let e=0;e<i.length;e++){let a=_e(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?D(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ye(),tt(e.i,e.v,e.B,e.l,e.S,e.u)}ft.prototype.ba=function(e){e=e.target;let t=this.O;t&&Tn(e)==3?t.j():this.Y(e)},ft.prototype.Y=function(e){try{if(e==this.g)a:{let s=Tn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||s!=4||c==7||Ye(c==8||l<=0?3:2),Ct(this);var t=this.g.ca();this.X=t;var n=vt(this);if(this.o=t==200,nt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!re(r)){var a=r;break b}}a=null}if(e=a)rt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Et(this,e);else{this.o=!1,this.m=3,Ze(12),Tt(this),wt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=bt(this,n),t==ht){s==4&&(this.m=4,Ze(14),e=!1),rt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==mt){this.m=4,Ze(15),rt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else rt(this.i,this.l,t,null),Et(this,t);if(yt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Ze(16),e=!1),this.o=this.o&&e,!e)rt(this.i,this.l,n,`[Invalid Chunked Response]`),Tt(this),wt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Bn(o),o.P=!0,Ze(11))}}else rt(this.i,this.l,n,null),Et(this,n);s==4&&Tt(this),this.o&&!this.K&&(s==4?Un(this.j,this):(this.o=!1,xt(this)))}else Dn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Tt(this),wt(this)}}}catch{}};function vt(e){if(!yt(e))return e.g.la();let t=En(e.g);if(t===``)return``;let n=``,r=t.length,i=Tn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Tt(e),wt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function yt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function bt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ht:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1,r+n>t.length?ht:(t=t.slice(r,r+n),e.C=r+n,t)))}ft.prototype.cancel=function(){this.K=!0,Tt(this)};function xt(e){e.T=Date.now()+e.H,St(e,e.H)}function St(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=$e(l(e.aa,e),t)}function Ct(e){e.D&&=(o.clearTimeout(e.D),null)}ft.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(it(this.i,this.B),this.M!=2&&(Ye(),Ze(17)),Tt(this),this.m=2,wt(this)):St(this,this.T-e)};function wt(e){e.j.I==0||e.K||Un(e.j,e)}function Tt(e){Ct(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Et(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||jt(n.h,e))){if(!e.L&&jt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Hn(n),jn(n);else break a;zn(n),Ze(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=$e(l(n.Va,n),6e3));At(n.h)<=1&&n.ta&&(n.ta=void 0)}else Gn(n,11)}else if((e.L||n.g==e)&&Hn(n),!re(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Mt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,O(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=qn(r,r.L?r.ba:null,r.W),o.L){Nt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ct(s),xt(s)),r.g=o}else Rn(r);n.i.length>0&&Nn(n)}else l[0]!=`stop`&&l[0]!=`close`||Gn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Gn(n,7):An(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ye(4)}catch{}}var Dt=class{constructor(e,t){this.g=e,this.map=t}};function Ot(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function At(e){return e.h?1:e.g?e.g.size:0}function jt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Mt(e,t){e.g?e.g.add(t):e.h=t}function Nt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ot.prototype.cancel=function(){if(this.i=Pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Pt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Ft=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function It(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Lt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Lt?(this.l=e.l,zt(this,e.j),this.o=e.o,this.g=e.g,Bt(this,e.u),this.h=e.h,Vt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(Ft))?(this.l=!1,zt(this,t[1]||``,!0),this.o=Ut(t[2]||``),this.g=Ut(t[3]||``,!0),Bt(this,t[4]),this.h=Ut(t[5]||``,!0),Vt(this,t[6]||``,!0),this.m=Ut(t[7]||``)):(this.l=!1,this.i=new Zt(null,this.l))}Lt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Wt(t,Kt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Wt(t,Kt,!0),`@`),e.push(ut(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Wt(n,n.charAt(0)==`/`?Jt:qt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Wt(n,Xt)),e.join(``)},Lt.prototype.resolve=function(e){let t=Rt(this),n=!!e.j;n?zt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Bt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Vt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Rt(e){return new Lt(e)}function zt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Vt(e,t,n){t instanceof Zt?(e.i=t,on(e.i,e.l)):(n||(t=Wt(t,Yt)),e.i=new Zt(t,e.l))}function O(e,t,n){e.i.set(t,n)}function Ht(e){return O(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Wt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Gt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Kt=/[#\/\?@]/g,qt=/[#\?:]/g,Jt=/[#\?]/g,Yt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qt(e){e.g||(e.g=new Map,e.h=0,e.i&&It(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Zt.prototype,e.add=function(e,t){Qt(this),this.i=null,e=an(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $t(e,t){Qt(e),t=an(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function en(e,t){return Qt(e),t=an(e,t),e.g.has(t)}e.forEach=function(e,t){Qt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function tn(e,t){Qt(e);let n=[];if(typeof t==`string`)en(e,t)&&(n=n.concat(e.g.get(an(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Qt(this),this.i=null,e=an(this,e),en(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=tn(this,e),e.length>0?String(e[0]):t):t};function nn(e,t,n){$t(e,t),n.length>0&&(e.i=null,e.g.set(an(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ut(n);n=tn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ut(n[t])),e.push(r)}}return this.i=e.join(`&`)};function rn(e){let t=new Zt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(Qt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&($t(this,t),nn(this,n,e))},e)),e.j=t}function sn(e,t){let n=new et;if(o.Image){let r=new Image;r.onload=u(ln,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(ln,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(ln,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(ln,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cn(e,t){let n=new et,r=new AbortController,i=setTimeout(()=>{r.abort(),ln(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ln(n,`TestPingServer: ok`,!0,t):ln(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),ln(n,`TestPingServer: error`,!1,t)})}function ln(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function un(){this.g=new ze}function dn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(dn,Be),dn.prototype.g=function(){return new fn(this.i,this.h)};function fn(e,t){Oe.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(fn,Oe),e=fn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,hn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;pn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function pn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):hn(this),this.readyState==3&&pn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,mn(this))},e.Na=function(e){this.g&&(this.response=e,mn(this))},e.ga=function(){this.g&&mn(this)};function mn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,hn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function gn(e){let t=``;return le(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function _n(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=gn(n),typeof e==`string`||O(e,t,n))}function vn(e){Oe.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(vn,Oe);var yn=/^https?$/i,bn=[`POST`,`PUT`];e=vn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ct.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){xn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(bn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}};function xn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Sn(e),wn(e)}function Sn(e){e.A||(e.A=!0,ke(e,`complete`),ke(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ke(this,`complete`),ke(this,`abort`),wn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),vn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Cn(this):this.Xa())},e.Xa=function(){Cn(this)};function Cn(e){if(e.h&&a!==void 0){if(e.v&&Tn(e)==4)setTimeout(e.Ca.bind(e),0);else if(ke(e,`readystatechange`),Tn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Ft)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!yn.test(t?t.toLowerCase():``)}n=r}if(n)ke(e,`complete`),ke(e,`success`);else{e.o=6;try{var i=Tn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,Sn(e)}}finally{wn(e)}}}}function wn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||ke(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Re(t)}};function En(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Dn(e){let t={};e=(e.g&&Tn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(re(e[r]))continue;var n=dt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}E(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function On(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.za=0,this.i=[],this.j=new et,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=On(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=On(`baseRetryDelayMs`,5e3,e),this.Za=On(`retryDelaySeedMs`,1e4,e),this.Ta=On(`forwardChannelMaxRetries`,2,e),this.va=On(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Ot(e&&e.concurrentRequestLimit),this.Ba=new un,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=kn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Ze(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=qn(this,null,this.W),Nn(this)};function An(e){if(Mn(e),e.I==3){var t=e.V++,n=Rt(e.J);if(O(n,`SID`,e.M),O(n,`RID`,t),O(n,`TYPE`,`terminate`),In(e,n),t=new ft(e,e.j,t),t.M=2,t.A=Ht(Rt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Jn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),xt(t)}Kn(e)}function jn(e){e.g&&=(Bn(e),e.g.cancel(),null)}function Mn(e){jn(e),e.v&&=(o.clearTimeout(e.v),null),Hn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Nn(e){if(!kt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function Pn(e,t){return At(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=$e(l(e.Ea,e,t),Wn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ft(this,this.j,e),a=this.o;if(this.U&&(a?(a=D(a),de(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Ln(this,i,t),n=Rt(this.J),O(n,`RID`,e),O(n,`CVER`,22),this.G&&O(n,`X-HTTP-Session-Id`,this.G),In(this,n),a&&(this.R?t=`headers=`+ut(gn(a))+`&`+t:this.u&&_n(n,this.u,a)),Mt(this.h,i),this.Ra&&O(n,`TYPE`,`init`),this.S?(O(n,`$req`,t),O(n,`SID`,`null`),i.U=!0,gt(i,n,null)):gt(i,n,t),this.I=2}}else this.I==3&&(e?Fn(this,e):this.i.length==0||kt(this.h)||Fn(this))};function Fn(e,t){var n=t?t.l:e.V++;let r=Rt(e.J);O(r,`SID`,e.M),O(r,`RID`,n),O(r,`AID`,e.K),In(e,r),e.u&&e.o&&_n(r,e.u,e.o),n=new ft(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Ln(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Mt(e.h,n),gt(n,r,t)}function In(e,t){e.H&&le(e.H,function(e,n){O(t,n,e)}),e.l&&le({},function(e,n){O(t,n,e)})}function Ln(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Le(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Rn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function zn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=$e(l(e.Da,e),Wn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Vn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=$e(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Ze(10),jn(this),Vn(this))};function Bn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Vn(e){e.g=new ft(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Rt(e.na);O(t,`RID`,`rpc`),O(t,`SID`,e.M),O(t,`AID`,e.K),O(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&O(t,`TO`,e.ia),O(t,`TYPE`,`xmlhttp`),In(e,t),e.u&&e.o&&_n(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Ht(Rt(t)),n.u=null,n.R=!0,_t(n,e)}e.Va=function(){this.C!=null&&(this.C=null,jn(this),zn(this),Ze(19))};function Hn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Un(e,t){var n=null;if(e.g==t){Hn(e),Bn(e),e.g=null;var r=2}else if(jt(e.h,t))n=t.G,Nt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=qe(),ke(r,new Qe(r,n)),Nn(e)}else Rn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Pn(e,t)||r==2&&zn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Gn(e,5);break;case 4:Gn(e,10);break;case 3:Gn(e,6);break;default:Gn(e,2)}}}function Wn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Gn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Lt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||zt(r,`https`),Ht(r),t?sn(r.toString(),n):cn(r.toString(),n)}else Ze(2);e.I=0,e.l&&e.l.pa(t),Kn(e),Mn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Ze(2)):(this.j.info(`Failed to ping google.com`),Ze(1))};function Kn(e){if(e.I=0,e.ja=[],e.l){let t=Pt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function qn(e,t,n){var r=n instanceof Lt?Rt(n):new Lt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Bt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Lt(null);r&&zt(e,r),t&&(e.g=t),i&&Bt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&O(r,n,t),O(r,`VER`,e.ka),In(e,r),r}function Jn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new vn(new dn({ab:n})):new vn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yn(){}e=Yn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Xn(){}Xn.prototype.g=function(e,t){return new Zn(e,t)};function Zn(e,t){Oe.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!re(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!re(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new er(this)}d(Zn,Oe),Zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){An(this.g)},Zn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Le(e),e=n);t.i.push(new Dt(t.Ya++,e)),t.I==3&&Nn(t)},Zn.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Zn.Z.N.call(this)};function Qn(e){Ue.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Qn,Ue);function $n(){We.call(this),this.status=1}d($n,We);function er(e){this.g=e}d(er,Yn),er.prototype.ra=function(){ke(this.g,`a`)},er.prototype.qa=function(e){ke(this.g,new Qn(e))},er.prototype.pa=function(e){ke(this.g,new $n)},er.prototype.oa=function(){ke(this.g,`b`)},Xn.prototype.createWebChannel=Xn.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Ry=Ay.createWebChannelTransport=function(){return new Xn},Ly=Ay.getStatEventTarget=function(){return qe()},Iy=Ay.Event=Ge,Fy=Ay.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,Py=Ay.ErrorCode=ot,st.COMPLETE=`complete`,Ny=Ay.EventType=st,Ve.EventType=He,He.OPEN=`a`,He.CLOSE=`b`,He.ERROR=`c`,He.MESSAGE=`d`,Oe.prototype.listen=Oe.prototype.J,My=Ay.WebChannel=Ve,Ay.FetchXmlHttpFactory=dn,vn.prototype.listenOnce=vn.prototype.K,vn.prototype.getLastError=vn.prototype.Ha,vn.prototype.getLastErrorCode=vn.prototype.ya,vn.prototype.getStatus=vn.prototype.ca,vn.prototype.getResponseJson=vn.prototype.La,vn.prototype.getResponseText=vn.prototype.la,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Fa,jy=Ay.XhrIo=vn}).apply(ky===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:ky);var zy=`@firebase/firestore`,By=`4.9.2`,Vy=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Vy.UNAUTHENTICATED=new Vy(null),Vy.GOOGLE_CREDENTIALS=new Vy(`google-credentials-uid`),Vy.FIRST_PARTY=new Vy(`first-party-uid`),Vy.MOCK_USER=new Vy(`mock-user`);var Hy=`12.3.0`,Uy=new Qf(`@firebase/firestore`);function Wy(){return Uy.logLevel}function B(e,...t){if(Uy.logLevel<=R.DEBUG){let n=t.map(qy);Uy.debug(`Firestore (${Hy}): ${e}`,...n)}}function Gy(e,...t){if(Uy.logLevel<=R.ERROR){let n=t.map(qy);Uy.error(`Firestore (${Hy}): ${e}`,...n)}}function Ky(e,...t){if(Uy.logLevel<=R.WARN){let n=t.map(qy);Uy.warn(`Firestore (${Hy}): ${e}`,...n)}}function qy(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function V(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Jy(e,r,n)}function Jy(e,t,n){let r=`FIRESTORE (${Hy}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Gy(r),Error(r)}function Yy(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Jy(t,i,r)}function H(e,t){return e}var U={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},W=class extends xf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Xy=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Zy=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Qy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vy.UNAUTHENTICATED)))}shutdown(){}},$y=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},eb=class{constructor(e){this.t=e,this.currentUser=Vy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yy(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Xy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xy,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{B(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(B(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Xy)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Yy(typeof t.accessToken==`string`,31837,{l:t}),new Zy(t.accessToken,this.currentUser)):null:(B(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Yy(e===null||typeof e==`string`,2055,{h:e}),new Vy(e)}},tb=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Vy.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},nb=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new tb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vy.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},rb=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},ib=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lm(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Yy(this.o===void 0,3512);let n=e=>{e.error!=null&&B(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,B(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{B(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):B(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new rb(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Yy(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new rb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ab(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var ob=class{static newId(){let e=``;for(;e.length<20;){let t=ab(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function G(e,t){return e<t?-1:e>t?1:0}function sb(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return ub(n)===ub(i)?G(n,i):ub(n)?1:-1}return G(e.length,t.length)}var cb=55296,lb=57343;function ub(e){let t=e.charCodeAt(0);return t>=cb&&t<=lb}function db(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var fb=`__name__`,pb=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&V(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&V(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return G(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):sb(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return Dy.fromString(e.substring(4,e.length-2))}},mb=class e extends pb{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new W(U.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},hb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gb=class e extends pb{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return hb.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fb}static keyField(){return new e([fb])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new W(U.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new W(U.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new W(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},K=class e{constructor(e){this.path=e}static fromPath(t){return new e(mb.fromString(t))}static fromName(t){return new e(mb.fromString(t).popFirst(5))}static empty(){return new e(mb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mb.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new mb(t.slice()))}};function _b(e,t,n){if(!n)throw new W(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vb(e,t,n,r){if(!0===t&&!0===r)throw new W(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yb(e){if(!K.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function bb(e){if(K.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xb(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Sb(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:V(12329,{type:typeof e})}function Cb(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(U.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=Sb(e);throw new W(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function wb(e,t){let n={typeString:e};return t&&(n.value=t),n}function Tb(e,t){if(!xb(e))throw new W(U.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new W(U.INVALID_ARGUMENT,n);return!0}var Eb=-62135596800,Db=1e6,Ob=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*Db))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new W(U.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<Eb||e>=253402300800)throw new W(U.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Db}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tb(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-Eb;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Ob._jsonSchemaVersion=`firestore/timestamp/1.0`,Ob._jsonSchema={type:wb(`string`,Ob._jsonSchemaVersion),seconds:wb(`number`),nanoseconds:wb(`number`)};var q=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Ob(0,0))}static max(){return new e(new Ob(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},kb=-1,Ab=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Ab.UNKNOWN_ID=-1;function jb(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Nb(q.fromTimestamp(r===1e9?new Ob(n+1,0):new Ob(n,r)),K.empty(),t)}function Mb(e){return new Nb(e.readTime,e.key,kb)}var Nb=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(q.min(),K.empty(),kb)}static max(){return new e(q.max(),K.empty(),kb)}};function Pb(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=K.comparator(e.documentKey,t.documentKey),n===0?G(e.largestBatchId,t.largestBatchId):n):n}var Fb=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Ib=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Lb(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==Fb)throw e;B(`LocalStore`,`Unexpectedly lost primary lease`)}var J=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&V(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Rb(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function zb(e){return e.name===`IndexedDbTransactionError`}var Bb=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Bb.ce=-1;var Vb=-1;function Hb(e){return e==null}function Ub(e){return e===0&&1/e==-1/0}function Wb(e){return typeof e==`number`&&Number.isInteger(e)&&!Ub(e)&&e<=2**53-1&&e>=-(2**53-1)}var Gb=``;function Kb(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Jb(t)),t=qb(e.get(n),t);return Jb(t)}function qb(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Gb:n+=``;break;default:n+=r}}return n}function Jb(e){return e+Gb+``}function Yb(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xb(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zb(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qb=class e{constructor(e,t){this.comparator=e,this.root=t||ex.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ex.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ex.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $b(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $b(this.root,e,this.comparator,!1)}getReverseIterator(){return new $b(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $b(this.root,e,this.comparator,!0)}},$b=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ex=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw V(43730,{key:this.key,value:this.value});if(this.right.isRed())throw V(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw V(27949);return e+(this.isRed()?0:1)}};ex.EMPTY=null,ex.RED=!0,ex.BLACK=!1,ex.EMPTY=new class{constructor(){this.size=0}get key(){throw V(57766)}get value(){throw V(16141)}get color(){throw V(16727)}get left(){throw V(29726)}get right(){throw V(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ex(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tx=class e{constructor(e){this.comparator=e,this.data=new Qb(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nx(this.data.getIterator())}getIteratorFrom(e){return new nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},nx=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},rx=class e{constructor(e){this.fields=e,e.sort(gb.comparator)}static empty(){return new e([])}unionWith(t){let n=new tx(gb.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return db(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},ix=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},ax=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new ix(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ax.EMPTY_BYTE_STRING=new ax(``);var ox=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sx(e){if(Yy(!!e,39018),typeof e==`string`){let t=0,n=ox.exec(e);if(Yy(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cx(e.seconds),nanos:cx(e.nanos)}}function cx(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function lx(e){return typeof e==`string`?ax.fromBase64String(e):ax.fromUint8Array(e)}var ux=`server_timestamp`,dx=`__type__`,fx=`__previous_value__`,px=`__local_write_time__`;function mx(e){return(e?.mapValue?.fields||{})[dx]?.stringValue===ux}function hx(e){let t=e.mapValue.fields[fx];return mx(t)?hx(t):t}function gx(e){let t=sx(e.mapValue.fields[px].timestampValue);return new Ob(t.seconds,t.nanos)}var _x=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},vx=`(default)`,yx=class e{constructor(e,t){this.projectId=e,this.database=t||vx}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===vx}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},bx=`__type__`,xx=`__max__`,Sx={mapValue:{fields:{__type__:{stringValue:xx}}}},Cx=`__vector__`,wx=`value`;function Tx(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?mx(e)?4:Hx(e)?9007199254740991:Bx(e)?10:11:V(28295,{value:e})}function Ex(e,t){if(e===t)return!0;let n=Tx(e);if(n!==Tx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gx(e).isEqual(gx(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=sx(e.timestampValue),r=sx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lx(e.bytesValue).isEqual(lx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cx(e.geoPointValue.latitude)===cx(t.geoPointValue.latitude)&&cx(e.geoPointValue.longitude)===cx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return cx(e.integerValue)===cx(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=cx(e.doubleValue),r=cx(t.doubleValue);return n===r?Ub(n)===Ub(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return db(e.arrayValue.values||[],t.arrayValue.values||[],Ex);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Yb(n)!==Yb(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!Ex(n[e],r[e])))return!1;return!0}(e,t);default:return V(52216,{left:e})}}function Dx(e,t){return(e.values||[]).find((e=>Ex(e,t)))!==void 0}function Ox(e,t){if(e===t)return 0;let n=Tx(e),r=Tx(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=cx(e.integerValue||e.doubleValue),r=cx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kx(e.timestampValue,t.timestampValue);case 4:return kx(gx(e),gx(t));case 5:return sb(e.stringValue,t.stringValue);case 6:return function(e,t){let n=lx(e),r=lx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=G(n[e],r[e]);if(t!==0)return t}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=G(cx(e.latitude),cx(t.latitude));return n===0?G(cx(e.longitude),cx(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Ax(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[wx]?.arrayValue,a=r[wx]?.arrayValue,o=G(i?.values?.length||0,a?.values?.length||0);return o===0?Ax(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sx.mapValue&&t===Sx.mapValue)return 0;if(e===Sx.mapValue)return 1;if(t===Sx.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=sb(r[e],a[e]);if(t!==0)return t;let o=Ox(n[r[e]],i[a[e]]);if(o!==0)return o}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw V(23264,{he:n})}}function kx(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return G(e,t);let n=sx(e),r=sx(t),i=G(n.seconds,r.seconds);return i===0?G(n.nanos,r.nanos):i}function Ax(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Ox(n[e],r[e]);if(t)return t}return G(n.length,r.length)}function jx(e){return Mx(e)}function Mx(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=sx(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return lx(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return K.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Mx(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Mx(e.fields[i])}`;return n+`}`}(e.mapValue):V(61005,{value:e})}function Nx(e){switch(Tx(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=hx(e);return t?16+Nx(t):16;case 5:return 2*e.stringValue.length;case 6:return lx(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Nx(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Xb(e.fields,((e,n)=>{t+=e.length+Nx(n)})),t}(e.mapValue);default:throw V(13486,{value:e})}}function Px(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fx(e){return!!e&&`integerValue`in e}function Ix(e){return!!e&&`arrayValue`in e}function Lx(e){return!!e&&`nullValue`in e}function Rx(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function zx(e){return!!e&&`mapValue`in e}function Bx(e){return(e?.mapValue?.fields||{})[bx]?.stringValue===Cx}function Vx(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Xb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vx(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vx(e.arrayValue.values[n]);return t}return{...e}}function Hx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xx}var Ux=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vx(t)}setAll(e){let t=gb.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vx(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());zx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ex(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xb(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Vx(this.value))}};function Wx(e){let t=[];return Xb(e.fields,((e,n)=>{let r=new gb([e]);if(zx(n)){let e=Wx(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new rx(t)}var Gx=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,q.min(),q.min(),q.min(),Ux.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,q.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,q.min(),q.min(),Ux.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,q.min(),q.min(),Ux.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ux.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ux.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Kx=class{constructor(e,t){this.position=e,this.inclusive=t}};function qx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?K.comparator(K.fromName(o.referenceValue),n.key):Ox(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Jx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ex(e.position[n],t.position[n]))return!1;return!0}var Yx=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Xx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Zx=class{},Qx=class e extends Zx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new oS(t,n,r):n===`array-contains`?new uS(t,r):n===`in`?new dS(t,r):n===`not-in`?new fS(t,r):n===`array-contains-any`?new pS(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new sS(e,n):new cS(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ox(t,this.value)):t!==null&&Tx(this.value)===Tx(t)&&this.matchesComparison(Ox(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return V(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$x=class e extends Zx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return eS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function eS(e){return e.op===`and`}function tS(e){return nS(e)&&eS(e)}function nS(e){for(let t of e.filters)if(t instanceof $x)return!1;return!0}function rS(e){if(e instanceof Qx)return e.field.canonicalString()+e.op.toString()+jx(e.value);if(tS(e))return e.filters.map((e=>rS(e))).join(`,`);{let t=e.filters.map((e=>rS(e))).join(`,`);return`${e.op}(${t})`}}function iS(e,t){return e instanceof Qx?function(e,t){return t instanceof Qx&&e.op===t.op&&e.field.isEqual(t.field)&&Ex(e.value,t.value)}(e,t):e instanceof $x?function(e,t){return t instanceof $x&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&iS(n,t.filters[r])),!0):!1}(e,t):void V(19439)}function aS(e){return e instanceof Qx?function(e){return`${e.field.canonicalString()} ${e.op} ${jx(e.value)}`}(e):e instanceof $x?function(e){return e.op.toString()+` {`+e.getFilters().map(aS).join(` ,`)+`}`}(e):`Filter`}var oS=class extends Qx{constructor(e,t,n){super(e,t,n),this.key=K.fromName(n.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},sS=class extends Qx{constructor(e,t){super(e,`in`,t),this.keys=lS(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},cS=class extends Qx{constructor(e,t){super(e,`not-in`,t),this.keys=lS(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function lS(e,t){return(t.arrayValue?.values||[]).map((e=>K.fromName(e.referenceValue)))}var uS=class extends Qx{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Ix(t)&&Dx(t.arrayValue,this.value)}},dS=class extends Qx{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&Dx(this.value.arrayValue,t)}},fS=class extends Qx{constructor(e,t){super(e,`not-in`,t)}matches(e){if(Dx(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dx(this.value.arrayValue,t)}},pS=class extends Qx{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Ix(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Dx(this.value.arrayValue,e)))}},mS=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function hS(e,t=null,n=[],r=[],i=null,a=null,o=null){return new mS(e,t,n,r,i,a,o)}function gS(e){let t=H(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>rS(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Hb(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>jx(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>jx(e))).join(`,`)),t.Te=e}return t.Te}function _S(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jx(e.startAt,t.startAt)&&Jx(e.endAt,t.endAt)}function vS(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var yS=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function bS(e,t,n,r,i,a,o,s){return new yS(e,t,n,r,i,a,o,s)}function xS(e){return new yS(e)}function SS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function CS(e){return e.collectionGroup!==null}function wS(e){let t=H(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new tx(gb.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Yx(r,n))})),e.has(gb.keyField().canonicalString())||t.Ie.push(new Yx(gb.keyField(),n))}return t.Ie}function TS(e){let t=H(e);return t.Ee||=ES(t,wS(e)),t.Ee}function ES(e,t){if(e.limitType===`F`)return hS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Yx(e.field,t)}));let n=e.endAt?new Kx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Kx(e.startAt.position,e.startAt.inclusive):null;return hS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function DS(e,t){let n=e.filters.concat([t]);return new yS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function OS(e,t,n){return new yS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kS(e,t){return _S(TS(e),TS(t))&&e.limitType===t.limitType}function AS(e){return`${gS(TS(e))}|lt:${e.limitType}`}function jS(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>aS(e))).join(`, `)}]`),Hb(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>jx(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>jx(e))).join(`,`)),`Target(${t})`}(TS(e))}; limitType=${e.limitType})`}function MS(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?K.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of wS(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=qx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wS(e),t)||e.endAt&&!function(e,t,n){let r=qx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wS(e),t))}(e,t)}function NS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function PS(e){return(t,n)=>{let r=!1;for(let i of wS(e)){let e=FS(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function FS(e,t,n){let r=e.field.isKeyField()?K.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Ox(r,i):V(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return V(19790,{direction:e.dir})}}var IS=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xb(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}},LS=new Qb(K.comparator);function RS(){return LS}var zS=new Qb(K.comparator);function BS(...e){let t=zS;for(let n of e)t=t.insert(n.key,n);return t}function VS(e){let t=zS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function HS(){return WS()}function US(){return WS()}function WS(){return new IS((e=>e.toString()),((e,t)=>e.isEqual(t)))}var GS=new Qb(K.comparator),KS=new tx(K.comparator);function Y(...e){let t=KS;for(let n of e)t=t.add(n);return t}var qS=new tx(G);function JS(){return qS}function YS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Ub(t)?`-0`:t}}function XS(e){return{integerValue:``+e}}function ZS(e,t){return Wb(t)?XS(t):YS(e,t)}var QS=class{constructor(){this._=void 0}};function $S(e,t,n){return e instanceof nC?function(e,t){let n={fields:{[dx]:{stringValue:ux},[px]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&mx(t)&&(t=hx(t)),t&&(n.fields[fx]=t),{mapValue:n}}(n,t):e instanceof rC?iC(e,t):e instanceof aC?oC(e,t):function(e,t){let n=tC(e,t),r=cC(n)+cC(e.Ae);return Fx(n)&&Fx(e.Ae)?XS(r):YS(e.serializer,r)}(e,t)}function eC(e,t,n){return e instanceof rC?iC(e,t):e instanceof aC?oC(e,t):n}function tC(e,t){return e instanceof sC?function(e){return Fx(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var nC=class extends QS{},rC=class extends QS{constructor(e){super(),this.elements=e}};function iC(e,t){let n=lC(t);for(let t of e.elements)n.some((e=>Ex(e,t)))||n.push(t);return{arrayValue:{values:n}}}var aC=class extends QS{constructor(e){super(),this.elements=e}};function oC(e,t){let n=lC(t);for(let t of e.elements)n=n.filter((e=>!Ex(e,t)));return{arrayValue:{values:n}}}var sC=class extends QS{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function cC(e){return cx(e.integerValue||e.doubleValue)}function lC(e){return Ix(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var uC=class{constructor(e,t){this.field=e,this.transform=t}};function dC(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rC&&t instanceof rC||e instanceof aC&&t instanceof aC?db(e.elements,t.elements,Ex):e instanceof sC&&t instanceof sC?Ex(e.Ae,t.Ae):e instanceof nC&&t instanceof nC}(e.transform,t.transform)}var fC=class{constructor(e,t){this.version=e,this.transformResults=t}},pC=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mC(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var hC=class{};function gC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new EC(e.key,pC.none()):new xC(e.key,e.data,pC.none());{let n=e.data,r=Ux.empty(),i=new tx(gb.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new SC(e.key,r,new rx(i.toArray()),pC.none())}}function _C(e,t,n){e instanceof xC?function(e,t,n){let r=e.value.clone(),i=wC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof SC?function(e,t,n){if(!mC(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=wC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(CC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vC(e,t,n,r){return e instanceof xC?function(e,t,n,r){if(!mC(e.precondition,t))return n;let i=e.value.clone(),a=TC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof SC?function(e,t,n,r){if(!mC(e.precondition,t))return n;let i=TC(e.fieldTransforms,r,t),a=t.data;return a.setAll(CC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yC(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=tC(r.transform,e||null);i!=null&&(n===null&&(n=Ux.empty()),n.set(r.field,i))}return n||null}function bC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&db(e,t,((e,t)=>dC(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xC=class extends hC{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},SC=class extends hC{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function CC(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function wC(e,t,n){let r=new Map;Yy(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,eC(o,s,n[i]))}return r}function TC(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,$S(e,a,t))}return r}var EC=class extends hC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},DC=class extends hC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},OC=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&_C(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=vC(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=vC(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=US();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=gC(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(q.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Y())}isEqual(e){return this.batchId===e.batchId&&db(this.mutations,e.mutations,((e,t)=>bC(e,t)))&&db(this.baseMutations,e.baseMutations,((e,t)=>bC(e,t)))}},kC=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){Yy(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return GS}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},AC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},jC=class{constructor(e,t){this.count=e,this.unchangedNames=t}},MC,X;function NC(e){switch(e){case U.OK:return V(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return V(15467,{code:e})}}function PC(e){if(e===void 0)return Gy(`GRPC error has no .code`),U.UNKNOWN;switch(e){case MC.OK:return U.OK;case MC.CANCELLED:return U.CANCELLED;case MC.UNKNOWN:return U.UNKNOWN;case MC.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case MC.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case MC.INTERNAL:return U.INTERNAL;case MC.UNAVAILABLE:return U.UNAVAILABLE;case MC.UNAUTHENTICATED:return U.UNAUTHENTICATED;case MC.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case MC.NOT_FOUND:return U.NOT_FOUND;case MC.ALREADY_EXISTS:return U.ALREADY_EXISTS;case MC.PERMISSION_DENIED:return U.PERMISSION_DENIED;case MC.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case MC.ABORTED:return U.ABORTED;case MC.OUT_OF_RANGE:return U.OUT_OF_RANGE;case MC.UNIMPLEMENTED:return U.UNIMPLEMENTED;case MC.DATA_LOSS:return U.DATA_LOSS;default:return V(39323,{code:e})}}(X=MC||={})[X.OK=0]=`OK`,X[X.CANCELLED=1]=`CANCELLED`,X[X.UNKNOWN=2]=`UNKNOWN`,X[X.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,X[X.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,X[X.NOT_FOUND=5]=`NOT_FOUND`,X[X.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,X[X.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,X[X.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,X[X.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,X[X.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,X[X.ABORTED=10]=`ABORTED`,X[X.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,X[X.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,X[X.INTERNAL=13]=`INTERNAL`,X[X.UNAVAILABLE=14]=`UNAVAILABLE`,X[X.DATA_LOSS=15]=`DATA_LOSS`;var FC=null;function IC(){return new TextEncoder}var LC=new Dy([4294967295,4294967295],0);function RC(e){let t=IC().encode(e),n=new Oy;return n.update(t),new Uint8Array(n.digest())}function zC(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Dy([n,r],0),new Dy([i,a],0)]}var BC=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new VC(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new VC(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new VC(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Dy.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Dy.fromNumber(n)));return r.compare(LC)===1&&(r=new Dy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=zC(RC(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=zC(RC(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},VC=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},HC=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,UC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(q.min(),i,new Qb(G),RS(),Y())}},UC=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Y(),Y(),Y())}},WC=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},GC=class{constructor(e,t){this.targetId=e,this.Ce=t}},KC=class{constructor(e,t,n=ax.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},qC=class{constructor(){this.ve=0,this.Fe=XC(),this.Me=ax.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Y(),t=Y(),n=Y();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:V(38017,{changeType:i})}})),new UC(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=XC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,Yy(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},JC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=RS(),this.Je=YC(),this.He=YC(),this.Ye=new Qb(G)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:V(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(vS(i))if(n===0){let e=new K(i.path);this.et(t,e,Gx.newNoDocument(e,q.min()))}else Yy(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}FC?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=lx(n).toUint8Array()}catch(e){if(e instanceof ix)return Ky(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new BC(a,r,i)}catch(e){return Ky(e instanceof VC?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&vS(i.target)){let t=new K(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Gx.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Y();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new HC(e,t,this.Ye,this.je,n);return this.je=RS(),this.Je=YC(),this.He=YC(),this.Ye=new Qb(G),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new tx(G),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new tx(G),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||B(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function YC(){return new Qb(K.comparator)}function XC(){return new Qb(K.comparator)}var ZC=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),QC=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),$C=(()=>({and:`AND`,or:`OR`}))(),ew=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function tw(e,t){return e.useProto3Json||Hb(t)?t:{value:t}}function nw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function rw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function iw(e,t){return nw(e,t.toTimestamp())}function aw(e){return Yy(!!e,49232),q.fromTimestamp(function(e){let t=sx(e);return new Ob(t.seconds,t.nanos)}(e))}function ow(e,t){return sw(e,t).canonicalString()}function sw(e,t){let n=function(e){return new mb([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function cw(e){let t=mb.fromString(e);return Yy(jw(t),10190,{key:t.toString()}),t}function lw(e,t){return ow(e.databaseId,t.path)}function uw(e,t){let n=cw(t);if(n.get(1)!==e.databaseId.projectId)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new K(mw(n))}function dw(e,t){return ow(e.databaseId,t)}function fw(e){let t=cw(e);return t.length===4?mb.emptyPath():mw(t)}function pw(e){return new mb([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function mw(e){return Yy(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function hw(e,t,n){return{name:lw(e,t),fields:n.value.mapValue.fields}}function gw(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:V(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Yy(t===void 0||typeof t==`string`,58123),ax.fromBase64String(t||``)):(Yy(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),ax.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new KC(r,i,a,o&&function(e){return new W(e.code===void 0?U.UNKNOWN:PC(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=uw(e,r.document.name),a=aw(r.document.updateTime),o=r.document.createTime?aw(r.document.createTime):q.min(),s=new Ux({mapValue:{fields:r.document.fields}}),c=Gx.newFoundDocument(i,a,o,s);n=new WC(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=uw(e,r.document),a=r.readTime?aw(r.readTime):q.min(),o=Gx.newNoDocument(i,a);n=new WC([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=uw(e,r.document);n=new WC([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return V(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new jC(r,i),o=e.targetId;n=new GC(o,a)}}return n}function _w(e,t){let n;if(t instanceof xC)n={update:hw(e,t.key,t.value)};else if(t instanceof EC)n={delete:lw(e,t.key)};else if(t instanceof SC)n={update:hw(e,t.key,t.data),updateMask:Aw(t.fieldMask)};else{if(!(t instanceof DC))return V(16599,{Vt:t.type});n={verify:lw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof nC)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof rC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof aC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sC)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw V(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?V(27497):{exists:t.exists}:{updateTime:iw(e,t.updateTime)}}(e,t.precondition)),n}function vw(e,t){return e&&e.length>0?(Yy(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?aw(e.updateTime):aw(t);return n.isEqual(q.min())&&(n=aw(t)),new fC(n,e.transformResults||[])}(e,t)))):[]}function yw(e,t){return{documents:[dw(e,t.path)]}}function bw(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=dw(e,i);let a=function(e){if(e.length!==0)return kw($x.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:Dw(e.field),direction:ww(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=tw(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function xw(e){let t=fw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yy(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=Cw(e);return t instanceof $x&&tS(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Yx(Ow(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Hb(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Kx(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Kx(e.values||[],t)}(n.endAt)),bS(t,i,o,a,s,`F`,c,l)}function Sw(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return V(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cw(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?V(30097,{filter:e}):function(e){return $x.create(e.compositeFilter.filters.map((e=>Cw(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return V(1026)}}(e.compositeFilter.op))}(e):function(e){return Qx.create(Ow(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return V(58110);default:return V(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Ow(e.unaryFilter.field);return Qx.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Ow(e.unaryFilter.field);return Qx.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Ow(e.unaryFilter.field);return Qx.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Ow(e.unaryFilter.field);return Qx.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return V(61313);default:return V(60726)}}(e)}function ww(e){return ZC[e]}function Tw(e){return QC[e]}function Ew(e){return $C[e]}function Dw(e){return{fieldPath:e.canonicalString()}}function Ow(e){return gb.fromServerFormat(e.fieldPath)}function kw(e){return e instanceof Qx?function(e){if(e.op===`==`){if(Rx(e.value))return{unaryFilter:{field:Dw(e.field),op:`IS_NAN`}};if(Lx(e.value))return{unaryFilter:{field:Dw(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Rx(e.value))return{unaryFilter:{field:Dw(e.field),op:`IS_NOT_NAN`}};if(Lx(e.value))return{unaryFilter:{field:Dw(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:Dw(e.field),op:Tw(e.op),value:e.value}}}(e):e instanceof $x?function(e){let t=e.getFilters().map((e=>kw(e)));return t.length===1?t[0]:{compositeFilter:{op:Ew(e.op),filters:t}}}(e):V(54877,{filter:e})}function Aw(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function jw(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var Mw=class e{constructor(e,t,n,r,i=q.min(),a=q.min(),o=ax.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Nw=class{constructor(e){this.yt=e}};function Pw(e){let t=xw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?OS(t,t.limit,`L`):t}var Fw=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(cx(e.integerValue));else if(`doubleValue`in e){let n=cx(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Ub(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=sx(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(lx(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Hx(e)?this.Ft(t,2**53-1):Bx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):V(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=wx,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(cx(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),K.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Fw.Kt=new Fw;var Iw=class{constructor(){this.Cn=new Lw}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Nb.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Nb.min())}updateCollectionGroup(e,t,n){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}},Lw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tx(mb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tx(mb.comparator)).toArray()}};new Uint8Array;var Rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040,Bw=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Bw.DEFAULT_COLLECTION_PERCENTILE=10,Bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bw.DEFAULT=new Bw(zw,Bw.DEFAULT_COLLECTION_PERCENTILE,Bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bw.DISABLED=new Bw(-1,0,0);var Vw=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},Hw=`LruGarbageCollector`,Uw=1048576;function Ww([e,t],[n,r]){let i=G(e,n);return i===0?G(t,r):i}var Gw=class{constructor(e){this.Ir=e,this.buffer=new tx(Ww),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Ww(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Kw=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){B(Hw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zb(e)?B(Hw,`Ignoring IndexedDB error during garbage collection: `,e):await Lb(e)}await this.Vr(3e5)}))}},qw=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Bb.ce);let n=new Gw(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B(`LruGarbageCollector`,`Garbage collection skipped; disabled`),J.resolve(Rw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(B(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(B(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Wy()<=R.DEBUG&&B(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Jw(e,t){return new qw(e,t)}var Yw=class{constructor(){this.changes=new IS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):J.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Xw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Zw=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&vC(n.mutation,e,rx.empty(),Ob.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Y()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Y()){let r=HS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=BS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=HS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Y())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=RS(),a=WS(),o=function(){return WS()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof SC)?i=i.insert(t.key,t):o===void 0?a.set(t.key,rx.empty()):(a.set(t.key,o.mutation.getFieldMask()),vC(o.mutation,t,o.mutation.getFieldMask(),Ob.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Xw(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=WS(),r=new Qb(((e,t)=>e-t)),i=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||rx.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Y()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=US();c.forEach((e=>{if(!i.has(e)){let r=gC(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return J.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):J.resolve(HS()),o=kb,s=i;return a.next((t=>J.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?J.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Y()))).next((e=>({batchId:o,changes:VS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next((e=>{let t=BS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=BS();return this.indexManager.getCollectionParents(e,i).next((o=>J.forEach(o,(o=>{let s=function(e,t){return new yS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Gx.newInvalidDocument(r)))}));let n=BS();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&vC(a.mutation,r,rx.empty(),Ob.now()),MS(t,r)&&(n=n.insert(e,r))})),n}))}},Qw=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:aw(e.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Pw(e.bundledQuery),readTime:aw(e.readTime)}}(t)),J.resolve()}},$w=class{constructor(){this.overlays=new Qb(K.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){let n=HS();return J.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),J.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),J.resolve()}getOverlaysForCollection(e,t,n){let r=HS(),i=t.length+1,a=new K(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return J.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Qb(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=HS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=HS(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return J.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new AC(t,n));let i=this.qr.get(t);i===void 0&&(i=Y(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},eT=class{constructor(){this.sessionToken=ax.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}},tT=class{constructor(){this.Qr=new tx(nT.$r),this.Ur=new tx(nT.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new nT(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new nT(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new K(new mb([])),n=new nT(t,e),r=new nT(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new K(new mb([])),n=new nT(t,e),r=new nT(t,e+1),i=Y();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new nT(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},nT=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return K.comparator(e.key,t.key)||G(e.Yr,t.Yr)}static Kr(e,t){return G(e.Yr,t.Yr)||K.comparator(e.key,t.key)}},rT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new tx(nT.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new OC(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new nT(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return J.resolve(a)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Vb:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new nT(t,0),r=new nT(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tx(G);return t.forEach((e=>{let t=new nT(e,0),r=new nT(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),J.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;K.isDocumentKey(i)||(i=i.child(``));let a=new nT(new K(i),0),o=new tx(G);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),J.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Yy(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return J.forEach(t.mutations,(r=>{let i=new nT(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new nT(t,0),r=this.Zr.firstAfterOrEqual(n);return J.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},iT=class{constructor(e){this.ri=e,this.docs=function(){return new Qb(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return J.resolve(n?n.document.mutableCopy():Gx.newInvalidDocument(t))}getEntries(e,t){let n=RS();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gx.newInvalidDocument(e))})),J.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=RS(),a=t.path,o=new K(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Pb(Mb(o),n)<=0||(r.has(o.key)||MS(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,t,n,r){V(9500)}ii(e,t){return J.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new aT(this)}getSize(e){return J.resolve(this.size)}},aT=class extends Yw{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},oT=class{constructor(e){this.persistence=e,this.si=new IS((e=>gS(e)),_S),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.oi=0,this._i=new tT,this.targetCount=0,this.ai=Vw.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Vw(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,J.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),J.waitFor(i).next((()=>r))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return J.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),J.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),J.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return J.resolve(n)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}},sT=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Bb(0),this.li=!1,this.li=!0,this.hi=new eT,this.referenceDelegate=e(this),this.Pi=new oT(this),this.indexManager=new Iw,this.remoteDocumentCache=function(e){return new iT(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Nw(t),this.Ii=new Qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $w,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new rT(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){B(`MemoryPersistence`,`Starting transaction:`,e);let r=new cT(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return J.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},cT=class extends Ib{constructor(e){super(),this.currentSequenceNumber=e}},lT=class e{constructor(e){this.persistence=e,this.Ri=new tT,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw V(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),J.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(n=>{let r=K.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,q.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},uT=class e{constructor(e,t){this.persistence=e,this.pi=new IS((e=>Kb(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Jw(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?J.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,q.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nx(e.data.value)),t}br(e,t,n){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return J.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},dT=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Y(),i=Y();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},fT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},pT=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gf()?8:Rb(lf())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new fT;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Wy()<=R.DEBUG&&B(`QueryEngine`,`SDK will not create cache indexes for query:`,jS(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),J.resolve()):(Wy()<=R.DEBUG&&B(`QueryEngine`,`Query:`,jS(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(Wy()<=R.DEBUG&&B(`QueryEngine`,`The SDK decides to create cache indexes for query:`,jS(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,TS(t))):J.resolve())}ys(e,t){if(SS(t))return J.resolve(null);let n=TS(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=OS(t,null,`F`),n=TS(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Y(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,OS(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return SS(t)||r.isEqual(q.min())?J.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?J.resolve(null):(Wy()<=R.DEBUG&&B(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),jS(t)),this.vs(e,a,t,jb(r,kb)).next((e=>e)))}))}Ds(e,t){let n=new tx(PS(e));return t.forEach(((t,r)=>{MS(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Wy()<=R.DEBUG&&B(`QueryEngine`,`Using full collection scan to execute query:`,jS(t)),this.ps.getDocumentsMatchingQuery(e,t,Nb.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},mT=`LocalStore`,hT=3e8,gT=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Qb(G),this.xs=new IS((e=>gS(e)),_S),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function _T(e,t,n,r){return new gT(e,t,n,r)}async function vT(e,t){let n=H(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Y();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function yT(e,t){let n=H(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=J.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);Yy(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Y();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function bT(e){let t=H(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function xT(e,t){let n=H(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(ax.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=hT?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=RS(),c=Y();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ST(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(q.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return J.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function ST(e,t,n){let r=Y(),i=Y();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=RS();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(q.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):B(mT,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function CT(e,t){let n=H(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Vb),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function wT(e,t){let n=H(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,J.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new Mw(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function TT(e,t,n){let r=H(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!zb(e))throw e;B(mT,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function ET(e,t,n){let r=H(e),i=q.min(),a=Y();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=H(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):J.resolve(r.Ms.get(i))}(r,e,TS(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:q.min(),n?a:Y()))).next((e=>(DT(r,NS(t),e),{documents:e,Qs:a})))))}function DT(e,t,n){let r=e.Os.get(t)||q.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var OT=class{constructor(){this.activeTargetIds=JS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},kT=class{constructor(){this.Mo=new OT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},AT=class{Oo(e){}shutdown(){}},jT=`ConnectivityMonitor`,MT=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){B(jT,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){B(jT,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},NT=null;function PT(){return NT===null?NT=function(){return 268435456+Math.round(2147483648*Math.random())}():NT++,`0x`+NT.toString(16)}var FT=`RestConnection`,IT={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},LT=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===vx?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=PT(),o=this.zo(e,t.toUriEncodedString());B(FT,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=ef(c);return this.Jo(e,o,s,n,l).then((t=>(B(FT,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Ky(FT,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Hy}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=IT[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},RT=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},zT=`WebChannelConnection`,BT=class extends LT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=PT();return new Promise(((i,o)=>{let s=new jy;s.setWithCredentials(!0),s.listenOnce(Ny.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Py.NO_ERROR:let t=s.getResponseJson();B(zT,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Py.TIMEOUT:B(zT,`RPC '${e}' ${a} timed out`),o(new W(U.DEADLINE_EXCEEDED,`Request time out`));break;case Py.HTTP_ERROR:let n=s.getStatus();if(B(zT,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new W(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(U).indexOf(t)>=0?t:U.UNKNOWN}(t.status),t.message)):o(new W(U.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new W(U.UNAVAILABLE,`Connection failed.`));break;default:V(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{B(zT,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);B(zT,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=PT(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Ry(),o=Ly(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);B(zT,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new RT({Yo:t=>{f?B(zT,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(B(zT,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),B(zT,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,My.EventType.OPEN,(()=>{f||(B(zT,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,My.EventType.CLOSE,(()=>{f||(f=!0,B(zT,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,My.EventType.ERROR,(t=>{f||(f=!0,Ky(zT,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new W(U.UNAVAILABLE,`The operation could not be completed`)))})),m(u,My.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];Yy(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){B(zT,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=MC[e];if(t!==void 0)return PC(t)}(t),i=a.message;n===void 0&&(n=U.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new W(n,i)),u.close()}else B(zT,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Iy.STAT_EVENT,(t=>{t.stat===Fy.PROXY?B(zT,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Fy.NOPROXY&&B(zT,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function VT(){return typeof document<`u`?document:null}function HT(e){return new ew(e,!0)}var UT=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&B(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},WT=`PersistentStream`,GT=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===U.RESOURCE_EXHAUSTED?(Gy(t.toString()),Gy(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new W(U.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return B(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(B(WT,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},KT=class extends GT{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=gw(this.serializer,e),n=function(e){if(!(`targetChange`in e))return q.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?q.min():t.readTime?aw(t.readTime):q.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=pw(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=vS(r)?{documents:yw(e,r)}:{query:bw(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rw(e,t.resumeToken);let r=tw(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(q.min())>0){n.readTime=nw(e,t.snapshotVersion.toTimestamp());let r=tw(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=Sw(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=pw(this.serializer),t.removeTarget=e,this.q_(t)}},qT=class extends GT{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return Yy(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yy(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yy(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=vw(e.writeResults,e.commitTime),n=aw(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=pw(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>_w(this.serializer,e)))};this.q_(t)}},JT=class{},YT=class extends JT{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,sw(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,sw(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},XT=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gy(t),this.aa=!1):B(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},ZT=`RemoteStore`,QT=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{sE(this)&&(B(ZT,`Restarting streams for network reachability change.`),await async function(e){let t=H(e);t.Ea.add(4),await eE(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await $T(t)}(this))}))})),this.Ra=new XT(n,r)}};async function $T(e){if(sE(e))for(let t of e.da)await t(!0)}async function eE(e){for(let t of e.da)await t(!1)}function tE(e,t){let n=H(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),oE(n)?aE(n):EE(n).O_()&&rE(n,t))}function nE(e,t){let n=H(e),r=EE(n);n.Ia.delete(t),r.O_()&&iE(n,t),n.Ia.size===0&&(r.O_()?r.L_():sE(n)&&n.Ra.set(`Unknown`))}function rE(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(q.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}EE(e).Y_(t)}function iE(e,t){e.Va.Ue(t),EE(e).Z_(t)}function aE(e){e.Va=new JC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),EE(e).start(),e.Ra.ua()}function oE(e){return sE(e)&&!EE(e).x_()&&e.Ia.size>0}function sE(e){return H(e).Ea.size===0}function cE(e){e.Va=void 0}async function lE(e){e.Ra.set(`Online`)}async function uE(e){e.Ia.forEach(((t,n)=>{rE(e,t)}))}async function dE(e,t){cE(e),oE(e)?(e.Ra.ha(t),aE(e)):e.Ra.set(`Unknown`)}async function fE(e,t,n){if(e.Ra.set(`Online`),t instanceof KC&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){B(ZT,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await pE(e,n)}else if(t instanceof WC?e.Va.Ze(t):t instanceof GC?e.Va.st(t):e.Va.tt(t),!n.isEqual(q.min()))try{let t=await bT(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(ax.EMPTY_BYTE_STRING,r.snapshotVersion)),iE(e,t),rE(e,new Mw(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){B(ZT,`Failed to raise snapshot:`,t),await pE(e,t)}}async function pE(e,t,n){if(!zb(t))throw t;e.Ea.add(1),await eE(e),e.Ra.set(`Offline`),n||=()=>bT(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{B(ZT,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await $T(e)}))}function mE(e,t){return t().catch((n=>pE(e,n,t)))}async function hE(e){let t=H(e),n=DE(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vb;for(;gE(t);)try{let e=await CT(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,_E(t,e)}catch(e){await pE(t,e)}vE(t)&&yE(t)}function gE(e){return sE(e)&&e.Ta.length<10}function _E(e,t){e.Ta.push(t);let n=DE(e);n.O_()&&n.X_&&n.ea(t.mutations)}function vE(e){return sE(e)&&!DE(e).x_()&&e.Ta.length>0}function yE(e){DE(e).start()}async function bE(e){DE(e).ra()}async function xE(e){let t=DE(e);for(let n of e.Ta)t.ea(n.mutations)}async function SE(e,t,n){let r=e.Ta.shift(),i=kC.from(r,t,n);await mE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await hE(e)}async function CE(e,t){t&&DE(e).X_&&await async function(e,t){if(function(e){return NC(e)&&e!==U.ABORTED}(t.code)){let n=e.Ta.shift();DE(e).B_(),await mE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await hE(e)}}(e,t),vE(e)&&yE(e)}async function wE(e,t){let n=H(e);n.asyncQueue.verifyOperationInProgress(),B(ZT,`RemoteStore received new credentials`);let r=sE(n);n.Ea.add(3),await eE(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $T(n)}async function TE(e,t){let n=H(e);t?(n.Ea.delete(2),await $T(n)):t||(n.Ea.add(2),await eE(n),n.Ra.set(`Unknown`))}function EE(e){return e.ma||(e.ma=function(e,t,n){let r=H(e);return r.sa(),new KT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:lE.bind(null,e),t_:uE.bind(null,e),r_:dE.bind(null,e),H_:fE.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),oE(e)?aE(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),cE(e))}))),e.ma}function DE(e){return e.fa||(e.fa=function(e,t,n){let r=H(e);return r.sa(),new qT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:bE.bind(null,e),r_:CE.bind(null,e),ta:xE.bind(null,e),na:SE.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await hE(e)):(await e.fa.stop(),e.Ta.length>0&&(B(ZT,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var OE=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Xy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(U.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kE(e,t){if(Gy(`AsyncQueue`,`${t}: ${e}`),zb(e))return new W(U.UNAVAILABLE,`${t}: ${e}`);throw e}var AE=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||K.comparator(t.key,n.key):(e,t)=>K.comparator(e.key,t.key),this.keyedMap=BS(),this.sortedSet=new Qb(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},jE=class{constructor(){this.ga=new Qb(K.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):V(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},ME=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,AE.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},NE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},PE=class{constructor(){this.queries=FE(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=H(e),r=n.queries;n.queries=FE(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new W(U.ABORTED,`Firestore shutting down`))}};function FE(){return new IS((e=>AS(e)),kS)}async function IE(e,t){let n=H(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new NE,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=kE(e,`Initialization of query '${jS(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&BE(n)}async function LE(e,t){let n=H(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RE(e,t){let n=H(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&BE(n)}function zE(e,t,n){let r=H(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function BE(e){e.Ca.forEach((e=>{e.next()}))}var VE,HE;(HE=VE||={}).Ma=`default`,HE.Cache=`cache`;var UE=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new ME(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ME.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==VE.Cache}},WE=class{constructor(e){this.key=e}},GE=class{constructor(e){this.key=e}},KE=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Y(),this.mutatedKeys=Y(),this.eu=PS(e),this.tu=new AE(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new jE,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=MS(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new ME(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Y(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new GE(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new WE(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Y();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ME.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},qE=`SyncEngine`,JE=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},YE=class{constructor(e){this.key=e,this.hu=!1}},XE=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new IS((e=>AS(e)),kS),this.Iu=new Map,this.Eu=new Set,this.du=new Qb(K.comparator),this.Au=new Map,this.Ru=new tT,this.Vu={},this.mu=new Map,this.fu=Vw.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function ZE(e,t,n=!0){let r=yD(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await $E(r,t,n,!0),i}async function QE(e,t){await $E(yD(e),t,!0,!1)}async function $E(e,t,n,r){let i=await wT(e.localStore,TS(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await eD(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&tE(e.remoteStore,i),s}async function eD(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await ET(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return pD(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await ET(e.localStore,t,!0),o=new KE(t,a.Qs),s=o.ru(a.documents),c=UC.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);pD(e,n,l.au);let u=new JE(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function tD(e,t,n){let r=H(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!kS(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await TT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nE(r.remoteStore,i.targetId),dD(r,i.targetId)})).catch(Lb)):(dD(r,i.targetId),await TT(r.localStore,i.targetId,!0))}async function nD(e,t){let n=H(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nE(n.remoteStore,r.targetId))}async function rD(e,t,n){let r=bD(e);try{let e=await function(e,t){let n=H(e),r=Ob.now(),i=t.reduce(((e,t)=>e.add(t.key)),Y()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=RS(),c=Y();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=yC(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new SC(e.key,t,Wx(t.value.mapValue),pC.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:VS(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new Qb(G),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await gD(r,e.changes),await hE(r.remoteStore)}catch(e){let t=kE(e,`Failed to persist write`);n.reject(t)}}async function iD(e,t){let n=H(e);try{let e=await xT(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(Yy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Yy(r.hu,14607):e.removedDocuments.size>0&&(Yy(r.hu,42227),r.hu=!1))})),await gD(n,e,t)}catch(e){await Lb(e)}}function aD(e,t,n){let r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=H(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&BE(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oD(e,t,n){let r=H(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Qb(K.comparator);e=e.insert(a,Gx.newNoDocument(a,q.min()));let n=Y().add(a);await iD(r,new HC(q.min(),new Map,new Qb(G),e,n)),r.du=r.du.remove(a),r.Au.delete(t),hD(r)}else await TT(r.localStore,t,!1).then((()=>dD(r,t,n))).catch(Lb)}async function sD(e,t){let n=H(e),r=t.batch.batchId;try{let e=await yT(n.localStore,t);uD(n,r,null),lD(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await gD(n,e)}catch(e){await Lb(e)}}async function cD(e,t,n){let r=H(e);try{let e=await function(e,t){let n=H(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Yy(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);uD(r,t,n),lD(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await gD(r,e)}catch(e){await Lb(e)}}function lD(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function uD(e,t,n){let r=H(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function dD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||fD(e,t)}))}function fD(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(nE(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),hD(e))}function pD(e,t,n){for(let r of n)r instanceof WE?(e.Ru.addReference(r.key,t),mD(e,r)):r instanceof GE?(B(qE,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||fD(e,r.key)):V(19791,{wu:r})}function mD(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(B(qE,`New document in limbo: `+n),e.Eu.add(r),hD(e))}function hD(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new K(mb.fromString(t)),r=e.fu.next();e.Au.set(r,new YE(n)),e.du=e.du.insert(n,r),tE(e.remoteStore,new Mw(TS(xS(n.path)),r,`TargetPurposeLimboResolution`,Bb.ce))}}async function gD(e,t,n){let r=H(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=dT.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=H(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>J.forEach(t,(t=>J.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>J.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!zb(e))throw e;B(mT,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function _D(e,t){let n=H(e);if(!n.currentUser.isEqual(t)){B(qE,`User change. New user:`,t.toKey());let e=await vT(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new W(U.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gD(n,e.Ls)}}function vD(e,t){let n=H(e),r=n.Au.get(t);if(r&&r.hu)return Y().add(r.key);{let e=Y(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function yD(e){let t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oD.bind(null,t),t.Pu.H_=RE.bind(null,t.eventManager),t.Pu.yu=zE.bind(null,t.eventManager),t}function bD(e){let t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cD.bind(null,t),t}var xD=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=HT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _T(this.persistence,new pT,e.initialUser,this.serializer)}Cu(e){return new sT(lT.mi,this.serializer)}Du(e){return new kT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};xD.provider={build:()=>new xD};var SD=class extends xD{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Yy(this.persistence.referenceDelegate instanceof uT,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Kw(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Bw.DEFAULT:Bw.withCacheSize(this.cacheSizeBytes);return new sT((e=>uT.mi(e,t)),this.serializer)}},CD=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await TE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PE}()}createDatastore(e){let t=HT(e.databaseInfo.databaseId),n=function(e){return new BT(e)}(e.databaseInfo);return function(e,t,n,r){return new YT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new QT(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>aD(this.syncEngine,e,0)),function(){return MT.v()?new MT:new AT}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new XE(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=H(e);B(ZT,`RemoteStore shutting down.`),t.Ea.add(5),await eE(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};CD.provider={build:()=>new CD};var wD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gy(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},TD=`FirestoreClient`,ED=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Vy.UNAUTHENTICATED,this.clientId=ob.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{B(TD,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(B(TD,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=kE(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function DD(e,t){e.asyncQueue.verifyOperationInProgress(),B(TD,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vT(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function OD(e,t){e.asyncQueue.verifyOperationInProgress();let n=await kD(e);B(TD,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>wE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>wE(t.remoteStore,n))),e._onlineComponents=t}async function kD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B(TD,`Using user provided OfflineComponentProvider`);try{await DD(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Ky(`Error using user provided cache. Falling back to memory cache: `+n),await DD(e,new xD)}}else B(TD,`Using default OfflineComponentProvider`),await DD(e,new SD(void 0));return e._offlineComponents}async function AD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B(TD,`Using user provided OnlineComponentProvider`),await OD(e,e._uninitializedComponentsProvider._online)):(B(TD,`Using default OnlineComponentProvider`),await OD(e,new CD))),e._onlineComponents}function jD(e){return AD(e).then((e=>e.syncEngine))}async function MD(e){let t=await AD(e),n=t.eventManager;return n.onListen=ZE.bind(null,t.syncEngine),n.onUnlisten=tD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nD.bind(null,t.syncEngine),n}function ND(e,t,n={}){let r=new Xy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new wD({next:s=>{a.Nu(),t.enqueueAndForget((()=>LE(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new W(U.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new W(U.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new UE(xS(n.path),a,{includeMetadataChanges:!0,qa:!0});return IE(e,o)}(await MD(e),e.asyncQueue,t,n,r))),r.promise}function PD(e,t,n={}){let r=new Xy;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new wD({next:n=>{a.Nu(),t.enqueueAndForget((()=>LE(e,o))),n.fromCache&&r.source===`server`?i.reject(new W(U.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new UE(n,a,{includeMetadataChanges:!0,qa:!0});return IE(e,o)}(await MD(e),e.asyncQueue,t,n,r))),r.promise}function FD(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var ID=new Map,LD=`firestore.googleapis.com`,RD=!0,zD=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(U.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=LD,this.ssl=RD}else this.host=e.host,this.ssl=e.ssl??RD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Uw)throw new W(U.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}vb(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FD(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},BD=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new zD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new W(U.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new W(U.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new zD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Qy;switch(e.type){case`firstParty`:return new nb(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new W(U.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=ID.get(e);t&&(B(`ComponentProvider`,`Removing Datastore`),ID.delete(e),t.terminate())}(this),Promise.resolve()}};function VD(e,t,n,r={}){e=Cb(e,BD);let i=ef(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(tf(`https://${s}`),cf(`Firestore`,!0)),a.host!==LD&&a.host!==s&&Ky(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Ef(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Vy.MOCK_USER;else{t=nf(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new W(U.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Vy(i)}e._authCredentials=new $y(new Zy(t,n))}}var HD=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},UD=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new WD(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Tb(n,e._jsonSchema))return new e(t,r||null,new K(mb.fromString(n.referencePath)))}};UD._jsonSchemaVersion=`firestore/documentReference/1.0`,UD._jsonSchema={type:wb(`string`,UD._jsonSchemaVersion),referencePath:wb(`string`)};var WD=class e extends HD{constructor(e,t,n){super(e,t,xS(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new UD(this.firestore,null,new K(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function GD(e,t,...n){if(e=Bf(e),_b(`collection`,`path`,t),e instanceof BD){let r=mb.fromString(t,...n);return bb(r),new WD(e,null,r)}{if(!(e instanceof UD||e instanceof WD))throw new W(U.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(mb.fromString(t,...n));return bb(r),new WD(e.firestore,null,r)}}function Z(e,t,...n){if(e=Bf(e),arguments.length===1&&(t=ob.newId()),_b(`doc`,`path`,t),e instanceof BD){let r=mb.fromString(t,...n);return yb(r),new UD(e,null,new K(r))}{if(!(e instanceof UD||e instanceof WD))throw new W(U.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(mb.fromString(t,...n));return yb(r),new UD(e.firestore,e instanceof WD?e.converter:null,new K(r))}}var KD=`AsyncQueue`,qD=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,`async_queue_retry`),this._c=()=>{let e=VT();e&&B(KD,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=VT();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=VT();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Xy;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zb(e))throw e;B(KD,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Gy(`INTERNAL UNHANDLED ERROR: `,JD(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=OE.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&V(47125,{Pc:JD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function JD(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function YD(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var XD=class extends BD{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new qD,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qD(e),this._firestoreClient=void 0,await e}}};function ZD(e,t){let n=typeof e==`object`?e:mm(),r=typeof e==`string`?e:t||vx,i=cm(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Xd(`firestore`);e&&VD(i,...e)}return i}function QD(e){if(e._terminated)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||$D(e),e._firestoreClient}function $D(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new _x(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,FD(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new ED(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var eO=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(ax.fromBase64String(t))}catch(e){throw new W(U.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(ax.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tb(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};eO._jsonSchemaVersion=`firestore/bytes/1.0`,eO._jsonSchema={type:wb(`string`,eO._jsonSchemaVersion),bytes:wb(`string`)};var tO=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new gb(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},nO=class{constructor(e){this._methodName=e}},rO=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(U.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new W(U.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(Tb(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};rO._jsonSchemaVersion=`firestore/geoPoint/1.0`,rO._jsonSchema={type:wb(`string`,rO._jsonSchemaVersion),latitude:wb(`number`),longitude:wb(`number`)};var iO=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tb(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new W(U.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};iO._jsonSchemaVersion=`firestore/vectorValue/1.0`,iO._jsonSchema={type:wb(`string`,iO._jsonSchemaVersion),vectorValues:wb(`object`)};var aO=/^__.*__$/,oO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new xC(e,this.data,t,this.fieldTransforms):new SC(e,this.data,this.fieldMask,t,this.fieldTransforms)}},sO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new SC(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function cO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V(40011,{Ac:e})}}var lO=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return TO(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(cO(this.Ac)&&aO.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},uO=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||HT(e)}Cc(e,t,n,r=!1){return new lO({Ac:e,methodName:t,Dc:n,path:gb.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dO(e){let t=e._freezeSettings(),n=HT(e._databaseId);return new uO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fO(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);xO(`Data must be an object, but it was:`,o,r);let s=yO(r,o),c,l;if(a.merge)c=new rx(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=SO(t,r,n);if(!o.contains(i))throw new W(U.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);EO(e,i)||e.push(i)}c=new rx(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new oO(new Ux(s),c,l)}var pO=class e extends nO{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},mO=class e extends nO{_toFieldTransform(e){return new uC(e.path,new nC)}isEqual(t){return t instanceof e}};function hO(e,t,n,r){let i=e.Cc(1,t,n);xO(`Data must be an object, but it was:`,i,r);let a=[],o=Ux.empty();return Xb(r,((e,r)=>{let s=wO(t,e,n);r=Bf(r);let c=i.yc(s);if(r instanceof pO)a.push(s);else{let e=vO(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new sO(o,new rx(a),i.fieldTransforms)}function gO(e,t,n,r,i,a){let o=e.Cc(1,t,n),s=[SO(t,r,n)],c=[i];if(a.length%2!=0)throw new W(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(SO(t,a[e])),c.push(a[e+1]);let l=[],u=Ux.empty();for(let e=s.length-1;e>=0;--e)if(!EO(l,s[e])){let t=s[e],n=c[e];n=Bf(n);let r=o.yc(t);if(n instanceof pO)l.push(t);else{let e=vO(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new sO(u,new rx(l),o.fieldTransforms)}function _O(e,t,n,r=!1){return vO(n,e.Cc(r?4:3,t))}function vO(e,t){if(bO(e=Bf(e)))return xO(`Unsupported field value:`,t,e),yO(e,t);if(e instanceof nO)return function(e,t){if(!cO(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=vO(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Bf(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return ZS(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Ob.fromDate(e);return{timestampValue:nw(t.serializer,n)}}if(e instanceof Ob){let n=new Ob(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nw(t.serializer,n)}}if(e instanceof rO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eO)return{bytesValue:rw(t.serializer,e._byteString)};if(e instanceof UD){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ow(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof iO)return function(e,t){return{mapValue:{fields:{[bx]:{stringValue:Cx},[wx]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return YS(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${Sb(e)}`)}(e,t)}function yO(e,t){let n={};return Zb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xb(e,((e,r)=>{let i=vO(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function bO(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Ob||e instanceof rO||e instanceof eO||e instanceof UD||e instanceof nO||e instanceof iO)}function xO(e,t,n){if(!bO(n)||!xb(n)){let r=Sb(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function SO(e,t,n){if((t=Bf(t))instanceof tO)return t._internalPath;if(typeof t==`string`)return wO(e,t);throw TO(`Field path arguments must be of type string or `,e,!1,void 0,n)}var CO=RegExp(`[~\\*/\\[\\]]`);function wO(e,t,n){if(t.search(CO)>=0)throw TO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tO(...t.split(`.`))._internalPath}catch{throw TO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function TO(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new W(U.INVALID_ARGUMENT,s+e+c)}function EO(e,t){return e.some((e=>e.isEqual(t)))}var DO=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new UD(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new OO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(kO(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},OO=class extends DO{data(){return super.data()}};function kO(e,t){return typeof t==`string`?wO(e,t):t instanceof tO?t._internalPath:t._delegate._internalPath}function AO(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new W(U.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var jO=class{},MO=class extends jO{};function NO(e,t,...n){let r=[];t instanceof jO&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof IO)).length,n=e.filter((e=>e instanceof PO)).length;if(t>1||t>0&&n>0)throw new W(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var PO=class e extends MO{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return VO(e._query,t),new HD(e.firestore,e.converter,DS(e._query,t))}_parse(e){let t=dO(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new W(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){BO(o,a);let t=[];for(let n of o)t.push(zO(r,e,n));s={arrayValue:{values:t}}}else s=zO(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||BO(o,a),s=_O(n,t,o,a===`in`||a===`not-in`);return Qx.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function FO(e,t,n){let r=t,i=kO(`where`,e);return PO._create(i,r,n)}var IO=class e extends jO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:$x.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)VO(n,e),n=DS(n,e)}(e._query,t),new HD(e.firestore,e.converter,DS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},LO=class e extends MO{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new W(U.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new W(U.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new Yx(t,n)}(e._query,this._field,this._direction);return new HD(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new yS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function RO(e,t=`asc`){let n=t,r=kO(`orderBy`,e);return LO._create(r,n)}function zO(e,t,n){if(typeof(n=Bf(n))==`string`){if(n===``)throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!CS(t)&&n.indexOf(`/`)!==-1)throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(mb.fromString(n));if(!K.isDocumentKey(r))throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Px(e,new K(r))}if(n instanceof UD)return Px(e,n._key);throw new W(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sb(n)}.`)}function BO(e,t){if(!Array.isArray(e)||e.length===0)throw new W(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VO(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new W(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new W(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var HO=class{convertValue(e,t=`none`){switch(Tx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw V(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Xb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[wx].arrayValue?.values?.map((e=>cx(e.doubleValue)));return new iO(t)}convertGeoPoint(e){return new rO(cx(e.latitude),cx(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=hx(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(gx(e));default:return null}}convertTimestamp(e){let t=sx(e);return new Ob(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=mb.fromString(e);Yy(jw(n),9688,{name:e});let r=new yx(n.get(1),n.get(3)),i=new K(n.popFirst(5));return r.isEqual(t)||Gy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function UO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var WO=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},GO=class e extends DO{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new KO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(kO(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};GO._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,GO._jsonSchema={type:wb(`string`,GO._jsonSchemaVersion),bundleSource:wb(`string`,`DocumentSnapshot`),bundleName:wb(`string`),bundle:wb(`string`)};var KO=class extends GO{data(e={}){return super.data(e)}},qO=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new WO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new KO(this._firestore,this._userDataWriter,n.key,n,new WO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(U.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new KO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new WO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new KO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new WO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:JO(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=ob.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function JO(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return V(61501,{type:e})}}function YO(e){e=Cb(e,UD);let t=Cb(e.firestore,XD);return ND(QD(t),e._key).then((n=>ik(t,e,n)))}qO._jsonSchemaVersion=`firestore/querySnapshot/1.0`,qO._jsonSchema={type:wb(`string`,qO._jsonSchemaVersion),bundleSource:wb(`string`,`QuerySnapshot`),bundleName:wb(`string`),bundle:wb(`string`)};var XO=class extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new eO(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new UD(this.firestore,null,t)}};function ZO(e){e=Cb(e,HD);let t=Cb(e.firestore,XD),n=QD(t),r=new XO(t);return AO(e._query),PD(n,e._query).then((n=>new qO(t,r,e,n)))}function QO(e,t,n){e=Cb(e,UD);let r=Cb(e.firestore,XD),i=UO(e.converter,t,n);return rk(r,[fO(dO(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,pC.none())])}function $O(e,t,n,...r){e=Cb(e,UD);let i=Cb(e.firestore,XD),a=dO(i),o;return o=typeof(t=Bf(t))==`string`||t instanceof tO?gO(a,`updateDoc`,e._key,t,n,r):hO(a,`updateDoc`,e._key,t),rk(i,[o.toMutation(e._key,pC.exists(!0))])}function ek(e){return rk(Cb(e.firestore,XD),[new EC(e._key,pC.none())])}function tk(e,t){let n=Cb(e.firestore,XD),r=Z(e),i=UO(e.converter,t);return rk(n,[fO(dO(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,pC.exists(!1))]).then((()=>r))}function nk(e,...t){e=Bf(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||YD(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(YD(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof UD)o=Cb(e.firestore,XD),s=xS(e._key.path),a={next:n=>{t[r]&&t[r](ik(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=Cb(e,HD);o=Cb(n.firestore,XD),s=n._query;let i=new XO(o);a={next:e=>{t[r]&&t[r](new qO(o,i,n,e))},error:t[r+1],complete:t[r+2]},AO(e._query)}return function(e,t,n,r){let i=new wD(r),a=new UE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>IE(await MD(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>LE(await MD(e),a)))}}(QD(o),s,i,a)}function rk(e,t){return function(e,t){let n=new Xy;return e.asyncQueue.enqueueAndForget((async()=>rD(await jD(e),t,n))),n.promise}(QD(e),t)}function ik(e,t,n){let r=n.docs.get(t._key);return new GO(e,new XO(e),t._key,r,new WO(n.hasPendingWrites,n.fromCache),t.converter)}function ak(){return new mO(`serverTimestamp`)}(function(e,t=!0){(function(e){Hy=e})(fm),sm(new Vf(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new XD(new eb(e.getProvider(`auth-internal`)),new ib(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new W(U.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new yx(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),hm(zy,By,e),hm(zy,By,`esm2020`)})();var ok=`@firebase/installations`,sk=`0.6.19`,ck=1e4,lk=`w:${sk}`,uk=`FIS_v2`,dk=`https://firebaseinstallations.googleapis.com/v1`,fk=3600*1e3,pk=new Sf(`installations`,`Installations`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"not-registered":`Firebase Installation is not registered.`,"installation-not-found":`Firebase Installation not found.`,"request-failed":`{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"`,"app-offline":`Could not process request. Application offline.`,"delete-pending-registration":`Can't delete installation while there is a pending registration request.`});function mk(e){return e instanceof xf&&e.code.includes(`request-failed`)}function hk({projectId:e}){return`${dk}/projects/${e}/installations`}function gk(e){return{token:e.token,requestStatus:2,expiresIn:xk(e.expiresIn),creationTime:Date.now()}}async function _k(e,t){let n=(await t.json()).error;return pk.create(`request-failed`,{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vk({apiKey:e}){return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e})}function yk(e,{refreshToken:t}){let n=vk(e);return n.append(`Authorization`,Sk(t)),n}async function bk(e){let t=await e();return t.status>=500&&t.status<600?e():t}function xk(e){return Number(e.replace(`s`,`000`))}function Sk(e){return`${uk} ${e}`}async function Ck({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=hk(e),i=vk(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={fid:n,authVersion:uk,appId:e.appId,sdkVersion:lk},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await bk(()=>fetch(r,s));if(c.ok){let e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:gk(e.authToken)}}else throw await _k(`Create Installation`,c)}function wk(e){return new Promise(t=>{setTimeout(t,e)})}function Tk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,`-`).replace(/\//g,`_`)}var Ek=/^[cdef][\w-]{21}$/,Dk=``;function Ok(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=kk(e);return Ek.test(t)?t:Dk}catch{return Dk}}function kk(e){return Tk(e).substr(0,22)}function Ak(e){return`${e.appName}!${e.appId}`}var jk=new Map;function Mk(e,t){let n=Ak(e);Nk(n,t),Pk(n,t)}function Nk(e,t){let n=jk.get(e);if(n)for(let e of n)e(t)}function Pk(e,t){let n=Ik();n&&n.postMessage({key:e,fid:t}),Lk()}var Fk=null;function Ik(){return!Fk&&`BroadcastChannel`in self&&(Fk=new BroadcastChannel(`[Firebase] FID Change`),Fk.onmessage=e=>{Nk(e.data.key,e.data.fid)}),Fk}function Lk(){jk.size===0&&Fk&&(Fk.close(),Fk=null)}var Rk=`firebase-installations-database`,zk=1,Bk=`firebase-installations-store`,Vk=null;function Hk(){return Vk||=_p(Rk,zk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Bk)}}}),Vk}async function Uk(e,t){let n=Ak(e),r=(await Hk()).transaction(Bk,`readwrite`),i=r.objectStore(Bk),a=await i.get(n);return await i.put(t,n),await r.done,(!a||a.fid!==t.fid)&&Mk(e,t.fid),t}async function Wk(e){let t=Ak(e),n=(await Hk()).transaction(Bk,`readwrite`);await n.objectStore(Bk).delete(t),await n.done}async function Gk(e,t){let n=Ak(e),r=(await Hk()).transaction(Bk,`readwrite`),i=r.objectStore(Bk),a=await i.get(n),o=t(a);return o===void 0?await i.delete(n):await i.put(o,n),await r.done,o&&(!a||a.fid!==o.fid)&&Mk(e,o.fid),o}async function Kk(e){let t,n=await Gk(e.appConfig,n=>{let r=Jk(e,qk(n));return t=r.registrationPromise,r.installationEntry});return n.fid===Dk?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function qk(e){return Qk(e||{fid:Ok(),registrationStatus:0})}function Jk(e,t){if(t.registrationStatus===0){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(pk.create(`app-offline`))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:Yk(e,n)}}else if(t.registrationStatus===1)return{installationEntry:t,registrationPromise:Xk(e)};else return{installationEntry:t}}async function Yk(e,t){try{let n=await Ck(e,t);return Uk(e.appConfig,n)}catch(n){throw mk(n)&&n.customData.serverCode===409?await Wk(e.appConfig):await Uk(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Xk(e){let t=await Zk(e.appConfig);for(;t.registrationStatus===1;)await wk(100),t=await Zk(e.appConfig);if(t.registrationStatus===0){let{installationEntry:t,registrationPromise:n}=await Kk(e);return n||t}return t}function Zk(e){return Gk(e,e=>{if(!e)throw pk.create(`installation-not-found`);return Qk(e)})}function Qk(e){return $k(e)?{fid:e.fid,registrationStatus:0}:e}function $k(e){return e.registrationStatus===1&&e.registrationTime+ck<Date.now()}async function eA({appConfig:e,heartbeatServiceProvider:t},n){let r=tA(e,n),i=yk(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={installation:{sdkVersion:lk,appId:e.appId}},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await bk(()=>fetch(r,s));if(c.ok)return gk(await c.json());throw await _k(`Generate Auth Token`,c)}function tA(e,{fid:t}){return`${hk(e)}/${t}/authTokens:generate`}async function nA(e,t=!1){let n,r=await Gk(e.appConfig,r=>{if(!oA(r))throw pk.create(`not-registered`);let i=r.authToken;if(!t&&sA(i))return r;if(i.requestStatus===1)return n=rA(e,t),r;{if(!navigator.onLine)throw pk.create(`app-offline`);let t=lA(r);return n=aA(e,t),t}});return n?await n:r.authToken}async function rA(e,t){let n=await iA(e.appConfig);for(;n.authToken.requestStatus===1;)await wk(100),n=await iA(e.appConfig);let r=n.authToken;return r.requestStatus===0?nA(e,t):r}function iA(e){return Gk(e,e=>{if(!oA(e))throw pk.create(`not-registered`);let t=e.authToken;return uA(t)?{...e,authToken:{requestStatus:0}}:e})}async function aA(e,t){try{let n=await eA(e,t),r={...t,authToken:n};return await Uk(e.appConfig,r),n}catch(n){if(mk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Wk(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await Uk(e.appConfig,n)}throw n}}function oA(e){return e!==void 0&&e.registrationStatus===2}function sA(e){return e.requestStatus===2&&!cA(e)}function cA(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fk}function lA(e){let t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function uA(e){return e.requestStatus===1&&e.requestTime+ck<Date.now()}async function dA(e){let t=e,{installationEntry:n,registrationPromise:r}=await Kk(t);return r?r.catch(console.error):nA(t).catch(console.error),n.fid}async function fA(e,t=!1){let n=e;return await pA(n),(await nA(n,t)).token}async function pA(e){let{registrationPromise:t}=await Kk(e);t&&await t}function mA(e){if(!e||!e.options)throw hA(`App Configuration`);if(!e.name)throw hA(`App Name`);for(let t of[`projectId`,`apiKey`,`appId`])if(!e.options[t])throw hA(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function hA(e){return pk.create(`missing-app-config-values`,{valueName:e})}var gA=`installations`,_A=`installations-internal`,vA=e=>{let t=e.getProvider(`app`).getImmediate();return{app:t,appConfig:mA(t),heartbeatServiceProvider:cm(t,`heartbeat`),_delete:()=>Promise.resolve()}},yA=e=>{let t=cm(e.getProvider(`app`).getImmediate(),gA).getImmediate();return{getId:()=>dA(t),getToken:e=>fA(t,e)}};function bA(){sm(new Vf(gA,vA,`PUBLIC`)),sm(new Vf(_A,yA,`PRIVATE`))}bA(),hm(ok,sk),hm(ok,sk,`esm2020`);var xA=`analytics`,SA=`firebase_id`,CA=`origin`,wA=60*1e3,TA=`https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig`,EA=`https://www.googletagmanager.com/gtag/js`,DA=new Qf(`@firebase/analytics`),OA=new Sf(`analytics`,`Analytics`,{"already-exists":`A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.`,"already-initialized":`initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.`,"already-initialized-settings":`Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.`,"interop-component-reg-failed":`Firebase Analytics Interop Component failed to instantiate: {$reason}`,"invalid-analytics-context":`Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"indexeddb-unavailable":`IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"fetch-throttle":`The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.`,"config-fetch-failed":`Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}`,"no-api-key":`The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.`,"no-app-id":`The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.`,"no-client-id":`The "client_id" field is empty.`,"invalid-gtag-resource":`Trusted Types detected an invalid gtag resource: {$gtagURL}.`});function kA(e){if(!e.startsWith(EA)){let t=OA.create(`invalid-gtag-resource`,{gtagURL:e});return DA.warn(t.message),``}return e}function AA(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function jA(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function MA(e,t){let n=jA(`firebase-js-sdk-policy`,{createScriptURL:kA}),r=document.createElement(`script`),i=`${EA}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function NA(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function PA(e,t,n,r,i,a){let o=r[i];try{if(o)await t[o];else{let e=(await AA(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){DA.error(e)}e(`config`,i,a)}async function FA(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await AA(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e(`event`,r,i||{})}catch(e){DA.error(e)}}function IA(e,t,n,r){async function i(i,...a){try{if(i===`event`){let[r,i]=a;await FA(e,t,n,r,i)}else if(i===`config`){let[i,o]=a;await PA(e,t,n,r,i,o)}else if(i===`consent`){let[t,n]=a;e(`consent`,t,n)}else if(i===`get`){let[t,n,r]=a;e(`get`,t,n,r)}else if(i===`set`){let[t]=a;e(`set`,t)}else e(i,...a)}catch(e){DA.error(e)}}return i}function LA(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&typeof window[i]==`function`&&(a=window[i]),window[i]=IA(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function RA(e){let t=window.document.getElementsByTagName(`script`);for(let n of Object.values(t))if(n.src&&n.src.includes(EA)&&n.src.includes(e))return n;return null}var zA=30,BA=1e3,VA=new class{constructor(e={},t=BA){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function HA(e){return new Headers({Accept:`application/json`,"x-goog-api-key":e})}async function UA(e){let{appId:t,apiKey:n}=e,r={method:`GET`,headers:HA(n)},i=TA.replace(`{app-id}`,t),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let e=``;try{let t=await a.json();t.error?.message&&(e=t.error.message)}catch{}throw OA.create(`config-fetch-failed`,{httpStatus:a.status,responseMessage:e})}return a.json()}async function WA(e,t=VA,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw OA.create(`no-app-id`);if(!i){if(a)return{measurementId:a,appId:r};throw OA.create(`no-api-key`)}let o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new JA;return setTimeout(async()=>{s.abort()},n===void 0?wA:n),GA({appId:r,apiKey:i,measurementId:a},o,s,t)}async function GA(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=VA){let{appId:a,measurementId:o}=e;try{await KA(r,t)}catch(e){if(o)return DA.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:a,measurementId:o};throw e}try{let t=await UA(e);return i.deleteThrottleMetadata(a),t}catch(t){let s=t;if(!qA(s)){if(i.deleteThrottleMetadata(a),o)return DA.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:a,measurementId:o};throw t}let c=Number(s?.customData?.httpStatus)===503?zf(n,i.intervalMillis,zA):zf(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,l),DA.debug(`Calling attemptFetch again in ${c} millis`),GA(e,l,r,i)}}function KA(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(OA.create(`fetch-throttle`,{throttleEndTimeMillis:t}))})})}function qA(e){if(!(e instanceof xf)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var JA=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}},YA;async function XA(e,t,n,r,i){if(i&&i.global){e(`event`,n,r);return}else{let i=await t;e(`event`,n,{...r,send_to:i})}}async function ZA(e,t,n,r){if(r&&r.global){let t={};for(let e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e(`set`,t),Promise.resolve()}else e(`config`,await t,{update:!0,user_properties:n})}var QA;function $A(e){QA=e}function ej(e){YA=e}async function tj(){if(_f())try{await vf()}catch(e){return DA.warn(OA.create(`indexeddb-unavailable`,{errorInfo:e?.toString()}).message),!1}else return DA.warn(OA.create(`indexeddb-unavailable`,{errorInfo:`IndexedDB is not available in this environment.`}).message),!1;return!0}async function nj(e,t,n,r,i,a,o){let s=WA(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&DA.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>DA.error(e)),t.push(s);let c=tj().then(e=>{if(e)return r.getId()}),[l,u]=await Promise.all([s,c]);RA(a)||MA(a,l.measurementId),QA&&(i(`consent`,`default`,QA),$A(void 0)),i(`js`,new Date);let d=o?.config??{};return d[CA]=`firebase`,d.update=!0,u!=null&&(d[SA]=u),i(`config`,l.measurementId,d),YA&&(i(`set`,YA),ej(void 0)),l.measurementId}var rj=class{constructor(e){this.app=e}_delete(){return delete ij[this.app.options.appId],Promise.resolve()}},ij={},aj=[],oj={},sj=`dataLayer`,cj=`gtag`,lj,uj,dj=!1;function fj(){let e=[];if(pf()&&e.push(`This is a browser extension environment.`),yf()||e.push(`Cookies are not available.`),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(` `),n=OA.create(`invalid-analytics-context`,{errorInfo:t});DA.warn(n.message)}}function pj(e,t,n){fj();let r=e.options.appId;if(!r)throw OA.create(`no-app-id`);if(!e.options.apiKey)if(e.options.measurementId)DA.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw OA.create(`no-api-key`);if(ij[r]!=null)throw OA.create(`already-exists`,{id:r});if(!dj){NA(sj);let{wrappedGtag:e,gtagCore:t}=LA(ij,aj,oj,sj,cj);uj=e,lj=t,dj=!0}return ij[r]=nj(e,aj,oj,t,lj,sj,n),new rj(e)}function mj(e=mm()){e=Bf(e);let t=cm(e,xA);return t.isInitialized()?t.getImmediate():hj(e)}function hj(e,t={}){let n=cm(e,xA);if(n.isInitialized()){let e=n.getImmediate();if(Ef(t,n.getOptions()))return e;throw OA.create(`already-initialized`)}return n.initialize({options:t})}function gj(e,t,n){e=Bf(e),ZA(uj,ij[e.app.options.appId],t,n).catch(e=>DA.error(e))}function _j(e,t,n,r){e=Bf(e),XA(uj,ij[e.app.options.appId],t,n,r).catch(e=>DA.error(e))}var vj=`@firebase/analytics`,yj=`0.10.19`;function bj(){sm(new Vf(xA,(e,{options:t})=>pj(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),t),`PUBLIC`)),sm(new Vf(`analytics-internal`,e,`PRIVATE`)),hm(vj,yj),hm(vj,yj,`esm2020`);function e(e){try{let t=e.getProvider(xA).getImmediate();return{logEvent:(e,n,r)=>_j(t,e,n,r),setUserProperties:(e,n)=>gj(t,e,n)}}catch(e){throw OA.create(`interop-component-reg-failed`,{reason:e})}}}bj();var xj=`/firebase-messaging-sw.js`,Sj=`/firebase-cloud-messaging-push-scope`,Cj=`BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4`,wj=`https://fcmregistrations.googleapis.com/v1`,Tj=`google.c.a.c_id`,Ej=`google.c.a.c_l`,Dj=`google.c.a.ts`,Oj=`google.c.a.e`,kj=1e4,Aj;(function(e){e[e.DATA_MESSAGE=1]=`DATA_MESSAGE`,e[e.DISPLAY_NOTIFICATION=3]=`DISPLAY_NOTIFICATION`})(Aj||={});var jj;(function(e){e.PUSH_RECEIVED=`push-received`,e.NOTIFICATION_CLICKED=`notification-clicked`})(jj||={});function Mj(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,``).replace(/\+/g,`-`).replace(/\//g,`_`)}function Nj(e){let t=(e+`=`.repeat((4-e.length%4)%4)).replace(/\-/g,`+`).replace(/_/g,`/`),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}var Pj=`fcm_token_details_db`,Fj=5,Ij=`fcm_token_object_Store`;async function Lj(e){if(`databases`in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(Pj))return null;let t=null;return(await _p(Pj,Fj,{upgrade:async(n,r,i,a)=>{if(r<2||!n.objectStoreNames.contains(Ij))return;let o=a.objectStore(Ij),s=await o.index(`fcmSenderId`).get(e);if(await o.clear(),s){if(r===2){let e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==`string`?e.vapidKey:Mj(e.vapidKey)}}}else if(r===3){let e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Mj(e.auth),p256dh:Mj(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Mj(e.vapidKey)}}}else if(r===4){let e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Mj(e.auth),p256dh:Mj(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Mj(e.vapidKey)}}}}}})).close(),await vp(Pj),await vp(`fcm_vapid_details_db`),await vp(`undefined`),Rj(t)?t:null}function Rj(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime==`number`&&e.createTime>0&&typeof e.token==`string`&&e.token.length>0&&typeof t.auth==`string`&&t.auth.length>0&&typeof t.p256dh==`string`&&t.p256dh.length>0&&typeof t.endpoint==`string`&&t.endpoint.length>0&&typeof t.swScope==`string`&&t.swScope.length>0&&typeof t.vapidKey==`string`&&t.vapidKey.length>0}var zj=`firebase-messaging-database`,Bj=1,Vj=`firebase-messaging-store`,Hj=null;function Uj(){return Hj||=_p(zj,Bj,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Vj)}}}),Hj}async function Wj(e){let t=Kj(e),n=await(await Uj()).transaction(Vj).objectStore(Vj).get(t);if(n)return n;{let t=await Lj(e.appConfig.senderId);if(t)return await Gj(e,t),t}}async function Gj(e,t){let n=Kj(e),r=(await Uj()).transaction(Vj,`readwrite`);return await r.objectStore(Vj).put(t,n),await r.done,t}function Kj({appConfig:e}){return e.appId}var qj=new Sf(`messaging`,`Messaging`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"only-available-in-window":`This method is available in a Window context.`,"only-available-in-sw":`This method is available in a service worker context.`,"permission-default":`The notification permission was not granted and dismissed instead.`,"permission-blocked":`The notification permission was not granted and blocked instead.`,"unsupported-browser":`This browser doesn't support the API's required to use the Firebase SDK.`,"indexed-db-unsupported":`This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)`,"failed-service-worker-registration":`We are unable to register the default service worker. {$browserErrorMessage}`,"token-subscribe-failed":`A problem occurred while subscribing the user to FCM: {$errorInfo}`,"token-subscribe-no-token":`FCM returned no token when subscribing the user to push.`,"token-unsubscribe-failed":`A problem occurred while unsubscribing the user from FCM: {$errorInfo}`,"token-update-failed":`A problem occurred while updating the user from FCM: {$errorInfo}`,"token-update-no-token":`FCM returned no token when updating the user to push.`,"use-sw-after-get-token":`The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.`,"invalid-sw-registration":`The input to useServiceWorker() must be a ServiceWorkerRegistration.`,"invalid-bg-handler":`The input to setBackgroundMessageHandler() must be a function.`,"invalid-vapid-key":`The public VAPID key must be a string.`,"use-vapid-key-after-get-token":`The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.`});async function Jj(e,t){let n=await Qj(e),r=$j(t),i={method:`POST`,headers:n,body:JSON.stringify(r)},a;try{a=await(await fetch(Zj(e.appConfig),i)).json()}catch(e){throw qj.create(`token-subscribe-failed`,{errorInfo:e?.toString()})}if(a.error){let e=a.error.message;throw qj.create(`token-subscribe-failed`,{errorInfo:e})}if(!a.token)throw qj.create(`token-subscribe-no-token`);return a.token}async function Yj(e,t){let n=await Qj(e),r=$j(t.subscriptionOptions),i={method:`PATCH`,headers:n,body:JSON.stringify(r)},a;try{a=await(await fetch(`${Zj(e.appConfig)}/${t.token}`,i)).json()}catch(e){throw qj.create(`token-update-failed`,{errorInfo:e?.toString()})}if(a.error){let e=a.error.message;throw qj.create(`token-update-failed`,{errorInfo:e})}if(!a.token)throw qj.create(`token-update-no-token`);return a.token}async function Xj(e,t){let n={method:`DELETE`,headers:await Qj(e)};try{let r=await(await fetch(`${Zj(e.appConfig)}/${t}`,n)).json();if(r.error){let e=r.error.message;throw qj.create(`token-unsubscribe-failed`,{errorInfo:e})}}catch(e){throw qj.create(`token-unsubscribe-failed`,{errorInfo:e?.toString()})}}function Zj({projectId:e}){return`${wj}/projects/${e}/registrations`}async function Qj({appConfig:e,installations:t}){let n=await t.getToken();return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function $j({p256dh:e,auth:t,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Cj&&(i.web.applicationPubKey=r),i}var eM=10080*60*1e3;async function tM(e){let t=await iM(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Mj(t.getKey(`auth`)),p256dh:Mj(t.getKey(`p256dh`))},r=await Wj(e.firebaseDependencies);if(r){if(aM(r.subscriptionOptions,n))return Date.now()>=r.createTime+eM?nM(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Xj(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return rM(e.firebaseDependencies,n)}else return rM(e.firebaseDependencies,n)}async function nM(e,t){try{let n=await Yj(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Gj(e.firebaseDependencies,r),n}catch(e){throw e}}async function rM(e,t){let n={token:await Jj(e,t),createTime:Date.now(),subscriptionOptions:t};return await Gj(e,n),n.token}async function iM(e,t){return await e.pushManager.getSubscription()||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nj(t)})}function aM(e,t){let n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function oM(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return sM(t,e),cM(t,e),lM(t,e),t}function sM(e,t){if(!t.notification)return;e.notification={};let n=t.notification.title;n&&(e.notification.title=n);let r=t.notification.body;r&&(e.notification.body=r);let i=t.notification.image;i&&(e.notification.image=i);let a=t.notification.icon;a&&(e.notification.icon=a)}function cM(e,t){t.data&&(e.data=t.data)}function lM(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};let n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);let r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}function uM(e){return typeof e==`object`&&!!e&&Tj in e}dM(`AzSCbw63g1R0nCw85jG8`,`Iaya3yLKwmgvh7cF0q4`);function dM(e,t){let n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join(``)}function fM(e){if(!e||!e.options)throw pM(`App Configuration Object`);if(!e.name)throw pM(`App Name`);let t=[`projectId`,`apiKey`,`appId`,`messagingSenderId`],{options:n}=e;for(let e of t)if(!n[e])throw pM(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function pM(e){return qj.create(`missing-app-config-values`,{valueName:e})}var mM=class{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1,this.firebaseDependencies={app:e,appConfig:fM(e),installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}};async function hM(e){try{e.swRegistration=await navigator.serviceWorker.register(xj,{scope:Sj}),e.swRegistration.update().catch(()=>{}),await gM(e.swRegistration)}catch(e){throw qj.create(`failed-service-worker-registration`,{browserErrorMessage:e?.message})}}async function gM(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(Error(`Service worker not registered after ${kj} ms`)),kj),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{e.target?.state===`activated`&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(Error(`No incoming service worker found.`)))})}async function _M(e,t){if(!t&&!e.swRegistration&&await hM(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw qj.create(`invalid-sw-registration`);e.swRegistration=t}}async function vM(e,t){t?e.vapidKey=t:e.vapidKey||=Cj}async function yM(e,t){if(!navigator)throw qj.create(`only-available-in-window`);if(Notification.permission===`default`&&await Notification.requestPermission(),Notification.permission!==`granted`)throw qj.create(`permission-blocked`);return await vM(e,t?.vapidKey),await _M(e,t?.serviceWorkerRegistration),tM(e)}async function bM(e,t,n){let r=xM(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Tj],message_name:n[Ej],message_time:n[Dj],message_device_time:Math.floor(Date.now()/1e3)})}function xM(e){switch(e){case jj.NOTIFICATION_CLICKED:return`notification_open`;case jj.PUSH_RECEIVED:return`notification_foreground`;default:throw Error()}}async function SM(e,t){let n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===jj.PUSH_RECEIVED&&(typeof e.onMessageHandler==`function`?e.onMessageHandler(oM(n)):e.onMessageHandler.next(oM(n)));let r=n.data;uM(r)&&r[Oj]===`1`&&await bM(e,n.messageType,r)}var CM=`@firebase/messaging`,wM=`0.12.23`,TM=e=>{let t=new mM(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),e.getProvider(`analytics-internal`));return navigator.serviceWorker.addEventListener(`message`,e=>SM(t,e)),t},EM=e=>{let t=e.getProvider(`messaging`).getImmediate();return{getToken:e=>yM(t,e)}};function DM(){sm(new Vf(`messaging`,TM,`PUBLIC`)),sm(new Vf(`messaging-internal`,EM,`PRIVATE`)),hm(CM,wM),hm(CM,wM,`esm2020`)}async function OM(){try{await vf()}catch{return!1}return typeof window<`u`&&_f()&&yf()&&`serviceWorker`in navigator&&`PushManager`in window&&`Notification`in window&&`fetch`in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(`showNotification`)&&PushSubscription.prototype.hasOwnProperty(`getKey`)}function kM(e=mm()){return OM().then(e=>{if(!e)throw qj.create(`unsupported-browser`)},e=>{throw qj.create(`indexed-db-unsupported`)}),cm(Bf(e),`messaging`).getImmediate()}async function AM(e,t){return e=Bf(e),yM(e,t)}DM();var jM=pm({apiKey:`AIzaSyCjhVGXFNBWGBusv0ueBEbo0ChlqSArFmA`,authDomain:`ldr-app-923ac.firebaseapp.com`,projectId:`ldr-app-923ac`,storageBucket:`ldr-app-923ac.firebasestorage.app`,messagingSenderId:`586642496044`,appId:`1:586642496044:web:cf1430b28ad7ca02b2cf89`,measurementId:`G-KN6PSBQNRQ`});const MM=Cy(jM),Q=ZD(jM);mj(jM);var NM=null;if(`serviceWorker`in navigator&&`Notification`in window)try{NM=kM(jM)}catch(e){console.log(`Messaging not supported:`,e)}const PM=async(e,t)=>{let n=Math.random().toString(36).substring(2,10).toUpperCase(),r=Math.random().toString(36).substring(2,15),i={coupleCode:n,inviteCode:r,members:[e],createdAt:ak(),createdBy:e};return await QO(Z(Q,`couples`,n),i),await xN(e,{coupleCode:n}),{coupleCode:n,inviteCode:r}},FM=async(e,t)=>{let n=await ZO(NO(GD(Q,`couples`),FO(`inviteCode`,`==`,e)));if(n.empty)throw Error(`Invalid invite code`);let r=n.docs[0],i=r.data(),a=r.id;if(i.members.includes(t))throw Error(`Already a member of this couple`);if(i.members.length>=2)throw Error(`This couple already has 2 members`);return await $O(Z(Q,`couples`,a),{members:[...i.members,t]}),await xN(t,{coupleCode:a}),a},IM=(e,t)=>e?nk(Z(Q,`settings`,e),e=>{e.exists()?t(e.data()):t({nextMeetDate:``,relationshipStart:``})}):()=>{},LM=async(e,t)=>{e&&await QO(Z(Q,`settings`,e),{nextMeetDate:t,coupleCode:e},{merge:!0})},RM=(e,t)=>e?nk(NO(GD(Q,`dateIdeas`),FO(`coupleCode`,`==`,e),RO(`timestamp`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},zM=async(e,t)=>{await tk(GD(Q,`dateIdeas`),{...t,coupleCode:e,timestamp:ak(),completed:!1})},BM=async(e,t)=>{await $O(Z(Q,`dateIdeas`,e),t)},VM=async e=>{await ek(Z(Q,`dateIdeas`,e))},HM=(e,t)=>e?nk(NO(GD(Q,`books`),FO(`coupleCode`,`==`,e)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},UM=async(e,t)=>{await tk(GD(Q,`books`),{...t,coupleCode:e})},WM=async(e,t)=>{await $O(Z(Q,`books`,e),t)},GM=async e=>{await ek(Z(Q,`books`,e))},KM=(e,t)=>e?nk(NO(GD(Q,`shows`),FO(`coupleCode`,`==`,e)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},qM=async(e,t)=>{await tk(GD(Q,`shows`),{...t,coupleCode:e})},JM=async(e,t)=>{await $O(Z(Q,`shows`,e),t)},YM=async e=>{await ek(Z(Q,`shows`,e))},XM=(e,t)=>e?nk(NO(GD(Q,`futureTrips`),FO(`coupleCode`,`==`,e)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},ZM=async(e,t)=>{await tk(GD(Q,`futureTrips`),{...t,coupleCode:e})},QM=async(e,t)=>{await $O(Z(Q,`futureTrips`,e),t)},$M=async e=>{await ek(Z(Q,`futureTrips`,e))},eN=(e,t)=>e?nk(NO(GD(Q,`dreamTrips`),FO(`coupleCode`,`==`,e)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},tN=async(e,t)=>{await tk(GD(Q,`dreamTrips`),{...t,coupleCode:e})},nN=async(e,t)=>{await $O(Z(Q,`dreamTrips`,e),t)},rN=async e=>{await ek(Z(Q,`dreamTrips`,e))},iN=(e,t)=>e?nk(NO(GD(Q,`specialDates`),FO(`coupleCode`,`==`,e)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},aN=async(e,t)=>{await tk(GD(Q,`specialDates`),{...t,coupleCode:e})},oN=async(e,t)=>{await $O(Z(Q,`specialDates`,e),t)},sN=async e=>{await ek(Z(Q,`specialDates`,e))},cN=(e,t)=>e?nk(NO(GD(Q,`gratitudes`),FO(`coupleCode`,`==`,e),RO(`createdAt`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},lN=async(e,t)=>{await tk(GD(Q,`gratitudes`),{...t,coupleCode:e})},uN=async e=>{await ek(Z(Q,`gratitudes`,e))},dN=(e,t)=>e?nk(NO(GD(Q,`milestones`),FO(`coupleCode`,`==`,e),RO(`date`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},fN=async(e,t)=>{await tk(GD(Q,`milestones`),{...t,coupleCode:e})},pN=async(e,t)=>{await $O(Z(Q,`milestones`,e),t)},mN=async e=>{await ek(Z(Q,`milestones`,e))},hN=(e,t)=>e?nk(NO(GD(Q,`dailyHabits`),FO(`coupleCode`,`==`,e),RO(`createdAt`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},gN=async(e,t)=>{await tk(GD(Q,`dailyHabits`),{...t,coupleCode:e})},_N=async(e,t)=>{await $O(Z(Q,`dailyHabits`,e),t)},vN=async e=>{await ek(Z(Q,`dailyHabits`,e))},yN=(e,t)=>nk(Z(Q,`userProfiles`,e),e=>{e.exists()?t(e.data()):t(null)}),bN=async(e,t)=>{await QO(Z(Q,`userProfiles`,e),{...t,createdAt:ak(),updatedAt:ak()})},xN=async(e,t)=>{await QO(Z(Q,`userProfiles`,e),{...t,updatedAt:ak()},{merge:!0})},SN=(e,t)=>e?nk(NO(GD(Q,`userProfiles`),FO(`coupleCode`,`==`,e)),e=>{let n={};e.docs.forEach(e=>{n[e.id]=e.data()}),t(n)}):()=>{},CN=(e,t)=>e?nk(NO(GD(Q,`stickyNotes`),FO(`coupleCode`,`==`,e),RO(`createdAt`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},wN=async(e,t)=>{await tk(GD(Q,`stickyNotes`),{...t,coupleCode:e})},TN=async e=>{await ek(Z(Q,`stickyNotes`,e))},EN=(e,t)=>e?nk(NO(GD(Q,`bookDiscussions`),FO(`bookId`,`==`,e),RO(`createdAt`,`desc`)),e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))}):()=>{},DN=async(e,t)=>{await tk(GD(Q,`bookDiscussions`),{...t,bookId:e,createdAt:ak()})},ON=async e=>{await ek(Z(Q,`bookDiscussions`,e))},kN=async(e,t,n,r)=>{let i=Z(Q,e,t),a=await YO(i);if(!a.exists())return;let o=a.data().reactions||{};if(o[n]===r){let e={...o};delete e[n],await $O(i,{reactions:e})}else await $O(i,{[`reactions.${n}`]:r})};var AN=(0,x.createContext)();function jN(){return(0,x.useContext)(AN)}function MN({children:e}){let[t,n]=(0,x.useState)(null),[r,i]=(0,x.useState)(!0);(0,x.useEffect)(()=>f_(MM,e=>{n(e),i(!1)}),[]);let a={currentUser:t,signIn:(e,t)=>l_(MM,e,t),signUp:async(e,t)=>{let n=await c_(MM,e,t);return await bN(n.user.uid,{uid:n.user.uid,email:n.user.email,name:``,coupleCode:null,createdAt:new Date}),n},signOut:()=>p_(MM),loading:r};return(0,j.jsx)(AN.Provider,{value:a,children:e})}const NN=()=>Math.random().toString(36).substring(2,10).toUpperCase(),PN=async(e,t,n)=>{console.log(`Creating couple for user:`,e,t,n);let r=NN();return console.log(`Generated couple code:`,r),await QO(Z(Q,`couples`,r),{code:r,createdAt:ak(),createdBy:e,members:[e],memberDetails:{[e]:{name:t,email:n,joinedAt:ak()}}}),console.log(`Couple document created`),await QO(Z(Q,`userProfiles`,e),{coupleCode:r,name:t,email:n,createdAt:ak()},{merge:!0}),console.log(`User profile updated with couple code`),r},FN=async(e,t,n,r)=>{let i=Z(Q,`couples`,r.toUpperCase()),a=await YO(i);if(!a.exists())throw Error(`Invalid couple code`);let o=a.data();if(o.members.length>=2)throw Error(`This couple already has 2 members`);return await $O(i,{members:[...o.members,e],[`memberDetails.${e}`]:{name:t,email:n,joinedAt:ak()}}),await QO(Z(Q,`userProfiles`,e),{coupleCode:r.toUpperCase(),name:t,email:n,createdAt:ak()},{merge:!0}),r.toUpperCase()},IN=async e=>{let t=await YO(Z(Q,`userProfiles`,e));return t.exists()&&t.data().coupleCode||null},LN=async e=>{let t=await YO(Z(Q,`couples`,e));return t.exists()?t.data():null};var RN=(0,x.createContext)();function zN(){return(0,x.useContext)(RN)}function BN({children:e}){let[t,n]=(0,x.useState)(null),[r,i]=(0,x.useState)(!0),[a,o]=(0,x.useState)(null),{currentUser:s}=jN(),c=async()=>{if(s)try{console.log(`Refreshing couple code for user:`,s.uid);let e=await IN(s.uid);console.log(`Couple code refreshed:`,e),n(e)}catch(e){console.error(`Error refreshing couple code:`,e)}};(0,x.useEffect)(()=>{if(!s){o(null),n(null),i(!1);return}return nk(Z(Q,`userProfiles`,s.uid),e=>{if(e.exists()){let t={id:e.id,...e.data()};console.log(`User profile updated:`,t),o(t),n(t?.coupleCode||null)}else o(null),n(null);i(!1)},e=>{console.error(`Error subscribing to user profile:`,e),i(!1)})},[s]);let l={coupleCode:t,setCoupleCode:n,refreshCoupleCode:c,loading:r,userProfile:a,hasCouple:!!t};return(0,j.jsx)(RN.Provider,{value:l,children:e})}var VN=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),HN=(...e)=>e.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(` `),UN={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},WN=(0,x.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,x.createElement)(`svg`,{ref:c,...UN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HN(`lucide`,i),...s},[...o.map(([e,t])=>(0,x.createElement)(e,t)),...Array.isArray(a)?a:[a]])),$=(e,t)=>{let n=(0,x.forwardRef)(({className:n,...r},i)=>(0,x.createElement)(WN,{ref:i,iconNode:t,className:HN(`lucide-${VN(e)}`,n),...r}));return n.displayName=`${e}`,n},GN=$(`ArrowRight`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),KN=$(`Award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),qN=$(`BellOff`,[[`path`,{d:`M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5`,key:`o7mx20`}],[`path`,{d:`M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7`,key:`16f1lm`}],[`path`,{d:`M10.3 21a1.94 1.94 0 0 0 3.4 0`,key:`qgo35s`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),JN=$(`Bell`,[[`path`,{d:`M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9`,key:`1qo2s2`}],[`path`,{d:`M10.3 21a1.94 1.94 0 0 0 3.4 0`,key:`qgo35s`}]]),YN=$(`BookOpen`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),XN=$(`Calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),ZN=$(`ChartColumn`,[[`path`,{d:`M3 3v16a2 2 0 0 0 2 2h16`,key:`c24i48`}],[`path`,{d:`M18 17V9`,key:`2bz60n`}],[`path`,{d:`M13 17V5`,key:`1frdt8`}],[`path`,{d:`M8 17v-3`,key:`17ska0`}]]),QN=$(`Check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),$N=$(`CircleCheck`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),eP=$(`Circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),tP=$(`Copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),nP=$(`Ellipsis`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`19`,cy:`12`,r:`1`,key:`1wjl8i`}],[`circle`,{cx:`5`,cy:`12`,r:`1`,key:`1pcz8c`}]]),rP=$(`Film`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M7 3v18`,key:`bbkbws`}],[`path`,{d:`M3 7.5h4`,key:`zfgn84`}],[`path`,{d:`M3 12h18`,key:`1i2n21`}],[`path`,{d:`M3 16.5h4`,key:`1230mu`}],[`path`,{d:`M17 3v18`,key:`in4fa5`}],[`path`,{d:`M17 7.5h4`,key:`myr1c1`}],[`path`,{d:`M17 16.5h4`,key:`go4c1d`}]]),iP=$(`Filter`,[[`polygon`,{points:`22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3`,key:`1yg77f`}]]),aP=$(`Heart`,[[`path`,{d:`M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z`,key:`c3ymky`}]]),oP=$(`House`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`1d0kgt`}]]),sP=$(`Key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),cP=$(`Link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),lP=$(`LogOut`,[[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}],[`polyline`,{points:`16 17 21 12 16 7`,key:`1gabdz`}],[`line`,{x1:`21`,x2:`9`,y1:`12`,y2:`12`,key:`1uyos4`}]]),uP=$(`Mail`,[[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}],[`path`,{d:`m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7`,key:`1ocrg3`}]]),dP=$(`MapPin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),fP=$(`MessageCircle`,[[`path`,{d:`M7.9 20A9 9 0 1 0 4 16.1L2 22Z`,key:`vv11sd`}]]),pP=$(`Moon`,[[`path`,{d:`M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z`,key:`a7tn18`}]]),mP=$(`Pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),hP=$(`Plane`,[[`path`,{d:`M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z`,key:`1v9wt8`}]]),gP=$(`Plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),_P=$(`Save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),vP=$(`Send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),yP=$(`Settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),bP=$(`Smile`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 14s1.5 2 4 2 4-2 4-2`,key:`1y1vjs`}],[`line`,{x1:`9`,x2:`9.01`,y1:`9`,y2:`9`,key:`yxxnd0`}],[`line`,{x1:`15`,x2:`15.01`,y1:`9`,y2:`9`,key:`1p4y9e`}]]),xP=$(`Sparkles`,[[`path`,{d:`M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z`,key:`4pj2yx`}],[`path`,{d:`M20 3v4`,key:`1olli1`}],[`path`,{d:`M22 5h-4`,key:`1gvqau`}],[`path`,{d:`M4 17v2`,key:`vumght`}],[`path`,{d:`M5 18H3`,key:`zchphs`}]]),SP=$(`Star`,[[`polygon`,{points:`12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2`,key:`8f66p6`}]]),CP=$(`StickyNote`,[[`path`,{d:`M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z`,key:`qazsjp`}],[`path`,{d:`M15 3v4a2 2 0 0 0 2 2h4`,key:`40519r`}]]),wP=$(`Sun`,[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]]),TP=$(`Trash2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),EP=$(`TrendingUp`,[[`polyline`,{points:`22 7 13.5 15.5 8.5 10.5 2 17`,key:`126l90`}],[`polyline`,{points:`16 7 22 7 22 13`,key:`kwv8wd`}]]),DP=$(`Tv`,[[`rect`,{width:`20`,height:`15`,x:`2`,y:`7`,rx:`2`,ry:`2`,key:`10ag99`}],[`polyline`,{points:`17 2 12 7 7 2`,key:`11pgbg`}]]),OP=$(`UserPlus`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`19`,x2:`19`,y1:`8`,y2:`14`,key:`1bvyxn`}],[`line`,{x1:`22`,x2:`16`,y1:`11`,y2:`11`,key:`1shjgl`}]]),kP=$(`User`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),AP=$(`Users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`path`,{d:`M16 3.13a4 4 0 0 1 0 7.75`,key:`1da9ce`}]]),jP=$(`X`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);function MP(){let[e,t]=(0,x.useState)(``),[n,r]=(0,x.useState)(``),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(!1),[u,d]=(0,x.useState)(!1),[f,p]=(0,x.useState)(``),[m,h]=(0,x.useState)(!1),{signIn:g,signUp:_}=jN(),{refreshCoupleCode:v}=zN(),y=Ye();return(0,j.jsx)(`div`,{className:`min-h-screen flex items-center justify-center px-4`,children:(0,j.jsxs)(`div`,{className:`card max-w-md w-full`,children:[(0,j.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold bg-gradient-to-r from-pink-500 to-green-500 bg-clip-text text-transparent`,children:`LDR App`}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-2`,children:`Our shared space to plan our future together`})]}),(0,j.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),p(``),h(!0);try{if(c){if(!i.trim()){p(`Please enter your name`),h(!1);return}let t=(await _(e,n)).user.uid;if(u){if(!o.trim()){p(`Please enter a couple code`),h(!1);return}await FN(t,i.trim(),e,o.trim())}else await PN(t,i.trim(),e);await v()}else await g(e,n);y(`/`)}catch(e){p(e.message||`An error occurred`)}finally{h(!1)}},className:`space-y-4`,children:[c&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Name`}),(0,j.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),className:`input`,required:!0,placeholder:`Your name`})]}),(0,j.jsxs)(`div`,{className:`bg-pink-50 dark:bg-pink-900/20 border border-pink-200 dark:border-pink-800 rounded-lg p-4`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-3`,children:[(0,j.jsx)(AP,{className:`w-5 h-5 text-pink-600 dark:text-pink-400`}),(0,j.jsx)(`h3`,{className:`font-semibold text-gray-800 dark:text-gray-100`,children:`Couple Setup`})]}),(0,j.jsxs)(`div`,{className:`space-y-2 mb-3`,children:[(0,j.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,j.jsx)(`input`,{type:`radio`,checked:!u,onChange:()=>d(!1),className:`text-pink-500`}),(0,j.jsx)(`span`,{className:`text-sm text-gray-700 dark:text-gray-300`,children:`Start new couple (I'll invite my partner)`})]}),(0,j.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,j.jsx)(`input`,{type:`radio`,checked:u,onChange:()=>d(!0),className:`text-pink-500`}),(0,j.jsx)(`span`,{className:`text-sm text-gray-700 dark:text-gray-300`,children:`Join my partner's couple (I have a code)`})]})]}),u&&(0,j.jsx)(`div`,{children:(0,j.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value.toUpperCase()),className:`input text-center font-mono text-lg`,placeholder:`Enter couple code`,required:!0,maxLength:8})})]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Email`}),(0,j.jsx)(`input`,{type:`email`,value:e,onChange:e=>t(e.target.value),className:`input`,required:!0,placeholder:`you@example.com`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Password`}),(0,j.jsx)(`input`,{type:`password`,value:n,onChange:e=>r(e.target.value),className:`input`,required:!0,placeholder:``,minLength:6})]}),f&&(0,j.jsx)(`div`,{className:`bg-red-50 dark:bg-red-900 text-red-600 dark:text-red-200 px-4 py-3 rounded-lg text-sm`,children:f}),(0,j.jsx)(`button`,{type:`submit`,disabled:m,className:`btn-primary w-full`,children:m?`Loading...`:c?`Sign Up`:`Sign In`}),(0,j.jsx)(`button`,{type:`button`,onClick:()=>l(!c),className:`w-full text-center text-sm text-pink-600 hover:text-pink-700 transition-colors`,children:c?`Already have an account? Sign in`:`Don't have an account? Sign up`})]})]})})}var NP=[{name:`Yellow`,bg:`bg-yellow-100 dark:bg-yellow-100`,border:`border-yellow-300`},{name:`Pink`,bg:`bg-pink-100 dark:bg-pink-100`,border:`border-pink-300`},{name:`Blue`,bg:`bg-blue-100 dark:bg-blue-100`,border:`border-blue-300`},{name:`Green`,bg:`bg-green-100 dark:bg-green-100`,border:`border-green-300`}];function PP(){let[e,t]=(0,x.useState)(``),[n,r]=(0,x.useState)(``),[i,a]=(0,x.useState)(!1),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)([]),[f,p]=(0,x.useState)(!1),[m,h]=(0,x.useState)(``),[g,_]=(0,x.useState)(NP[0]),[v,y]=(0,x.useState)({}),b=Ye(),{coupleCode:S}=zN(),{currentUser:C}=jN();(0,x.useEffect)(()=>{if(S)return IM(S,e=>{t(e.nextMeetDate||``)})},[S]),(0,x.useEffect)(()=>{if(S)return CN(S,e=>{if(!C){d([]);return}d([...e].sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)).filter(e=>e.createdBy!==C.uid).slice(0,1))})},[S,C]),(0,x.useEffect)(()=>{if(S)return SN(S,y)},[S]),(0,x.useEffect)(()=>{if(!e)return;let t=()=>{let t=new Date;t.setHours(0,0,0,0);let n=new Date(e+`T00:00:00`)-t;if(n<=0){r(`We're together!`);return}let i=Math.floor(n/(1e3*60*60*24));r(i===1?`1 day until we're together!`:`${i} days until we're together!`)};t();let n=setInterval(t,1e3*60*60);return()=>clearInterval(n)},[e]);let w=async()=>{if(!S){console.error(`No couple code available`),l(`Error: No couple code found. Please refresh the page.`),setTimeout(()=>l(``),5e3);return}if(!o){l(`Please select a date.`),setTimeout(()=>l(``),3e3);return}try{console.log(`Updating date with coupleCode:`,S,`newDate:`,o),await LM(S,o),a(!1),s(``),l(`Date saved successfully!`),setTimeout(()=>l(``),3e3)}catch(e){console.error(`Error updating date:`,e),l(`Failed to save date: `+e.message),setTimeout(()=>l(``),5e3)}},ee=async e=>{e.preventDefault(),m.trim()&&(await wN(S,{message:m,color:g.name,createdBy:C.uid,createdByEmail:C.email,createdAt:Date.now()}),h(``),p(!1),_(NP[0]))},T=e=>v[e.createdBy]?.name||e.createdByEmail||`Unknown`,te=e=>NP.find(t=>t.name===e)||NP[0],ne=[{title:`Date Ideas`,icon:aP,path:`/date-ideas`,gradient:`from-pink-300 to-pink-400`,description:`Things we want to do together`},{title:`Books`,icon:YN,path:`/books`,gradient:`from-pink-200 to-green-300`,description:`Books to read together`},{title:`Shows & Movies`,icon:DP,path:`/shows`,gradient:`from-green-300 to-green-400`,description:`Shows and movies to watch together`},{title:`Future Trips`,icon:hP,path:`/future-trips`,gradient:`from-pink-300 to-green-300`,description:`Trips we are planning`},{title:`Dream Trips`,icon:xP,path:`/dream-trips`,gradient:`from-green-200 to-pink-300`,description:`Our bucket list destinations`},{title:`Special Dates`,icon:XN,path:`/special-dates`,gradient:`from-green-300 to-pink-300`,description:`Our calendar of special moments`},{title:`Gratitude Wall`,icon:xP,path:`/gratitude`,gradient:`from-yellow-300 to-pink-400`,description:`Things we appreciate`},{title:`Milestones`,icon:KN,path:`/milestones`,gradient:`from-purple-300 to-pink-400`,description:`Track our journey together`},{title:`Daily Habits`,icon:$N,path:`/daily-habits`,gradient:`from-green-300 to-emerald-400`,description:`Build habits together`},{title:`Sticky Notes`,icon:CP,path:`/sticky-notes`,gradient:`from-yellow-200 to-orange-300`,description:`Quick notes for your partner`}];return(0,j.jsxs)(`div`,{className:`space-y-8`,children:[u.length>0&&(0,j.jsxs)(`div`,{className:`fixed bottom-24 right-4 z-40 space-y-2`,style:{maxWidth:`200px`},children:[u.map((e,t)=>{let n=te(e.color);return(0,j.jsxs)(`div`,{className:`${n.bg} ${n.border} border-2 rounded-lg p-3 shadow-lg transform transition-transform hover:scale-105 cursor-pointer`,style:{transform:`rotate(${(t%2==0?1:-1)*(t+1)*2}deg)`},onClick:()=>b(`/sticky-notes`),children:[(0,j.jsx)(`p`,{className:`text-xs leading-tight line-clamp-3 mb-2 font-medium text-black dark:text-gray-900`,children:e.message}),(0,j.jsxs)(`p`,{className:`text-xs opacity-80 italic flex items-center gap-1 font-medium text-black dark:text-gray-900`,children:[(0,j.jsx)(aP,{className:`w-3 h-3`}),T(e)]})]},e.id)}),(0,j.jsxs)(`button`,{onClick:()=>p(!0),className:`w-full bg-yellow-200 border-2 border-yellow-300 text-gray-800 rounded-lg p-3 shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 text-sm font-medium`,children:[(0,j.jsx)(gP,{className:`w-4 h-4`}),`New Note`]})]}),u.length===0&&(0,j.jsxs)(`button`,{onClick:()=>p(!0),className:`fixed bottom-24 right-4 z-40 bg-yellow-200 border-2 border-yellow-300 text-gray-800 rounded-lg p-4 shadow-lg hover:shadow-xl transition-all flex items-center gap-2 font-medium`,children:[(0,j.jsx)(CP,{className:`w-5 h-5`}),`Add Note`]}),f&&(0,j.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`,children:(0,j.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full shadow-2xl`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,j.jsxs)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2`,children:[(0,j.jsx)(CP,{className:`w-6 h-6 text-pink-500`}),`New Sticky Note`]}),(0,j.jsx)(`button`,{onClick:()=>{p(!1),h(``),_(NP[0])},className:`text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200`,children:(0,j.jsx)(jP,{className:`w-6 h-6`})})]}),(0,j.jsxs)(`form`,{onSubmit:ee,className:`space-y-4`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Message *`}),(0,j.jsx)(`textarea`,{value:m,onChange:e=>h(e.target.value),className:`input`,rows:4,placeholder:`Leave a sweet message...`,required:!0,autoFocus:!0,maxLength:200}),(0,j.jsxs)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400 mt-1`,children:[m.length,`/200 characters`]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Color`}),(0,j.jsx)(`div`,{className:`flex gap-2`,children:NP.map(e=>(0,j.jsx)(`button`,{type:`button`,onClick:()=>_(e),className:`w-10 h-10 rounded-lg ${e.bg} ${g.name===e.name?`border-4 border-gray-800 dark:border-gray-900 scale-110 ring-4 ring-pink-300 dark:ring-pink-500`:`border-2 border-gray-300 dark:border-gray-600`} transition-all hover:scale-105`,title:e.name},e.name))})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:`Post Note`})]})]})}),(0,j.jsxs)(`div`,{className:`card text-center bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700 border-2 border-pink-200 dark:border-pink-500`,children:[(0,j.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,j.jsx)(aP,{className:`w-16 h-16 text-pink-500 fill-pink-500 animate-pulse`})}),e?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(`h2`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2`,children:n}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mb-4`,children:new Date(e+`T00:00:00`).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`,timeZone:`UTC`})})]}):(0,j.jsx)(`p`,{className:`text-xl text-gray-600 dark:text-gray-300 mb-4`,children:`Set when you'll see each other next`}),(0,j.jsxs)(`button`,{onClick:()=>{a(!i),!i&&e&&s(e)},className:`btn-secondary inline-flex items-center gap-2`,children:[(0,j.jsx)(XN,{className:`w-5 h-5`}),e?`Update Date`:`Set Date`]}),c&&(0,j.jsx)(`p`,{className:`mt-3 text-sm font-medium ${c.includes(`Failed`)?`text-red-600 dark:text-red-400`:`text-green-600 dark:text-green-400`}`,children:c}),i&&(0,j.jsxs)(`div`,{className:`mt-4 p-4 bg-white dark:bg-gray-700 rounded-xl`,children:[(0,j.jsx)(`input`,{type:`date`,value:o,onChange:e=>s(e.target.value),className:`input mb-3`}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:w,className:`btn-primary flex-1`,children:`Save`}),(0,j.jsx)(`button`,{onClick:()=>a(!1),className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),(0,j.jsxs)(`div`,{className:`space-y-8`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(aP,{className:`w-6 h-6 text-pink-500 fill-pink-500`}),`Our Relationship`]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:ne.filter(e=>[`Milestones`,`Special Dates`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,j.jsxs)(`button`,{onClick:()=>b(n),className:`nav-card text-left group`,children:[(0,j.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,j.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)($N,{className:`w-6 h-6 text-green-500`}),`Daily Connection`]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:ne.filter(e=>[`Daily Habits`,`Gratitude Wall`,`Sticky Notes`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,j.jsxs)(`button`,{onClick:()=>b(n),className:`nav-card text-left group`,children:[(0,j.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,j.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(XN,{className:`w-6 h-6 text-pink-500`}),`Planning Together`]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:ne.filter(e=>[`Date Ideas`,`Future Trips`,`Dream Trips`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,j.jsxs)(`button`,{onClick:()=>b(n),className:`nav-card text-left group`,children:[(0,j.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,j.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(xP,{className:`w-6 h-6 text-purple-500`}),`Shared Interests`]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:ne.filter(e=>[`Books`,`Shows & Movies`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,j.jsxs)(`button`,{onClick:()=>b(n),className:`nav-card text-left group`,children:[(0,j.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,j.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]})]})]})}var FP=[`Romantic`,`Movie Night`,`Games`,`Cute`,`Adventure`,`Food`,`Other`];function IP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)(!0),{currentUser:u}=jN(),{coupleCode:d}=zN(),[f,p]=(0,x.useState)({title:``,description:``,category:`Romantic`,location:``});(0,x.useEffect)(()=>{if(d)return RM(d,t)},[d]);let m=async e=>{e.preventDefault();let t={...f,addedBy:u.email};i?(await BM(i,f),a(null)):await zM(d,t),p({title:``,description:``,category:`Romantic`,location:``}),r(!1)},h=e=>{p({title:e.title,description:e.description||``,category:e.category,location:e.location||``}),a(e.id),r(!0)},g=async e=>{await BM(e.id,{completed:!e.completed})},_=async e=>{window.confirm(`Are you sure you want to delete this idea?`)&&await VM(e)},v=e.filter(e=>!(o!==`all`&&e.category!==o||!c&&e.completed));return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100`,children:`Date Ideas`}),(0,j.jsxs)(`button`,{onClick:()=>{r(!n),a(null),p({title:``,description:``,category:`Romantic`,location:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),n?`Cancel`:`Add Idea`]})]}),(0,j.jsxs)(`div`,{className:`card space-y-3`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,j.jsx)(iP,{className:`w-5 h-5 text-gray-600`}),(0,j.jsx)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:`All`}),FP.map(e=>(0,j.jsx)(`button`,{onClick:()=>s(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===e?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:e},e))]}),(0,j.jsxs)(`label`,{className:`flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer`,children:[(0,j.jsx)(`input`,{type:`checkbox`,checked:c,onChange:e=>l(e.target.checked),className:`w-4 h-4 text-pink-500 rounded focus:ring-pink-500`}),`Show completed ideas`]})]}),n&&(0,j.jsxs)(`form`,{onSubmit:m,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:i?`Edit Idea`:`New Date Idea`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Title *`}),(0,j.jsx)(`input`,{type:`text`,value:f.title,onChange:e=>p({...f,title:e.target.value}),className:`input`,required:!0,placeholder:`What do you want to do?`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Description`}),(0,j.jsx)(`textarea`,{value:f.description,onChange:e=>p({...f,description:e.target.value}),className:`input`,rows:3,placeholder:`Add more details...`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Category *`}),(0,j.jsx)(`select`,{value:f.category,onChange:e=>p({...f,category:e.target.value}),className:`input`,required:!0,children:FP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Location`}),(0,j.jsx)(`input`,{type:`text`,value:f.location,onChange:e=>p({...f,location:e.target.value}),className:`input`,placeholder:`Where? (optional)`})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Idea`:`Add Idea`})]}),(0,j.jsx)(`div`,{className:`space-y-4`,children:v.length===0?(0,j.jsx)(`div`,{className:`card text-center py-12`,children:(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400`,children:`No date ideas yet. Add your first one!`})}):v.map(e=>(0,j.jsx)(`div`,{className:`card ${e.completed?`bg-gray-50 dark:bg-gray-800 opacity-75`:`bg-white dark:bg-gray-800`}`,children:(0,j.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,j.jsx)(`h3`,{className:`text-lg font-semibold ${e.completed?`line-through text-gray-500 dark:text-gray-400`:`text-gray-800 dark:text-gray-100`}`,children:e.title}),(0,j.jsx)(`span`,{className:`px-3 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 rounded-full text-xs font-medium`,children:e.category})]}),e.description&&(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm mb-2`,children:e.description}),e.location&&(0,j.jsxs)(`p`,{className:`text-gray-500 dark:text-gray-400 text-sm`,children:[` `,e.location]}),(0,j.jsxs)(`p`,{className:`text-xs text-gray-400 dark:text-gray-500 mt-2`,children:[`Added by `,e.addedBy]})]}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>g(e),className:`p-2 rounded-full transition-colors ${e.completed?`bg-green-100 text-green-600`:`bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-100 hover:text-green-600 dark:hover:bg-green-900`}`,title:e.completed?`Mark incomplete`:`Mark complete`,children:(0,j.jsx)(QN,{className:`w-5 h-5`})}),(0,j.jsx)(`button`,{onClick:()=>h(e),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-5 h-5`})}),(0,j.jsx)(`button`,{onClick:()=>_(e.id),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-5 h-5`})})]})]})},e.id))})]})}var LP=[`Romantic`,`Movie Night`,`Games`,`Cute`,`Adventure`,`Food`,`Other`];function RP(){let{coupleCode:e}=zN(),[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(null),[s,c]=(0,x.useState)(null),{currentUser:l}=jN(),[u,d]=(0,x.useState)({title:``,description:``,category:`Romantic`,location:``});(0,x.useEffect)(()=>{if(e)return RM(e,n)},[e]);let f=async t=>{t.preventDefault();let n={...u,addedBy:l.email};a?(await BM(a,u),o(null)):await zM(e,n),d({title:``,description:``,category:`Romantic`,location:``}),i(!1)},p=e=>{d({title:e.title,description:e.description||``,category:e.category,location:e.location||``}),o(e.id),i(!0)},m=async e=>{await BM(e.id,{completed:!e.completed})},h=async e=>{window.confirm(`Are you sure you want to delete this idea?`)&&await VM(e)},g=t.reduce((e,t)=>{let n=t.location||`Someday / Not Specific`;return e[n]||(e[n]=[]),e[n].push(t),e},{}),_=Object.keys(g).sort((e,t)=>e===`Someday / Not Specific`?1:t===`Someday / Not Specific`?-1:e.localeCompare(t));return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100`,children:`Date Ideas by Location `}),(0,j.jsxs)(`button`,{onClick:()=>{i(!r),o(null),d({title:``,description:``,category:`Romantic`,location:``})},className:`btn-primary inline-flex items-center gap-2`,children:[r?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),r?`Cancel`:`Add Idea`]})]}),r&&(0,j.jsxs)(`form`,{onSubmit:f,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:a?`Edit Idea`:`New Date Idea`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Title *`}),(0,j.jsx)(`input`,{type:`text`,value:u.title,onChange:e=>d({...u,title:e.target.value}),className:`input`,required:!0,placeholder:`What do you want to do?`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Description`}),(0,j.jsx)(`textarea`,{value:u.description,onChange:e=>d({...u,description:e.target.value}),className:`input`,rows:3,placeholder:`Add more details...`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Category *`}),(0,j.jsx)(`select`,{value:u.category,onChange:e=>d({...u,category:e.target.value}),className:`input`,required:!0,children:LP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Location *`}),(0,j.jsx)(`input`,{type:`text`,value:u.location,onChange:e=>d({...u,location:e.target.value}),className:`input`,placeholder:`e.g., Buffalo NY , New York City , California `})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:a?`Update Idea`:`Add Idea`})]}),_.length===0?(0,j.jsx)(`div`,{className:`card text-center py-12`,children:(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400`,children:`No date ideas yet. Add your first one!`})}):(0,j.jsx)(`div`,{className:`space-y-6`,children:_.map(e=>(0,j.jsxs)(`div`,{className:`space-y-3`,children:[(0,j.jsxs)(`button`,{onClick:()=>c(s===e?null:e),className:`flex items-center gap-2 text-2xl font-bold text-gray-800 dark:text-gray-100 hover:text-pink-600 dark:hover:text-pink-400 transition-colors`,children:[(0,j.jsx)(dP,{className:`w-6 h-6`}),e,(0,j.jsxs)(`span`,{className:`text-sm font-normal text-gray-500 dark:text-gray-400`,children:[`(`,g[e].length,`)`]})]}),(s===e||s===null)&&(0,j.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ml-8`,children:g[e].map(e=>(0,j.jsx)(`div`,{className:`card ${e.completed?`bg-gray-50 dark:bg-gray-800 opacity-75`:`bg-white dark:bg-gray-800`}`,children:(0,j.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,j.jsx)(`h3`,{className:`text-lg font-semibold ${e.completed?`line-through text-gray-500 dark:text-gray-400`:`text-gray-800 dark:text-gray-100`}`,children:e.title}),(0,j.jsx)(`span`,{className:`px-3 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 rounded-full text-xs font-medium`,children:e.category})]}),e.description&&(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm mb-2`,children:e.description}),(0,j.jsxs)(`p`,{className:`text-xs text-gray-400 dark:text-gray-500 mt-2`,children:[`Added by `,e.addedBy]})]}),(0,j.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>m(e),className:`p-2 rounded-full transition-colors ${e.completed?`bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400`:`bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-100 hover:text-green-600 dark:hover:bg-green-900/30 dark:hover:text-green-400`}`,title:e.completed?`Mark incomplete`:`Mark complete`,children:(0,j.jsx)(QN,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>p(e),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900/30 dark:hover:text-blue-400 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>h(e.id),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]})]})},e.id))})]},e))})]})}var zP=[`Not Started`,`In Progress`,`Finished`];function BP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)(null),[u,d]=(0,x.useState)([]),[f,p]=(0,x.useState)(``),[m,h]=(0,x.useState)({}),{coupleCode:g}=zN(),{currentUser:_}=jN(),[v,y]=(0,x.useState)({title:``,author:``,status:`Not Started`,notes:``,rating:0});(0,x.useEffect)(()=>{if(g)return HM(g,t)},[g]),(0,x.useEffect)(()=>{if(g)return SN(g,h)},[g]),(0,x.useEffect)(()=>{if(c)return EN(c.id,d)},[c]);let b=async e=>{e.preventDefault(),i?(await WM(i,v),a(null)):await UM(g,v),y({title:``,author:``,status:`Not Started`,notes:``,rating:0}),r(!1)},S=e=>{y({title:e.title,author:e.author,status:e.status,notes:e.notes||``,rating:e.rating||0}),a(e.id),r(!0)},C=async e=>{window.confirm(`Are you sure you want to delete this book?`)&&await GM(e)},w=async e=>{e.preventDefault(),f.trim()&&c&&(await DN(c.id,{message:f,createdBy:_.uid,createdByEmail:_.email}),p(``))},ee=async e=>{window.confirm(`Delete this message?`)&&await ON(e)},T=e=>{let t=m[e];return t?.name||t?.email||`Unknown`},te=(e,t=!1,n=null)=>(0,j.jsx)(`div`,{className:`flex gap-1`,children:[1,2,3,4,5].map(r=>(0,j.jsx)(`button`,{type:`button`,onClick:()=>t&&n&&n(r),className:`${t?`cursor-pointer hover:scale-110`:`cursor-default`} transition-transform`,disabled:!t,children:(0,j.jsx)(SP,{className:`w-5 h-5 ${r<=e?`fill-yellow-400 text-yellow-400`:`text-gray-300`}`})},r))}),ne=e.filter(e=>o===`all`?!0:e.status===o),re=e=>{switch(e){case`Not Started`:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`;case`In Progress`:return`bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300`;case`Finished`:return`bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300`;default:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`}};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Books to Read Together `}),(0,j.jsxs)(`button`,{onClick:()=>{r(!n),a(null),y({title:``,author:``,status:`Not Started`,notes:``,rating:0})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),n?`Cancel`:`Add Book`]})]}),(0,j.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,j.jsxs)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[`All (`,e.length,`)`]}),zP.map(t=>(0,j.jsxs)(`button`,{onClick:()=>s(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===t?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[t,` (`,e.filter(e=>e.status===t).length,`)`]},t))]}),n&&(0,j.jsxs)(`form`,{onSubmit:b,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Book`:`Add New Book`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,j.jsx)(`input`,{type:`text`,value:v.title,onChange:e=>y({...v,title:e.target.value}),className:`input`,required:!0,placeholder:`Book title`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Author *`}),(0,j.jsx)(`input`,{type:`text`,value:v.author,onChange:e=>y({...v,author:e.target.value}),className:`input`,required:!0,placeholder:`Author name`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Status *`}),(0,j.jsx)(`select`,{value:v.status,onChange:e=>y({...v,status:e.target.value}),className:`input`,required:!0,children:zP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Notes`}),(0,j.jsx)(`textarea`,{value:v.notes,onChange:e=>y({...v,notes:e.target.value}),className:`input`,rows:3,placeholder:`Your thoughts about this book...`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Rating`}),te(v.rating,!0,e=>y({...v,rating:e}))]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Book`:`Add Book`})]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:ne.length===0?(0,j.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,j.jsx)(YN,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500`,children:`No books yet. Add your first book to read together! `})]}):ne.map(e=>(0,j.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,j.jsx)(YN,{className:`w-8 h-8 text-green-400`}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>S(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>C(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]})]}),(0,j.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 dark:text-gray-100 mb-1`,children:e.title}),(0,j.jsxs)(`p`,{className:`text-gray-600 dark:text-gray-400 text-sm mb-3`,children:[`by `,e.author]}),e.rating>0&&(0,j.jsx)(`div`,{className:`mb-3`,children:te(e.rating)}),(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-3`,children:[(0,j.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${re(e.status)}`,children:e.status}),e.status===`In Progress`&&(0,j.jsxs)(`button`,{onClick:()=>l(e),className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-pink-100 dark:bg-pink-900 text-pink-700 dark:text-pink-300 hover:bg-pink-200 dark:hover:bg-pink-800 transition-colors`,children:[(0,j.jsx)(fP,{className:`w-3 h-3`}),`Discuss`]})]}),e.notes&&(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-400 text-sm mt-3 pt-3 border-t border-gray-200 dark:border-gray-700`,children:e.notes})]},e.id))}),c&&(0,j.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`,children:(0,j.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col shadow-2xl`,children:[(0,j.jsx)(`div`,{className:`p-6 border-b border-gray-200 dark:border-gray-700`,children:(0,j.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100`,children:c.title}),(0,j.jsxs)(`p`,{className:`text-gray-600 dark:text-gray-400 text-sm mt-1`,children:[`by `,c.author]})]}),(0,j.jsx)(`button`,{onClick:()=>{l(null),d([])},className:`text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200`,children:(0,j.jsx)(jP,{className:`w-6 h-6`})})]})}),(0,j.jsx)(`div`,{className:`flex-1 overflow-y-auto p-6 space-y-4`,children:u.length===0?(0,j.jsxs)(`div`,{className:`text-center py-8`,children:[(0,j.jsx)(fP,{className:`w-12 h-12 text-gray-300 mx-auto mb-3`}),(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400`,children:`No discussions yet. Start the conversation!`})]}):u.map(e=>(0,j.jsxs)(`div`,{className:`bg-gray-50 dark:bg-gray-700 rounded-lg p-4`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-start mb-2`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,j.jsx)(`span`,{className:`font-semibold text-gray-800 dark:text-gray-100 text-sm`,children:T(e.createdBy)}),(0,j.jsx)(`span`,{className:`text-xs text-gray-500 dark:text-gray-400`,children:e.createdAt?.toDate?new Date(e.createdAt.toDate()).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,hour:`numeric`,minute:`2-digit`}):`Just now`})]}),e.createdBy===_.uid&&(0,j.jsx)(`button`,{onClick:()=>ee(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]}),(0,j.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300`,children:e.message})]},e.id))}),(0,j.jsx)(`form`,{onSubmit:w,className:`p-6 border-t border-gray-200 dark:border-gray-700`,children:(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`input`,{type:`text`,value:f,onChange:e=>p(e.target.value),placeholder:`Share your thoughts...`,className:`input flex-1`,required:!0}),(0,j.jsxs)(`button`,{type:`submit`,className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(vP,{className:`w-5 h-5`}),`Send`]})]})})]})})]})}var VP=[`Not Started`,`Watching`,`Finished`],HP=[`Show`,`Movie`],UP=[`Netflix`,`Hulu`,`Prime Video`,`Disney+`,`HBO Max`,`Apple TV+`,`Other`];function WP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)(`all`),{coupleCode:u}=zN(),[d,f]=(0,x.useState)({title:``,type:`Show`,platform:`Netflix`,status:`Not Started`,notes:``,rating:0});(0,x.useEffect)(()=>{if(u)return KM(u,t)},[u]);let p=async e=>{e.preventDefault(),i?(await JM(i,d),a(null)):await qM(u,d),f({title:``,type:`Show`,platform:`Netflix`,status:`Not Started`,notes:``,rating:0}),r(!1)},m=e=>{f({title:e.title,type:e.type||`Show`,platform:e.platform,status:e.status,notes:e.notes||``,rating:e.rating||0}),a(e.id),r(!0)},h=async e=>{window.confirm(`Are you sure you want to delete this show?`)&&await YM(e)},g=e.filter(e=>!(o!==`all`&&e.status!==o||c!==`all`&&(e.type||`Show`)!==c)),_=e=>{switch(e){case`Not Started`:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`;case`Watching`:return`bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300`;case`Finished`:return`bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300`;default:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`}};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100`,children:`Shows & Movies `}),(0,j.jsxs)(`button`,{onClick:()=>{r(!n),a(null),f({title:``,type:`Show`,platform:`Netflix`,status:`Not Started`,notes:``,rating:0})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),n?`Cancel`:`Add Title`]})]}),(0,j.jsxs)(`div`,{className:`space-y-3`,children:[(0,j.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,j.jsx)(`button`,{onClick:()=>l(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${c===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:`All Types`}),HP.map(e=>(0,j.jsxs)(`button`,{onClick:()=>l(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${c===e?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[e,`s`]},e))]}),(0,j.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,j.jsxs)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-blue-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[`All Status (`,e.length,`)`]}),VP.map(t=>(0,j.jsxs)(`button`,{onClick:()=>s(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===t?`bg-blue-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[t,` (`,e.filter(e=>e.status===t).length,`)`]},t))]})]}),n&&(0,j.jsxs)(`form`,{onSubmit:p,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:i?`Edit`:`Add New Title`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Title *`}),(0,j.jsx)(`input`,{type:`text`,value:d.title,onChange:e=>f({...d,title:e.target.value}),className:`input`,required:!0,placeholder:`Show or movie title`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Type *`}),(0,j.jsx)(`select`,{value:d.type,onChange:e=>f({...d,type:e.target.value}),className:`input`,required:!0,children:HP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Platform *`}),(0,j.jsx)(`select`,{value:d.platform,onChange:e=>f({...d,platform:e.target.value}),className:`input`,required:!0,children:UP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Status *`}),(0,j.jsx)(`select`,{value:d.status,onChange:e=>f({...d,status:e.target.value}),className:`input`,required:!0,children:VP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Rating (optional)`}),(0,j.jsxs)(`div`,{className:`flex gap-2 items-center`,children:[[1,2,3,4,5].map(e=>(0,j.jsx)(`button`,{type:`button`,onClick:()=>f({...d,rating:e}),className:`transition-colors`,children:(0,j.jsx)(SP,{className:`w-8 h-8 ${e<=d.rating?`fill-yellow-400 text-yellow-400`:`text-gray-300 dark:text-gray-600`}`})},e)),d.rating>0&&(0,j.jsx)(`button`,{type:`button`,onClick:()=>f({...d,rating:0}),className:`text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 ml-2`,children:`Clear`})]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Notes`}),(0,j.jsx)(`textarea`,{value:d.notes,onChange:e=>f({...d,notes:e.target.value}),className:`input`,rows:3,placeholder:`Your thoughts...`})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update`:`Add`})]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:g.length===0?(0,j.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,j.jsx)(DP,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400`,children:`No shows or movies yet. Add your first one! `})]}):g.map(e=>(0,j.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(e.type||`Show`)===`Movie`?(0,j.jsx)(rP,{className:`w-8 h-8 text-purple-400`}):(0,j.jsx)(DP,{className:`w-8 h-8 text-green-400`}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>m(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>h(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]})]}),(0,j.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 dark:text-gray-100 mb-1 flex items-center gap-2`,children:[e.title,(0,j.jsxs)(`span`,{className:`text-xs font-bold px-2 py-1 rounded ${(e.type||`Show`)===`Movie`?`bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300`:`bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300`}`,children:[(e.type||`Show`)===`Movie`?(0,j.jsx)(rP,{className:`w-3 h-3 inline mr-1`}):(0,j.jsx)(DP,{className:`w-3 h-3 inline mr-1`}),e.type||`Show`]})]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm mb-3`,children:e.platform}),(0,j.jsxs)(`div`,{className:`flex items-center gap-3 flex-wrap`,children:[(0,j.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${_(e.status)}`,children:e.status}),e.rating>0&&(0,j.jsx)(`div`,{className:`flex items-center gap-1`,children:[...Array(e.rating)].map((e,t)=>(0,j.jsx)(SP,{className:`w-4 h-4 fill-yellow-400 text-yellow-400`},t))})]}),e.notes&&(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm mt-3 pt-3 border-t border-gray-100 dark:border-gray-600`,children:e.notes})]},e.id))})]})}function GP(){let{coupleCode:e}=zN(),[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(null),[s,c]=(0,x.useState)({destination:``,estimatedDate:``,notes:``});(0,x.useEffect)(()=>{if(e)return XM(e,n)},[e]);let l=async t=>{t.preventDefault(),a?(await QM(a,s),o(null)):await ZM(e,s),c({destination:``,estimatedDate:``,notes:``}),i(!1)},u=e=>{c({destination:e.destination,estimatedDate:e.estimatedDate||``,notes:e.notes||``}),o(e.id),i(!0)},d=async e=>{window.confirm(`Are you sure you want to delete this trip?`)&&await $M(e)},f=t;return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Future Trips `}),(0,j.jsxs)(`button`,{onClick:()=>{i(!r),o(null),c({destination:``,estimatedDate:``,notes:``})},className:`btn-primary inline-flex items-center gap-2`,children:[r?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),r?`Cancel`:`Add Trip`]})]}),r&&(0,j.jsxs)(`form`,{onSubmit:l,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:a?`Edit Trip`:`Plan New Trip`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Destination *`}),(0,j.jsx)(`input`,{type:`text`,value:s.destination,onChange:e=>c({...s,destination:e.target.value}),className:`input`,required:!0,placeholder:`Where are we going?`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Estimated Date`}),(0,j.jsx)(`input`,{type:`date`,value:s.estimatedDate,onChange:e=>c({...s,estimatedDate:e.target.value}),className:`input`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Notes`}),(0,j.jsx)(`textarea`,{value:s.notes,onChange:e=>c({...s,notes:e.target.value}),className:`input`,rows:3,placeholder:`Details, plans, or anything else...`})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:a?`Update Trip`:`Add Trip`})]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.length===0?(0,j.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,j.jsx)(hP,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500`,children:`No future trips yet. Start planning your next adventure! `})]}):f.map(e=>(0,j.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,j.jsx)(hP,{className:`w-8 h-8 text-pink-400`}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>u(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>d(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]})]}),(0,j.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-3`,children:e.destination}),(0,j.jsxs)(`div`,{className:`space-y-2`,children:[e.estimatedDate&&(0,j.jsxs)(`p`,{className:`text-gray-600 text-sm`,children:[` `,new Date(e.estimatedDate).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`})]}),e.notes&&(0,j.jsx)(`p`,{className:`text-gray-600 text-sm mt-3 pt-3 border-t border-gray-100`,children:e.notes})]})]},e.id))})]})}function KP(){let{coupleCode:e}=zN(),[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(null),[s,c]=(0,x.useState)({destination:``,why:``,pictureUrl:``});(0,x.useEffect)(()=>{if(e)return eN(e,n)},[e]);let l=async t=>{t.preventDefault(),a?(await nN(a,s),o(null)):await tN(e,s),c({destination:``,why:``,pictureUrl:``}),i(!1)},u=e=>{c({destination:e.destination,why:e.why||``,pictureUrl:e.pictureUrl||``}),o(e.id),i(!0)},d=async e=>{window.confirm(`Are you sure you want to delete this dream trip?`)&&await rN(e)},f=async t=>{if(window.confirm(`Transfer "${t.destination}" to Future Trips?`))try{await ZM(e,{destination:t.destination,estimatedDate:``,notes:t.why||``}),await rN(t.id)}catch(e){console.error(`Error transferring trip:`,e),alert(`Failed to transfer trip`)}};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Dream Trips `}),(0,j.jsxs)(`button`,{onClick:()=>{i(!r),o(null),c({destination:``,why:``,pictureUrl:``})},className:`btn-primary inline-flex items-center gap-2`,children:[r?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),r?`Cancel`:`Add Dream`]})]}),(0,j.jsx)(`p`,{className:`text-gray-600 text-center`,children:`Our bucket list of places we dream of visiting together someday `}),r&&(0,j.jsxs)(`form`,{onSubmit:l,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:a?`Edit Dream Trip`:`Add Dream Trip`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Destination *`}),(0,j.jsx)(`input`,{type:`text`,value:s.destination,onChange:e=>c({...s,destination:e.target.value}),className:`input`,required:!0,placeholder:`Where do we dream of going?`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Why?`}),(0,j.jsx)(`textarea`,{value:s.why,onChange:e=>c({...s,why:e.target.value}),className:`input`,rows:3,placeholder:`Why is this place special to us?`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Picture URL`}),(0,j.jsx)(`input`,{type:`url`,value:s.pictureUrl,onChange:e=>c({...s,pictureUrl:e.target.value}),className:`input`,placeholder:`https://example.com/image.jpg (optional)`})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:a?`Update Dream`:`Add Dream`})]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:t.length===0?(0,j.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,j.jsx)(xP,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500`,children:`No dream trips yet. Add your first bucket list destination! `})]}):t.map(e=>(0,j.jsxs)(`div`,{className:`card hover:shadow-2xl transition-all overflow-hidden p-0`,children:[e.pictureUrl&&(0,j.jsx)(`div`,{className:`w-full h-48 bg-gray-200 overflow-hidden`,children:(0,j.jsx)(`img`,{src:e.pictureUrl,alt:e.destination,className:`w-full h-full object-cover hover:scale-110 transition-transform duration-300`,onError:e=>{e.target.style.display=`none`}})}),(0,j.jsxs)(`div`,{className:`p-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,j.jsx)(xP,{className:`w-8 h-8 text-green-400`}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>f(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-green-100 hover:text-green-600 transition-colors`,title:`Transfer to Future Trips`,children:(0,j.jsx)(GN,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>u(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-4 h-4`})}),(0,j.jsx)(`button`,{onClick:()=>d(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]})]}),(0,j.jsx)(`h3`,{className:`text-xl font-bold text-gray-800 mb-3`,children:e.destination}),e.why&&(0,j.jsx)(`p`,{className:`text-gray-600 text-sm leading-relaxed`,children:e.why})]})]},e.id))})]})}var qP=`modulepreload`,JP=function(e){return`/LDR/`+e},YP={};const XP=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=JP(t,n),t in YP)return;YP[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:qP,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};function ZP(){let[e,t]=(0,x.useState)(!1),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)(`romantic`),{coupleCode:f,hasCouple:p,refreshCoupleCode:m}=zN(),{currentUser:h}=jN(),g=Ye(),_=window.location.origin,v=o?`${_}?invite=${o}`:``,y=u===`romantic`?`partner`:`friend`,b=o?`Hey! Join me on our ${u===`romantic`?`LDR app`:`shared space`}!\n\nClick this link: ${v}\n\nOr use invite code: ${o}\n\nSign up at: ${_}`:``;(0,x.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get(`invite`);e&&l(e)},[]);let S=async()=>{r(!0),a(``);try{s((await PM(h.uid,h.email)).inviteCode),await m(),setTimeout(()=>g(`/`),500)}catch(e){console.error(`Error creating couple:`,e),a(e.message||`Failed to create couple`)}finally{r(!1)}},C=async e=>{e.preventDefault(),r(!0),a(``);try{await FM(c,h.uid),await m(),l(``),setTimeout(()=>g(`/`),500)}catch(e){console.error(`Error joining couple:`,e),a(e.message||`Failed to join couple`)}finally{r(!1)}},w=e=>{navigator.clipboard.writeText(e),t(!0),setTimeout(()=>t(!1),2e3)};return p?(0,j.jsxs)(`div`,{className:`max-w-2xl mx-auto space-y-6`,children:[(0,j.jsxs)(`div`,{className:`text-center`,children:[(0,j.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,j.jsx)(aP,{className:`w-16 h-16 text-pink-400 fill-pink-400 animate-pulse`})}),(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2`,children:`Invite Someone`}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300`,children:`Share your invite code so they can join your private space!`})]}),i&&(0,j.jsx)(`div`,{className:`card bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800`,children:(0,j.jsx)(`p`,{className:`text-red-700 dark:text-red-300`,children:i})}),!o&&(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-100 to-green-100 dark:from-pink-900/30 dark:to-green-900/30 border-2 border-pink-300 dark:border-pink-700`,children:[(0,j.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300 mb-4`,children:`Generate an invite link to share`}),(0,j.jsxs)(`button`,{onClick:async()=>{r(!0),a(``);try{let{getCoupleDetails:e}=await XP(async()=>{let{getCoupleDetails:e}=await import(`./coupleService-DmH_xp-F.js`);return{getCoupleDetails:e}},[]),t=await e(f);if(t?.inviteCode)s(t.inviteCode);else{let e=Math.random().toString(36).substring(2,15);s(e);let{doc:t,updateDoc:n}=await XP(async()=>{let{doc:e,updateDoc:t}=await import(`./index.esm-DJlaoXSq.js`);return{doc:e,updateDoc:t}},[]),{db:r}=await XP(async()=>{let{db:e}=await import(`./firebase-Cf8nu285.js`);return{db:e}},[]);await n(t(r,`couples`,f),{inviteCode:e})}}catch(e){console.error(`Error fetching invite code:`,e),a(`Failed to get invite code`)}finally{r(!1)}},disabled:n,className:`btn-primary w-full inline-flex items-center justify-center gap-2`,children:[(0,j.jsx)(sP,{className:`w-5 h-5`}),n?`Loading...`:`Get Invite Code`]})]}),o&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-100 to-green-100 dark:from-pink-900/30 dark:to-green-900/30 border-2 border-pink-300 dark:border-pink-700`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,j.jsx)(sP,{className:`w-7 h-7 text-pink-600 dark:text-pink-400`}),(0,j.jsx)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100`,children:`Your Invite Code`})]}),(0,j.jsx)(`div`,{className:`bg-white dark:bg-gray-800 rounded-xl p-6 mb-4 text-center border-2 border-pink-200 dark:border-pink-800`,children:(0,j.jsx)(`p`,{className:`text-4xl font-bold font-mono tracking-wider text-pink-600 dark:text-pink-400`,children:o})}),(0,j.jsx)(`button`,{onClick:()=>w(o),className:`btn-primary w-full inline-flex items-center justify-center gap-2`,children:e?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(QN,{className:`w-5 h-5`}),`Copied!`]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(tP,{className:`w-5 h-5`}),`Copy Code`]})})]}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,j.jsx)(cP,{className:`w-6 h-6 text-green-500`}),(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:`Invite Link`})]}),(0,j.jsx)(`div`,{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4`,children:(0,j.jsx)(`p`,{className:`text-sm text-gray-700 dark:text-gray-300 break-all`,children:v})}),(0,j.jsxs)(`button`,{onClick:()=>w(v),className:`btn-secondary w-full inline-flex items-center justify-center gap-2`,children:[(0,j.jsx)(tP,{className:`w-5 h-5`}),`Copy Link`]})]}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,j.jsx)(uP,{className:`w-6 h-6 text-green-500`}),(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:`Send Invite Message`})]}),(0,j.jsx)(`div`,{className:`bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4`,children:(0,j.jsx)(`p`,{className:`text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line`,children:b})}),(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsxs)(`button`,{onClick:()=>w(b),className:`btn-secondary flex-1 inline-flex items-center justify-center gap-2`,children:[(0,j.jsx)(tP,{className:`w-5 h-5`}),`Copy Message`]}),(0,j.jsxs)(`button`,{onClick:()=>{let e=encodeURIComponent(b);window.location.href=`mailto:?subject=Join%20me%20on%20our%20LDR%20app!&body=${e}`},className:`btn-primary flex-1 inline-flex items-center justify-center gap-2`,children:[(0,j.jsx)(uP,{className:`w-5 h-5`}),`Email Invite`]})]})]}),(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700 border-2 border-pink-200 dark:border-pink-800`,children:[(0,j.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3`,children:`How it works:`}),(0,j.jsxs)(`ol`,{className:`space-y-2 text-gray-700 dark:text-gray-300`,children:[(0,j.jsxs)(`li`,{className:`flex gap-2`,children:[(0,j.jsx)(`span`,{className:`font-semibold text-pink-500`,children:`1.`}),(0,j.jsx)(`span`,{children:`Share the invite link or code`})]}),(0,j.jsxs)(`li`,{className:`flex gap-2`,children:[(0,j.jsx)(`span`,{className:`font-semibold text-green-500`,children:`2.`}),(0,j.jsxs)(`span`,{children:[`They create an account at `,_]})]}),(0,j.jsxs)(`li`,{className:`flex gap-2`,children:[(0,j.jsx)(`span`,{className:`font-semibold text-pink-500`,children:`3.`}),(0,j.jsx)(`span`,{children:`They enter your invite code to join your space`})]}),(0,j.jsxs)(`li`,{className:`flex gap-2`,children:[(0,j.jsx)(`span`,{className:`font-semibold text-green-500`,children:`4.`}),(0,j.jsx)(`span`,{children:`You'll both see the same shared content - completely private to just you two!`})]})]})]}),(0,j.jsx)(`div`,{className:`card bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800`,children:(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsx)(`div`,{className:`text-blue-600 dark:text-blue-400`,children:``}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`h4`,{className:`font-semibold text-gray-800 dark:text-gray-100 mb-1`,children:`Your Data is Private`}),(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-300`,children:`Only people with your invite code can join your space. Each pair has completely separate data. Keep your code safe and only share it with the person you want to connect with!`})]})]})})]})]}):(0,j.jsxs)(`div`,{className:`max-w-2xl mx-auto space-y-6`,children:[(0,j.jsxs)(`div`,{className:`text-center`,children:[(0,j.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,j.jsx)(aP,{className:`w-16 h-16 text-pink-400 fill-pink-400 animate-pulse`})}),(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2`,children:`Welcome to Your Shared Space`}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300`,children:`Create a space to share with your partner or friend`})]}),i&&(0,j.jsx)(`div`,{className:`card bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800`,children:(0,j.jsx)(`p`,{className:`text-red-700 dark:text-red-300`,children:i})}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsx)(`h2`,{className:`text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`What type of relationship is this?`}),(0,j.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,j.jsxs)(`button`,{onClick:()=>d(`romantic`),className:`p-4 rounded-xl border-2 transition-all ${u===`romantic`?`border-pink-500 bg-pink-50 dark:bg-pink-900/20`:`border-gray-300 dark:border-gray-600 hover:border-pink-300`}`,children:[(0,j.jsx)(`div`,{className:`text-4xl mb-2`,children:``}),(0,j.jsx)(`div`,{className:`font-semibold text-gray-800 dark:text-gray-100`,children:`Romantic`}),(0,j.jsx)(`div`,{className:`text-sm text-gray-600 dark:text-gray-400`,children:`For couples`})]}),(0,j.jsxs)(`button`,{onClick:()=>d(`platonic`),className:`p-4 rounded-xl border-2 transition-all ${u===`platonic`?`border-green-500 bg-green-50 dark:bg-green-900/20`:`border-gray-300 dark:border-gray-600 hover:border-green-300`}`,children:[(0,j.jsx)(`div`,{className:`text-4xl mb-2`,children:``}),(0,j.jsx)(`div`,{className:`font-semibold text-gray-800 dark:text-gray-100`,children:`Platonic`}),(0,j.jsx)(`div`,{className:`text-sm text-gray-600 dark:text-gray-400`,children:`For friends`})]})]})]}),(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-100 to-green-100 dark:from-pink-900/30 dark:to-green-900/30 border-2 border-pink-300 dark:border-pink-700`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,j.jsx)(AP,{className:`w-7 h-7 text-pink-600 dark:text-pink-400`}),(0,j.jsx)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100`,children:`Create a Shared Space`})]}),(0,j.jsxs)(`p`,{className:`text-gray-700 dark:text-gray-300 mb-4`,children:[`Start a new private space for you and your `,y,`. You'll get an invite code to share with them.`]}),(0,j.jsxs)(`button`,{onClick:S,disabled:n,className:`btn-primary w-full inline-flex items-center justify-center gap-2`,children:[(0,j.jsx)(OP,{className:`w-5 h-5`}),n?`Creating...`:`Create Shared Space`]})]}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,j.jsx)(sP,{className:`w-6 h-6 text-green-500`}),(0,j.jsxs)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:[`Join `,u===`romantic`?`Partner's`:`Friend's`,` Space`]})]}),(0,j.jsxs)(`p`,{className:`text-gray-700 dark:text-gray-300 mb-4`,children:[`Have an invite code from your `,y,`? Enter it below to join their space.`]}),(0,j.jsxs)(`form`,{onSubmit:C,className:`space-y-3`,children:[(0,j.jsx)(`input`,{type:`text`,value:c,onChange:e=>l(e.target.value.toUpperCase()),placeholder:`Enter invite code`,className:`input w-full font-mono text-center text-lg`,required:!0}),(0,j.jsx)(`button`,{type:`submit`,disabled:n||!c,className:`btn-primary w-full`,children:n?`Joining...`:`Join Shared Space`})]})]})]})}var QP=[`Anniversary`,`Birthday`,`First Date`,`Trip`,`Milestone`,`Other`];function $P(){let{coupleCode:e}=zN(),[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(null),[s,c]=(0,x.useState)({title:``,date:``,category:`Anniversary`,notes:``});(0,x.useEffect)(()=>{if(e)return iN(e,n)},[e]);let l=async t=>{t.preventDefault(),a?(await oN(a,s),o(null)):await aN(e,s),c({title:``,date:``,category:`Anniversary`,notes:``}),i(!1)},u=e=>{c({title:e.title,date:e.date,category:e.category,notes:e.notes||``}),o(e.id),i(!0)},d=async e=>{window.confirm(`Are you sure you want to delete this special date?`)&&await sN(e)},f=e=>{let t={Anniversary:`bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-300`,Birthday:`bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300`,"First Date":`bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300`,Trip:`bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300`,Milestone:`bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300`,Other:`bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-200`};return t[e]||t.Other},p=[...t].sort((e,t)=>new Date(e.date)-new Date(t.date)),m=e=>{let t=new Date,n=new Date(e+`T00:00:00`)-t,r=Math.ceil(n/(1e3*60*60*24));return r<0?`${Math.abs(r)} days ago`:r===0?`Today! `:r===1?`Tomorrow`:`In ${r} days`};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100`,children:`Special Dates `}),(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400 mt-1`,children:`Track your important moments together`})]}),(0,j.jsxs)(`button`,{onClick:()=>{i(!r),r&&(o(null),c({title:``,date:``,category:`Anniversary`,notes:``}))},className:`btn-primary inline-flex items-center gap-2 shadow-lg hover:shadow-xl transition-shadow`,children:[r?(0,j.jsx)(jP,{className:`w-5 h-5`}):(0,j.jsx)(gP,{className:`w-5 h-5`}),r?`Cancel`:`Add Date`]})]}),r&&(0,j.jsx)(`div`,{className:`card dark:bg-gray-800 border-2 border-pink-200 dark:border-pink-700 shadow-lg`,children:(0,j.jsxs)(`form`,{onSubmit:l,className:`space-y-4`,children:[(0,j.jsxs)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2`,children:[(0,j.jsx)(XN,{className:`w-5 h-5 text-pink-500`}),a?`Edit Special Date`:`Add Special Date`]}),(0,j.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Title *`}),(0,j.jsx)(`input`,{type:`text`,value:s.title,onChange:e=>c({...s,title:e.target.value}),className:`input`,required:!0,placeholder:`e.g., Our First Date`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Date *`}),(0,j.jsx)(`input`,{type:`date`,value:s.date,onChange:e=>c({...s,date:e.target.value}),className:`input`,required:!0})]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Category *`}),(0,j.jsx)(`select`,{value:s.category,onChange:e=>c({...s,category:e.target.value}),className:`input`,required:!0,children:QP.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Notes`}),(0,j.jsx)(`textarea`,{value:s.notes,onChange:e=>c({...s,notes:e.target.value}),className:`input`,rows:3,placeholder:`Add a special memory or note...`})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:a?`Update Date`:`Add Date`})]})}),(0,j.jsx)(`div`,{className:`space-y-4`,children:p.length===0?(0,j.jsxs)(`div`,{className:`card text-center py-12 dark:bg-gray-800`,children:[(0,j.jsx)(aP,{className:`w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-lg`,children:`No special dates yet.`}),(0,j.jsx)(`p`,{className:`text-gray-400 dark:text-gray-500 text-sm mt-2`,children:`Click "Add Date" to create your first one!`})]}):p.map(e=>{let t=new Date(e.date)<new Date;return(0,j.jsx)(`div`,{className:`card dark:bg-gray-800 hover:shadow-lg transition-shadow ${t?``:`border-l-4 border-pink-400 dark:border-pink-600`}`,children:(0,j.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-2 flex-wrap`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:e.title}),(0,j.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${f(e.category)}`,children:e.category})]}),(0,j.jsxs)(`div`,{className:`space-y-2`,children:[(0,j.jsxs)(`p`,{className:`text-gray-700 dark:text-gray-200 font-medium flex items-center gap-2`,children:[(0,j.jsx)(XN,{className:`w-4 h-4`}),new Date(e.date+`T00:00:00`).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`})]}),(0,j.jsx)(`p`,{className:`text-sm font-semibold ${t?`text-gray-500 dark:text-gray-400`:`text-pink-600 dark:text-pink-400`}`,children:m(e.date)}),e.notes&&(0,j.jsxs)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm mt-2 pt-2 border-t border-gray-200 dark:border-gray-600 italic`,children:[`"`,e.notes,`"`]})]})]}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>u(e),className:`p-2 rounded-lg bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors`,title:`Edit`,children:(0,j.jsx)(mP,{className:`w-5 h-5`})}),(0,j.jsx)(`button`,{onClick:()=>d(e.id),className:`p-2 rounded-lg bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-5 h-5`})})]})]})},e.id)})})]})}function eF(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)({}),[c,l]=(0,x.useState)(null),{currentUser:u}=jN(),{coupleCode:d}=zN(),f=[``,``,``,``,``,``,``];(0,x.useEffect)(()=>{if(d)return cN(d,e=>{t(e.sort((e,t)=>t.createdAt-e.createdAt))})},[d]),(0,x.useEffect)(()=>{if(d)return SN(d,e=>{s(e)})},[d]);let p=()=>Object.values(o).find(e=>e.email!==u.email)?.name||`Partner`,m=async e=>{e.preventDefault(),i.trim()&&(await lN(d,{message:i,from:u.email,createdAt:Date.now()}),a(``),r(!1))},h=async e=>{window.confirm(`Delete this gratitude post?`)&&await uN(e)},g=async(e,t)=>{await kN(`gratitudes`,e,u.uid,t),l(null)},_=(e={})=>{let t={};return Object.values(e).forEach(e=>{t[e]=(t[e]||0)+1}),t},v=e=>{let t=[`from-pink-200/20 to-pink-300/20 dark:from-pink-900/40 dark:to-pink-800/40 border-pink-300 dark:border-pink-700`,`from-green-200/20 to-green-300/20 dark:from-green-900/40 dark:to-green-800/40 border-green-300 dark:border-green-700`,`from-pink-200/20 to-green-200/20 dark:from-pink-900/40 dark:to-green-900/40 border-pink-300 dark:border-green-700`,`from-emerald-200/20 to-pink-200/20 dark:from-emerald-900/40 dark:to-pink-900/40 border-emerald-300 dark:border-pink-700`];return t[e%t.length]};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)(xP,{className:`w-8 h-8 text-pink-500`}),`Gratitude Wall`]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Things we appreciate about each other`})]}),(0,j.jsxs)(`button`,{onClick:()=>r(!n),className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(gP,{className:`w-5 h-5`}),`Add Gratitude`]})]}),n&&(0,j.jsxs)(`form`,{onSubmit:m,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,j.jsxs)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(aP,{className:`w-5 h-5 text-pink-500 fill-pink-500`}),`What are you grateful for today?`]}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsx)(`textarea`,{value:i,onChange:e=>a(e.target.value),className:`input min-h-[120px] resize-y`,placeholder:`I'm grateful for...`,required:!0,autoFocus:!0}),(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:`Post`}),(0,j.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a(``)},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,j.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,j.jsx)(xP,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No gratitude posts yet`}),(0,j.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Start appreciating each other!`})]}):(0,j.jsx)(`div`,{className:`grid gap-4 sm:grid-cols-2 lg:grid-cols-3`,children:e.map((e,t)=>{let n=v(t);return n.split(` `).find(e=>e.includes(`border-`)),(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br ${n} border-2 hover:shadow-lg transition-all hover:-translate-y-1 relative`,children:[(0,j.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,j.jsx)(aP,{className:`w-5 h-5 ${e.from===u.email?`text-green-500 fill-green-500`:`text-pink-500 fill-pink-500`}`}),(0,j.jsx)(`span`,{className:`text-sm font-medium text-gray-700 dark:text-gray-300`,children:e.from===u.email?`You`:p()})]}),(0,j.jsx)(`button`,{onClick:()=>h(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})})]}),(0,j.jsx)(`p`,{className:`text-gray-800 dark:text-gray-100 mb-3 leading-relaxed`,children:e.message}),(0,j.jsx)(`div`,{className:`text-xs text-gray-500 dark:text-gray-400 mb-10`,children:new Date(e.createdAt).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,year:`numeric`,hour:`numeric`,minute:`2-digit`})}),(0,j.jsxs)(`div`,{className:`absolute bottom-3 right-3 flex items-center gap-2`,children:[Object.keys(_(e.reactions)).length>0&&(0,j.jsx)(`div`,{className:`flex items-center gap-1 flex-wrap`,children:Object.entries(_(e.reactions)).map(([t,n])=>(0,j.jsx)(`button`,{onClick:()=>g(e.id,t),className:`text-sm px-2 py-1 rounded-full border transition-all ${e.reactions?.[u.uid]===t?`bg-pink-100 dark:bg-pink-900 border-pink-300 dark:border-pink-700 scale-110 font-semibold`:`bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:scale-105`}`,children:t},t))}),(0,j.jsxs)(`div`,{className:`relative`,children:[(0,j.jsx)(`button`,{onClick:()=>l(c===e.id?null:e.id),className:`bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-full p-1.5 transition-all hover:scale-110 shadow-md`,title:`Add reaction`,children:(0,j.jsx)(bP,{className:`w-4 h-4 text-gray-600 dark:text-gray-300`})}),c===e.id&&(0,j.jsx)(`div`,{className:`absolute bottom-full right-0 mb-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border-2 border-gray-300 dark:border-gray-700 p-2 flex gap-1.5 z-10`,children:f.map(t=>(0,j.jsx)(`button`,{onClick:()=>g(e.id,t),className:`text-lg hover:scale-125 transition-transform p-1`,children:t},t))})]})]})]},e.id)})})]})}function tF(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(``),{coupleCode:c}=zN(),[l,u]=(0,x.useState)({title:``,description:``,date:``,category:`First`,frogSticker:``}),d=[``,``,``,``,``,``],f=[`First`,`Anniversary`,`Trip`,`Achievement`,`Other`];(0,x.useEffect)(()=>{if(c)return dN(c,e=>{t(e)})},[c]),(0,x.useEffect)(()=>{if(c)return IM(c,e=>{s(e.relationshipStart||``)})},[c]);let p=(()=>{if(!o)return null;let e=new Date(o),t=new Date,n=Math.abs(t-e),r=Math.floor(n/(1e3*60*60*24));return{years:Math.floor(r/365),months:Math.floor(r%365/30),days:r%30,totalDays:r}})(),m=async e=>{e.preventDefault(),i?(await pN(i,l),a(null)):await fN(c,{...l,createdAt:Date.now()}),u({title:``,description:``,date:``,category:`First`}),r(!1)},h=e=>{u({title:e.title,description:e.description,date:e.date,category:e.category,frogSticker:e.frogSticker||``}),a(e.id),r(!0)},g=async e=>{window.confirm(`Delete this milestone?`)&&await mN(e)},_=e=>{switch(e){case`Anniversary`:return(0,j.jsx)(aP,{className:`w-5 h-5`});case`Trip`:return(0,j.jsx)(xP,{className:`w-5 h-5`});case`Achievement`:return(0,j.jsx)(KN,{className:`w-5 h-5`});default:return(0,j.jsx)(XN,{className:`w-5 h-5`})}},v=e=>{switch(e){case`Anniversary`:return`from-pink-400 to-pink-500`;case`Trip`:return`from-green-400 to-emerald-500`;case`Achievement`:return`from-yellow-400 to-orange-500`;case`First`:return`from-purple-400 to-pink-500`;default:return`from-gray-400 to-gray-500`}};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)(KN,{className:`w-8 h-8 text-pink-500`}),`Milestones`]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Track your relationship journey`})]}),(0,j.jsxs)(`button`,{onClick:()=>{r(!n),a(null),u({title:``,description:``,date:``,category:`First`,frogSticker:``})},className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(gP,{className:`w-5 h-5`}),`Add Milestone`]})]}),p&&(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-500 to-green-500 text-white`,children:[(0,j.jsx)(`h2`,{className:`text-2xl font-bold mb-4 text-center`,children:`Together For`}),(0,j.jsxs)(`div`,{className:`grid grid-cols-3 gap-4 text-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`div`,{className:`text-4xl font-bold`,children:p.years}),(0,j.jsx)(`div`,{className:`text-sm opacity-90`,children:`Years`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`div`,{className:`text-4xl font-bold`,children:p.months}),(0,j.jsx)(`div`,{className:`text-sm opacity-90`,children:`Months`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`div`,{className:`text-4xl font-bold`,children:p.days}),(0,j.jsx)(`div`,{className:`text-sm opacity-90`,children:`Days`})]})]}),(0,j.jsxs)(`div`,{className:`mt-4 text-center text-sm opacity-90`,children:[p.totalDays.toLocaleString(),` days total`]})]}),n&&(0,j.jsxs)(`form`,{onSubmit:m,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4`,children:i?`Edit Milestone`:`New Milestone`}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Title`}),(0,j.jsx)(`input`,{type:`text`,value:l.title,onChange:e=>u({...l,title:e.target.value}),className:`input`,placeholder:`Our first date`,required:!0})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Description (optional)`}),(0,j.jsx)(`textarea`,{value:l.description,onChange:e=>u({...l,description:e.target.value}),className:`input min-h-[80px]`,placeholder:`Tell the story...`})]}),(0,j.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Date`}),(0,j.jsx)(`input`,{type:`date`,value:l.date,onChange:e=>u({...l,date:e.target.value}),className:`input`,required:!0})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Category`}),(0,j.jsx)(`select`,{value:l.category,onChange:e=>u({...l,category:e.target.value}),className:`input`,children:f.map(e=>(0,j.jsx)(`option`,{value:e,children:e},e))})]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Frog Sticker (optional)`}),(0,j.jsx)(`div`,{className:`flex gap-2 flex-wrap`,children:d.map((e,t)=>(0,j.jsx)(`button`,{type:`button`,onClick:()=>u({...l,frogSticker:e}),className:`w-12 h-12 rounded-lg border-2 transition-all ${l.frogSticker===e?`border-pink-500 bg-pink-50 dark:bg-pink-900/20 scale-110`:`border-gray-200 dark:border-gray-600 hover:border-pink-300`}`,children:(0,j.jsx)(`span`,{className:`text-2xl`,children:e||``})},t))})]}),(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:i?`Update`:`Add`}),(0,j.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a(null),u({title:``,description:``,date:``,category:`First`})},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,j.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,j.jsx)(KN,{className:`w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-lg`,children:`No milestones yet`}),(0,j.jsx)(`p`,{className:`text-gray-400 dark:text-gray-500 mt-2`,children:`Start tracking your special moments!`})]}):(0,j.jsx)(`div`,{className:`space-y-4`,children:e.map(e=>(0,j.jsx)(`div`,{className:`card bg-white dark:bg-gray-800 hover:shadow-lg dark:hover:shadow-pink-500/10 transition-shadow`,children:(0,j.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,j.jsxs)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${v(e.category)} flex items-center justify-center text-white flex-shrink-0 relative`,children:[_(e.category),e.frogSticker&&(0,j.jsx)(`span`,{className:`absolute -top-1 -right-1 text-lg`,children:e.frogSticker})]}),(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`div`,{className:`flex items-start justify-between mb-2`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:e.title}),(0,j.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-1`,children:[(0,j.jsx)(XN,{className:`w-4 h-4`}),new Date(e.date).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`}),(0,j.jsx)(`span`,{className:`text-gray-400 dark:text-gray-500`,children:``}),(0,j.jsx)(`span`,{className:`px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded text-xs font-medium`,children:e.category})]})]}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:()=>h(e),className:`text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors`,children:(0,j.jsx)(mP,{className:`w-5 h-5`})}),(0,j.jsx)(`button`,{onClick:()=>g(e.id),className:`text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors`,children:(0,j.jsx)(TP,{className:`w-5 h-5`})})]})]}),e.description&&(0,j.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300 leading-relaxed`,children:e.description})]})]})},e.id))})]})}function nF(){let{coupleCode:e}=zN(),[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(``),[s,c]=(0,x.useState)(!1),[l,u]=(0,x.useState)({}),[d,f]=(0,x.useState)(!1),{currentUser:p}=jN();console.log(`DailyHabits - coupleCode:`,e,`currentUser:`,p?.email),(0,x.useEffect)(()=>{if(console.log(`DailyHabits habits useEffect - coupleCode:`,e),e)return hN(e,e=>{console.log(`Received daily habits:`,e),n(e)})},[e]),(0,x.useEffect)(()=>{if(console.log(`DailyHabits profiles useEffect - coupleCode:`,e),e)return SN(e,e=>{console.log(`Received user profiles:`,e),u(e)})},[e]);let m=()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`},h=e=>{let t=m();return(e.completions||{})[t]?.both===!0},g=e=>{let t=m();return(e.completions||{})[t]?.[p.email]===!0},_=e=>{let t=m(),n=e.completions||{},r=Object.keys(n[t]||{}).filter(e=>e!==`both`).find(e=>e!==p.email);return r?n[t][r]===!0:!1},v=e=>{let t=Object.values(l).find(e=>e.email!==p.email)?.email;return t&&Object.values(l).find(e=>e.email===t)?.name||`Partner`},y=()=>l[p.uid]?.name||`You`,b=e=>{if(!e.completions)return 0;let t=Object.keys(e.completions).filter(t=>e.completions[t].both===!0).sort().reverse();if(t.length===0)return 0;let n=0,r=new Date;for(let e=0;e<t.length+1;e++){let i=new Date(r);i.setDate(i.getDate()-e);let a=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,`0`)}-${String(i.getDate()).padStart(2,`0`)}`;if(t.includes(a))n++;else break}return n},S=t.length>0&&t.every(e=>h(e));(0,x.useEffect)(()=>{S&&t.length>0&&(c(!0),setTimeout(()=>c(!1),5e3))},[S,t.length]);let C=async t=>{if(t.preventDefault(),a.trim()){console.log(`Adding habit with coupleCode:`,e,`habit:`,a);try{await gN(e,{habit:a,createdBy:p.email,completions:{},createdAt:Date.now()}),console.log(`Habit added successfully`),o(``),i(!1)}catch(e){console.error(`Error adding habit:`,e),alert(`Failed to add habit: `+e.message)}}},w=async e=>{console.log(`Toggling habit:`,e.id);let t=m(),n=e.completions||{},r=n[t]||{},i=!r[p.email],a={...r,[p.email]:i},o=Object.keys(a).filter(e=>e!==`both`);a.both=o.length>=2&&o.every(e=>a[e]===!0);let s={...n,[t]:a};console.log(`Updating habit with completions:`,s);try{await _N(e.id,{completions:s}),console.log(`Habit updated successfully`)}catch(e){console.error(`Error updating habit:`,e),alert(`Failed to update habit: `+e.message)}},ee=async e=>{window.confirm(`Delete this habit?`)&&await vN(e)},T=t.filter(e=>h(e)).length,te=()=>{let e=[];for(let t=6;t>=0;t--){let n=new Date;n.setDate(n.getDate()-t);let r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,`0`),a=String(n.getDate()).padStart(2,`0`);e.push({date:`${r}-${i}-${a}`,dayName:n.toLocaleDateString(`en-US`,{weekday:`short`}),dayNumber:n.getDate()})}return e},ne=()=>{if(t.length===0)return 0;let e=te(),n=t.length*7,r=0;return t.forEach(t=>{e.forEach(e=>{t.completions?.[e.date]?.both&&r++})}),n>0?Math.round(r/n*100):0},re=()=>t.length===0?0:Math.max(...t.map(e=>b(e))),ie=()=>{let e=0;return t.forEach(t=>{t.completions&&Object.keys(t.completions).forEach(n=>{t.completions[n].both&&e++})}),e},ae=e=>{let n=0;return t.forEach(t=>{t.completions?.[e]?.both&&n++}),n};return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[s&&(0,j.jsx)(`div`,{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce`,children:(0,j.jsx)(`div`,{className:`bg-gradient-to-r from-pink-500 to-green-500 text-white px-8 py-4 rounded-full shadow-2xl`,children:(0,j.jsxs)(`div`,{className:`flex items-center gap-3 text-xl font-bold`,children:[(0,j.jsx)(xP,{className:`w-6 h-6`}),`All habits completed! `,(0,j.jsx)(xP,{className:`w-6 h-6`})]})})}),(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)($N,{className:`w-8 h-8 text-pink-500`}),`Daily Habits`,t.length>0&&re()>0&&(0,j.jsxs)(`span`,{className:`text-lg bg-gradient-to-r from-orange-400 to-red-500 text-white px-3 py-1 rounded-full font-bold`,children:[` `,re(),` day`,re()===1?``:`s`]})]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Build healthy habits together`})]}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsxs)(`button`,{onClick:()=>f(!d),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${d?`bg-pink-500 text-white`:`bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700`}`,children:[(0,j.jsx)(ZN,{className:`w-5 h-5`}),`Analytics`]}),(0,j.jsxs)(`button`,{onClick:()=>i(!r),className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(gP,{className:`w-5 h-5`}),`Add Habit`]})]})]}),d&&t.length>0&&(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-4`,children:[(0,j.jsx)(`div`,{className:`card bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 border-2 border-pink-200 dark:border-pink-800`,children:(0,j.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400 mb-1`,children:`7-Day Rate`}),(0,j.jsxs)(`p`,{className:`text-3xl font-bold text-pink-600 dark:text-pink-400`,children:[ne(),`%`]})]}),(0,j.jsx)(EP,{className:`w-8 h-8 text-pink-500`})]})}),(0,j.jsx)(`div`,{className:`card bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-2 border-orange-200 dark:border-orange-800`,children:(0,j.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400 mb-1`,children:`Longest Streak`}),(0,j.jsxs)(`p`,{className:`text-3xl font-bold text-orange-600 dark:text-orange-400`,children:[re(),` `]})]}),(0,j.jsx)(xP,{className:`w-8 h-8 text-orange-500`})]})}),(0,j.jsx)(`div`,{className:`card bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-2 border-green-200 dark:border-green-800`,children:(0,j.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400 mb-1`,children:`Total Completions`}),(0,j.jsx)(`p`,{className:`text-3xl font-bold text-green-600 dark:text-green-400`,children:ie()})]}),(0,j.jsx)($N,{className:`w-8 h-8 text-green-500`})]})})]}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsxs)(`h3`,{className:`text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(XN,{className:`w-5 h-5 text-pink-500`}),`Last 7 Days`]}),(0,j.jsx)(`div`,{className:`grid grid-cols-7 gap-2`,children:te().map(e=>{let n=ae(e.date),r=t.length>0?n/t.length*100:0,i=e.date===m();return(0,j.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,j.jsx)(`div`,{className:`text-xs font-medium text-gray-600 dark:text-gray-400`,children:e.dayName}),(0,j.jsxs)(`div`,{className:`w-full aspect-square rounded-lg flex flex-col items-center justify-center transition-all ${r===100?`bg-green-500 text-white`:r>0?`bg-yellow-400 text-gray-800`:`bg-gray-100 dark:bg-gray-800 text-gray-400`} ${i?`ring-2 ring-pink-500`:``}`,children:[(0,j.jsx)(`div`,{className:`text-xs font-bold`,children:e.dayNumber}),(0,j.jsxs)(`div`,{className:`text-xs`,children:[n,`/`,t.length]})]})]},e.date)})}),(0,j.jsxs)(`div`,{className:`flex items-center justify-center gap-4 mt-4 text-xs`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,j.jsx)(`div`,{className:`w-3 h-3 rounded bg-green-500`}),(0,j.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`All done`})]}),(0,j.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,j.jsx)(`div`,{className:`w-3 h-3 rounded bg-yellow-400`}),(0,j.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`Partial`})]}),(0,j.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,j.jsx)(`div`,{className:`w-3 h-3 rounded bg-gray-100 dark:bg-gray-800`}),(0,j.jsx)(`span`,{className:`text-gray-600 dark:text-gray-400`,children:`None`})]})]})]})]}),t.length>0&&(0,j.jsxs)(`div`,{className:`card transition-all ${S?`bg-gradient-to-r from-pink-500 to-green-500 text-white`:`bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`}`,children:[(0,j.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,j.jsx)(`h2`,{className:`text-2xl font-bold ${S?`text-white`:`text-gray-800 dark:text-gray-100`}`,children:`Today's Progress`}),(0,j.jsx)(XN,{className:`w-6 h-6 ${S?`text-white`:`text-pink-500`}`})]}),(0,j.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,j.jsx)(`div`,{className:`flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-4 overflow-hidden`,children:(0,j.jsx)(`div`,{className:`h-full transition-all duration-500 ${S?`bg-white`:`bg-gradient-to-r from-pink-400 to-green-400`}`,style:{width:`${t.length>0?T/t.length*100:0}%`}})}),(0,j.jsxs)(`div`,{className:`text-2xl font-bold ${S?`text-white`:`text-gray-800 dark:text-gray-100`}`,children:[T,`/`,t.length]})]}),S&&(0,j.jsx)(`p`,{className:`text-center mt-3 text-white font-medium`,children:`Amazing work! All habits completed! `})]}),r&&(0,j.jsxs)(`form`,{onSubmit:C,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`New Daily Habit`}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsx)(`input`,{type:`text`,value:a,onChange:e=>o(e.target.value),className:`input`,placeholder:`e.g., Send a good morning text, Exercise together, Read 10 pages`,required:!0,autoFocus:!0}),(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:`Add`}),(0,j.jsx)(`button`,{type:`button`,onClick:()=>{i(!1),o(``)},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),t.length===0?(0,j.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,j.jsx)($N,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No habits yet`}),(0,j.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Add your first daily habit to get started!`})]}):(0,j.jsx)(`div`,{className:`space-y-3`,children:t.map(e=>{let t=h(e),n=g(e),r=_(e),i=b(e);return(0,j.jsx)(`div`,{className:`card transition-all ${t?`bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-300 dark:border-green-600`:`hover:shadow-lg`}`,children:(0,j.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,j.jsx)(`button`,{onClick:()=>w(e),className:`flex-shrink-0 transition-all ${n?`text-green-500 scale-110`:`text-gray-300 dark:text-gray-600 hover:text-green-400`}`,children:n?(0,j.jsx)($N,{className:`w-8 h-8`}):(0,j.jsx)(eP,{className:`w-8 h-8`})}),(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,j.jsx)(`h3`,{className:`text-lg font-medium ${t?`line-through text-gray-500 dark:text-gray-400`:`text-gray-800 dark:text-gray-100`}`,children:e.habit}),i>0&&(0,j.jsxs)(`span`,{className:`text-xs bg-gradient-to-r from-orange-400 to-red-500 text-white px-2 py-1 rounded-full font-bold`,children:[` `,i,` day`,i===1?``:`s`]})]}),(0,j.jsx)(`div`,{className:`flex items-center gap-3 mt-1`,children:(0,j.jsxs)(`div`,{className:`flex items-center gap-1 text-sm`,children:[(0,j.jsxs)(`span`,{className:n?`text-green-600 dark:text-green-400`:`text-gray-400`,children:[y(),` `,n?``:``]}),(0,j.jsx)(`span`,{className:`text-gray-400`,children:``}),(0,j.jsxs)(`span`,{className:r?`text-green-600 dark:text-green-400`:`text-gray-400`,children:[v(e),` `,r?``:``]})]})})]}),(0,j.jsx)(`button`,{onClick:()=>ee(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,j.jsx)(TP,{className:`w-5 h-5`})})]})},e.id)})})]})}const rF=async()=>{try{if(!NM)return console.log(`Messaging not supported`),null;if(await Notification.requestPermission()===`granted`){console.log(`Notification permission granted`);let e=await AM(NM,{vapidKey:`A69wF0vMYT4W0IXrUl1saXei9-qx_MF-xXZqd_voYu4`,serviceWorkerRegistration:await navigator.serviceWorker.register(`/firebase-messaging-sw.js`)});return e?(console.log(`FCM Token:`,e),e):(console.log(`No registration token available`),null)}else return console.log(`Notification permission denied`),null}catch(e){return console.error(`Error getting notification permission:`,e),null}};function iF(){let{currentUser:e,logout:t}=jN(),{coupleCode:n}=zN(),[r,i]=(0,x.useState)(``),[a,o]=(0,x.useState)(!1),[s,c]=(0,x.useState)(!1),[l,u]=(0,x.useState)({}),[d,f]=(0,x.useState)(`default`),[p,m]=(0,x.useState)(!1),[h,g]=(0,x.useState)(!1),[_,v]=(0,x.useState)(!1);Ye(),(0,x.useEffect)(()=>{if(e)return yN(e.uid,e=>{e&&i(e.name||``)})},[e]),(0,x.useEffect)(()=>{if(n)return SN(n,e=>{u(e)})},[n]),(0,x.useEffect)(()=>{`Notification`in window&&f(Notification.permission)},[]);let y=async t=>{t.preventDefault(),o(!0),c(!1);try{await xN(e.uid,{name:r.trim(),email:e.email}),c(!0),setTimeout(()=>c(!1),3e3)}catch(e){console.error(`Error updating profile:`,e),alert(`Failed to update profile`)}finally{o(!1)}},b=async()=>{m(!0);try{await rF()?(f(`granted`),alert(`Notifications enabled! `)):alert(`Failed to enable notifications. Please check your browser settings.`)}catch(e){console.error(`Error enabling notifications:`,e),alert(`Error enabling notifications. Please try again.`)}finally{m(!1)}},S=async()=>{v(!0);try{let t=e.uid;await ek(Z(Q,`userProfiles`,t)),await m_(e),window.location.href=`#/login`}catch(e){console.error(`Error deleting account:`,e),e.code===`auth/requires-recent-login`?alert(`For security, please log out and log back in before deleting your account.`):alert(`Failed to delete account. Please try again.`),v(!1),g(!1)}},C=l[e?.uid],w=Object.values(l).find(t=>t.email!==e?.email);return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)(kP,{className:`w-8 h-8 text-pink-500`}),`Profile Settings`]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-2`,children:`Manage your profile information`})]}),(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Your Information`}),(0,j.jsxs)(`div`,{className:`space-y-3`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Name`}),(0,j.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:C?.name||`Not set`})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Email`}),(0,j.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:e?.email})]})]})]}),w&&(0,j.jsxs)(`div`,{className:`card bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Your Partner`}),(0,j.jsxs)(`div`,{className:`space-y-3`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Name`}),(0,j.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:w.name})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Email`}),(0,j.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:w.email})]})]})]}),(0,j.jsxs)(`form`,{onSubmit:y,className:`card`,children:[(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Update Your Name`}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Your Name`}),(0,j.jsx)(`input`,{type:`text`,value:r,onChange:e=>i(e.target.value),className:`input`,placeholder:`Enter your name`,required:!0})]}),s&&(0,j.jsx)(`div`,{className:`bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 px-4 py-3 rounded-lg text-sm`,children:`Profile updated successfully!`}),(0,j.jsxs)(`button`,{type:`submit`,disabled:a,className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(_P,{className:`w-5 h-5`}),a?`Saving...`:`Save Changes`]})]})]}),(0,j.jsxs)(`div`,{className:`card`,children:[(0,j.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Push Notifications`}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsxs)(`div`,{className:`flex items-start gap-3`,children:[d===`granted`?(0,j.jsx)(JN,{className:`w-5 h-5 text-green-500 flex-shrink-0 mt-0.5`}):(0,j.jsx)(qN,{className:`w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5`}),(0,j.jsx)(`div`,{className:`flex-1`,children:(0,j.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300`,children:d===`granted`?` Notifications are enabled`:d===`denied`?`Notifications are blocked. Please enable them in your browser settings.`:`Enable notifications to get updates from your partner`})})]}),d!==`granted`&&d!==`denied`&&(0,j.jsxs)(`button`,{onClick:b,disabled:p,className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(JN,{className:`w-5 h-5`}),p?`Enabling...`:`Enable Notifications`]}),d===`denied`&&(0,j.jsxs)(`div`,{className:`bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 px-4 py-3 rounded-lg text-sm`,children:[(0,j.jsx)(`p`,{className:`font-medium mb-1`,children:`Notifications are blocked`}),(0,j.jsx)(`p`,{children:`To enable them, go to your browser settings and allow notifications for this site.`})]})]})]}),(0,j.jsxs)(`div`,{className:`card bg-gray-50 dark:bg-gray-800/50`,children:[(0,j.jsx)(`h3`,{className:`font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:` Tip`}),(0,j.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-300`,children:`Your name will be visible to your partner throughout the app, including in Daily Habits, Letters, and other shared features.`})]}),(0,j.jsxs)(`div`,{className:`card border-2 border-red-200 dark:border-red-900 bg-red-50 dark:bg-red-900/10`,children:[(0,j.jsxs)(`h2`,{className:`text-xl font-semibold text-red-600 dark:text-red-400 mb-4 flex items-center gap-2`,children:[(0,j.jsx)(TP,{className:`w-5 h-5`}),`Delete Account`]}),(0,j.jsxs)(`div`,{className:`space-y-4`,children:[(0,j.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300`,children:`Permanently delete your account and all associated data. This action cannot be undone.`}),h?(0,j.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-4 rounded-lg border-2 border-red-300 dark:border-red-700`,children:[(0,j.jsx)(`p`,{className:`text-red-600 dark:text-red-400 font-semibold mb-3`,children:` Are you sure? This will permanently delete your account and all data.`}),(0,j.jsxs)(`div`,{className:`flex gap-3`,children:[(0,j.jsx)(`button`,{onClick:S,disabled:_,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex-1`,children:_?`Deleting...`:`Yes, Delete Forever`}),(0,j.jsx)(`button`,{onClick:()=>g(!1),disabled:_,className:`bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition-colors flex-1`,children:`Cancel`})]})]}):(0,j.jsxs)(`button`,{onClick:()=>g(!0),className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2`,children:[(0,j.jsx)(TP,{className:`w-4 h-4`}),`Delete My Account`]})]})]})]})}function aF(){let e=Ye();return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)(yP,{className:`w-8 h-8 text-pink-500`}),`More`]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Additional features and settings`})]}),(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:[{title:`Profile`,icon:kP,path:`/profile`,gradient:`from-pink-400 to-pink-500`,description:`Update your name and settings`},{title:`Sticky Notes`,icon:CP,path:`/sticky-notes`,gradient:`from-yellow-300 to-orange-400`,description:`Quick notes for your partner`},{title:`Books`,icon:YN,path:`/books`,gradient:`from-pink-200 to-green-300`,description:`Books to read together`},{title:`Shows & Movies`,icon:DP,path:`/shows`,gradient:`from-green-300 to-green-400`,description:`Shows and movies to watch together`},{title:`Gratitude Wall`,icon:xP,path:`/gratitude`,gradient:`from-yellow-300 to-pink-400`,description:`Things we appreciate`},{title:`Invite Partner`,icon:OP,path:`/invite`,gradient:`from-pink-300 to-pink-400`,description:`Share this app`}].map(({title:t,icon:n,path:r,gradient:i,description:a})=>(0,j.jsxs)(`button`,{onClick:()=>e(r),className:`nav-card text-left group`,children:[(0,j.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${i} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,j.jsx)(n,{className:`w-6 h-6 text-white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:t}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:a})]},r))})]})}var oF=[{name:`Yellow`,bg:`bg-yellow-100 dark:bg-yellow-100`,border:`border-yellow-300`},{name:`Pink`,bg:`bg-pink-100 dark:bg-pink-100`,border:`border-pink-300`},{name:`Blue`,bg:`bg-blue-100 dark:bg-blue-100`,border:`border-blue-300`},{name:`Green`,bg:`bg-green-100 dark:bg-green-100`,border:`border-green-300`},{name:`Purple`,bg:`bg-purple-100 dark:bg-purple-100`,border:`border-purple-300`},{name:`Orange`,bg:`bg-orange-100 dark:bg-orange-100`,border:`border-orange-300`}];function sF(){let{coupleCode:e}=zN(),{currentUser:t}=jN(),[n,r]=(0,x.useState)([]),[i,a]=(0,x.useState)(!1),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(oF[0]),[u,d]=(0,x.useState)({}),[f,p]=(0,x.useState)(null),m=[``,``,``,``,``,``,``];(0,x.useEffect)(()=>{if(e)return CN(e,r)},[e]),(0,x.useEffect)(()=>{if(e)return SN(e,d)},[e]);let h=async n=>{n.preventDefault(),o.trim()&&(await wN(e,{message:o,color:c.name,createdBy:t.uid,createdByEmail:t.email,createdAt:Date.now()}),s(``),a(!1),l(oF[0]))},g=async e=>{window.confirm(`Delete this note?`)&&await TN(e)},_=async(e,n)=>{await kN(`stickyNotes`,e,t.uid,n),p(null)},v=(e={})=>{let t={};return Object.values(e).forEach(e=>{t[e]=(t[e]||0)+1}),t},y=e=>u[e.createdBy]?.name||e.createdByEmail||`Unknown`,b=e=>oF.find(t=>t.name===e)||oF[0];return(0,j.jsxs)(`div`,{className:`space-y-6`,children:[(0,j.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,j.jsx)(CP,{className:`w-8 h-8 text-pink-500`}),`Sticky Notes`]}),(0,j.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Quick notes for your partner `})]}),(0,j.jsxs)(`button`,{onClick:()=>a(!i),className:`btn-primary flex items-center gap-2`,children:[(0,j.jsx)(gP,{className:`w-5 h-5`}),i?`Cancel`:`New Note`]})]}),i&&(0,j.jsxs)(`form`,{onSubmit:h,className:`card space-y-4`,children:[(0,j.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:`Write a Note`}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Message *`}),(0,j.jsx)(`textarea`,{value:o,onChange:e=>s(e.target.value),className:`input`,rows:4,placeholder:`Leave a sweet message for your partner...`,required:!0,autoFocus:!0,maxLength:200}),(0,j.jsxs)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400 mt-1`,children:[o.length,`/200 characters`]})]}),(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Color`}),(0,j.jsx)(`div`,{className:`flex gap-2 flex-wrap`,children:oF.map(e=>(0,j.jsx)(`button`,{type:`button`,onClick:()=>l(e),className:`w-12 h-12 rounded-lg ${e.bg} ${c.name===e.name?`border-4 border-gray-800 dark:border-gray-900 scale-110 ring-4 ring-pink-300 dark:ring-pink-500`:`border-2 border-gray-300 dark:border-gray-600`} transition-all hover:scale-105`,title:e.name},e.name))})]}),(0,j.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:`Post Note`})]}),n.length===0?(0,j.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,j.jsx)(CP,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,j.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-lg`,children:`No notes yet`}),(0,j.jsx)(`p`,{className:`text-gray-400 dark:text-gray-500 mt-2`,children:`Leave your first sticky note for your partner! `})]}):(0,j.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:n.map(e=>{let n=b(e.color);return(0,j.jsxs)(`div`,{className:`${n.bg} ${n.border} border-2 rounded-lg p-4 shadow-lg hover:shadow-xl transition-all transform hover:-rotate-1 relative`,style:{minHeight:`150px`},children:[(0,j.jsx)(`button`,{onClick:()=>g(e.id),className:`absolute top-2 right-2 text-gray-700 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,j.jsx)(TP,{className:`w-4 h-4`})}),(0,j.jsx)(`div`,{className:`pr-6 pl-2 pt-2`,children:(0,j.jsx)(`p`,{className:`text-sm leading-relaxed mb-3 whitespace-pre-wrap break-words text-black dark:text-gray-900`,children:e.message})}),(0,j.jsxs)(`div`,{className:`absolute bottom-3 left-4 right-16`,children:[(0,j.jsxs)(`p`,{className:`text-xs opacity-80 italic flex items-center gap-1 text-black dark:text-gray-900 font-medium`,children:[(0,j.jsx)(aP,{className:`w-3 h-3`}),y(e)]}),(0,j.jsx)(`p`,{className:`text-xs opacity-60 mt-1 text-black dark:text-gray-900`,children:new Date(e.createdAt).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,hour:`numeric`,minute:`2-digit`})})]}),(0,j.jsxs)(`div`,{className:`absolute bottom-2 right-2 flex items-center gap-1`,children:[Object.keys(v(e.reactions)).length>0&&(0,j.jsx)(`div`,{className:`flex items-center gap-1 flex-wrap`,children:Object.entries(v(e.reactions)).map(([n,r])=>(0,j.jsx)(`button`,{onClick:()=>_(e.id,n),className:`text-xs px-2 py-1 rounded-full border transition-all ${e.reactions?.[t.uid]===n?`bg-white/70 dark:bg-gray-900/70 border-gray-800 dark:border-gray-900 scale-110 font-semibold`:`bg-white/40 dark:bg-gray-900/40 border-gray-500 dark:border-gray-700 hover:scale-105`}`,children:n},n))}),(0,j.jsxs)(`div`,{className:`relative`,children:[(0,j.jsx)(`button`,{onClick:()=>p(f===e.id?null:e.id),className:`bg-white/80 dark:bg-gray-900/80 hover:bg-white dark:hover:bg-gray-900 border-2 border-gray-700 dark:border-gray-900 rounded-full p-1.5 transition-all hover:scale-110 shadow-md`,title:`Add reaction`,children:(0,j.jsx)(bP,{className:`w-4 h-4 text-gray-700 dark:text-gray-900`})}),f===e.id&&(0,j.jsx)(`div`,{className:`absolute bottom-full right-0 mb-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border-2 border-gray-800 dark:border-gray-700 p-2 flex gap-1.5 z-10`,children:m.map(t=>(0,j.jsx)(`button`,{onClick:()=>_(e.id,t),className:`text-lg hover:scale-125 transition-transform p-1`,children:t},t))})]})]})]},e.id)})})]})}var cF=(0,x.createContext)();function lF(){return(0,x.useContext)(cF)}function uF({children:e}){let[t,n]=(0,x.useState)(()=>localStorage.getItem(`theme`)===`dark`);return(0,x.useEffect)(()=>{t?(document.documentElement.classList.add(`dark`),localStorage.setItem(`theme`,`dark`)):(document.documentElement.classList.remove(`dark`),localStorage.setItem(`theme`,`light`))},[t]),(0,j.jsx)(cF.Provider,{value:{isDark:t,toggleTheme:()=>n(!t)},children:e})}function dF(){let{signOut:e,currentUser:t}=jN(),{isDark:n,toggleTheme:r}=lF(),i=Ye(),a=qe(),[o,s]=(0,x.useState)(``);return(0,x.useEffect)(()=>{if(t)return yN(t.uid,e=>{e&&s(e.name||``)})},[t]),(0,j.jsxs)(`div`,{className:`min-h-screen pb-20 bg-gradient-to-br from-pink-50 via-green-50 to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors`,children:[(0,j.jsx)(`header`,{className:`bg-white dark:bg-gray-800 shadow-md sticky top-0 z-10 transition-colors`,children:(0,j.jsxs)(`div`,{className:`max-w-7xl mx-auto px-4 py-4 flex justify-between items-center`,children:[(0,j.jsxs)(`div`,{children:[(0,j.jsx)(`h1`,{className:`text-2xl font-bold bg-gradient-to-r from-pink-500 to-green-500 bg-clip-text text-transparent`,children:`Our Space`}),o&&(0,j.jsxs)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400 mt-0.5`,children:[`Hi, `,o,` `]})]}),(0,j.jsxs)(`div`,{className:`flex gap-2`,children:[(0,j.jsx)(`button`,{onClick:r,className:`p-2 rounded-full hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors`,title:n?`Light Mode`:`Dark Mode`,children:n?(0,j.jsx)(wP,{className:`w-5 h-5 text-yellow-500`}):(0,j.jsx)(pP,{className:`w-5 h-5 text-pink-500`})}),(0,j.jsx)(`button`,{onClick:()=>i(`/more`),className:`p-2 rounded-full hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors`,title:`Settings`,children:(0,j.jsx)(yP,{className:`w-5 h-5 text-pink-500`})}),(0,j.jsx)(`button`,{onClick:async()=>{try{await e(),i(`/login`)}catch(e){console.error(`Failed to sign out:`,e)}},className:`p-2 rounded-full hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors`,title:`Sign Out`,children:(0,j.jsx)(lP,{className:`w-5 h-5 text-pink-500`})})]})]})}),(0,j.jsx)(`main`,{className:`max-w-7xl mx-auto px-4 py-6`,children:(0,j.jsx)(yt,{})}),(0,j.jsx)(`nav`,{className:`fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-pink-100 dark:border-gray-700 shadow-lg transition-colors`,children:(0,j.jsx)(`div`,{className:`flex justify-around items-center py-2`,children:[{path:`/`,icon:oP,label:`Home`},{path:`/daily-habits`,icon:$N,label:`Daily`},{path:`/date-ideas`,icon:aP,label:`Date Ideas`},{path:`/gratitude`,icon:aP,label:`Gratitude`},{path:`/more`,icon:nP,label:`More`}].map(({path:e,icon:t,label:n})=>(0,j.jsxs)(`button`,{onClick:()=>i(e),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${a.pathname===e?`text-pink-500 dark:text-pink-400`:`text-gray-400 hover:text-pink-400 dark:text-gray-500 dark:hover:text-pink-400`}`,children:[(0,j.jsx)(t,{className:`w-6 h-6`}),(0,j.jsx)(`span`,{className:`text-xs mt-1`,children:n})]},e))})})]})}var fF={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},pF={duration:.3,ease:`easeInOut`};function mF({children:e}){return(0,j.jsx)(Fd.div,{initial:`initial`,animate:`animate`,exit:`exit`,variants:fF,transition:pF,children:e})}function hF(){let{currentUser:e,loading:t}=jN(),{hasCouple:n,loading:r,coupleCode:i}=zN(),a=qe();return t||r?(0,j.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-green-50 to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900`,children:(0,j.jsx)(`div`,{className:`text-2xl text-pink-500 animate-pulse`,children:`Loading...`})}):(0,j.jsx)(Do,{mode:`wait`,children:(0,j.jsxs)(St,{location:a,children:[(0,j.jsx)(bt,{path:`/login`,element:e?(0,j.jsx)(vt,{to:`/`}):(0,j.jsx)(MP,{})}),(0,j.jsxs)(bt,{path:`/`,element:e?(0,j.jsx)(dF,{}):(0,j.jsx)(vt,{to:`/login`}),children:[(0,j.jsx)(bt,{index:!0,element:n?(0,j.jsx)(mF,{children:(0,j.jsx)(PP,{})}):(0,j.jsx)(vt,{to:`/invite`,replace:!0})}),(0,j.jsx)(bt,{path:`date-ideas`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(IP,{})})}),(0,j.jsx)(bt,{path:`date-ideas-by-location`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(RP,{})})}),(0,j.jsx)(bt,{path:`books`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(BP,{})})}),(0,j.jsx)(bt,{path:`shows`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(WP,{})})}),(0,j.jsx)(bt,{path:`future-trips`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(GP,{})})}),(0,j.jsx)(bt,{path:`dream-trips`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(KP,{})})}),(0,j.jsx)(bt,{path:`invite`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(ZP,{})})}),(0,j.jsx)(bt,{path:`special-dates`,element:(0,j.jsx)(mF,{children:(0,j.jsx)($P,{})})}),(0,j.jsx)(bt,{path:`gratitude`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(eF,{})})}),(0,j.jsx)(bt,{path:`milestones`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(tF,{})})}),(0,j.jsx)(bt,{path:`daily-habits`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(nF,{})})}),(0,j.jsx)(bt,{path:`sticky-notes`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(sF,{})})}),(0,j.jsx)(bt,{path:`profile`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(iF,{})})}),(0,j.jsx)(bt,{path:`more`,element:(0,j.jsx)(mF,{children:(0,j.jsx)(aF,{})})})]})]},a.pathname)})}var gF=hF;y.createRoot(document.getElementById(`root`)).render((0,j.jsx)(x.StrictMode,{children:(0,j.jsx)(Et,{children:(0,j.jsx)(uF,{children:(0,j.jsx)(MN,{children:(0,j.jsx)(BN,{children:(0,j.jsx)(gF,{})})})})})}));export{QO as $,qO as A,GD as B,rO as C,KO as D,MO as E,Qy as F,rk as G,ek as H,Cb as I,ZD as J,YO as K,Ky as L,Ob as M,iO as N,PO as O,ob as P,ak as Q,vb as R,W as S,IO as T,Z as U,VD as V,QD as W,RO as X,nk as Y,NO as Z,GO as _,FN as a,nO as b,NM as c,ax as d,$O as et,eO as f,UD as g,K as h,IN as i,WO as j,LO as k,AM as l,yx as m,NN as n,MM as o,WD as p,ZO as q,LN as r,Q as s,PN as t,FO as tt,HO as u,tO as v,HD as w,XD as x,gb as y,tk as z};