var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function T(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function te(e,t){return T(e.type,t,e.props)}function ne(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function re(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ie=/\/+/g;function ae(e,t){return typeof e==`object`&&e&&e.key!=null?re(``+e.key):t.toString(36)}function oe(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function se(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,se(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ae(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(ie,`$&/`)+`/`),se(o,r,i,``,function(e){return e})):o!=null&&(ne(o)&&(o=te(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ie,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ae(a,u),c+=se(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ae(a,u++),c+=se(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return se(oe(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function ce(e,t,n){if(e==null)return e;var r=[],i=0;return se(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function le(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var E=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},D={map:ce,forEach:function(e,t,n){ce(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ce(e,function(){t++}),t},toArray:function(e){return ce(e,function(e){return e})||[]},only:function(e){if(!ne(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=D,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!ee.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return T(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)ee.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return T(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=ne,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:le}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,E)}catch(e){E(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.0`})),p=s(((e,t)=>{t.exports=f()})),m=s((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,ne());else{var t=n(l);t!==null&&ae(x,t.startTime-e)}}var S=!1,C=-1,w=5,ee=-1;function T(){return g?!0:!(e.unstable_now()-ee<w)}function te(){if(g=!1,S){var t=e.unstable_now();ee=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&T());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ae(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?ne():S=!1}}}var ne;if(typeof y==`function`)ne=function(){y(te)};else if(typeof MessageChannel<`u`){var re=new MessageChannel,ie=re.port2;re.port1.onmessage=te,ne=function(){ie.postMessage(null)}}else ne=function(){_(te,0)};function ae(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ae(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,ne()))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((e,t)=>{t.exports=m()})),g=s((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.0`})),_=s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((e=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=d(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for(`react.element`),g=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),ee=Symbol.for(`react.suspense`),T=Symbol.for(`react.suspense_list`),te=Symbol.for(`react.memo`),ne=Symbol.for(`react.lazy`),re=Symbol.for(`react.activity`),ie=Symbol.for(`react.memo_cache_sentinel`),ae=Symbol.iterator;function oe(e){return typeof e!=`object`||!e?null:(e=ae&&e[ae]||e[`@@iterator`],typeof e==`function`?e:null)}var se=Symbol.for(`react.client.reference`);function ce(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case ee:return`Suspense`;case T:return`SuspenseList`;case re:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case te:return t=e.displayName||null,t===null?ce(e.type)||`Memo`:t;case ne:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var le=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},de=[],fe=-1;function pe(e){return{current:e}}function me(e){0>fe||(e.current=de[fe],de[fe]=null,fe--)}function he(e,t){fe++,de[fe]=e.current,e.current=t}var ge=pe(null),_e=pe(null),ve=pe(null),ye=pe(null);function be(e,t){switch(he(ve,t),he(_e,e),he(ge,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tf(t),e=nf(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}me(ge),he(ge,e)}function xe(){me(ge),me(_e),me(ve)}function Se(e){e.memoizedState!==null&&he(ye,e);var t=ge.current,n=nf(t,e.type);t!==n&&(he(_e,e),he(ge,n))}function Ce(e){_e.current===e&&(me(ge),me(_e)),ye.current===e&&(me(ye),dp._currentValue=ue)}var we,Te;function Ee(e){if(we===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||``,Te=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+we+e+Te}var De=!1;function Oe(e,t){if(!e||De)return``;De=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{De=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Ee(n):``}function ke(e,t){switch(e.tag){case 26:case 27:case 5:return Ee(e.type);case 16:return Ee(`Lazy`);case 13:return e.child!==t&&t!==null?Ee(`Suspense Fallback`):Ee(`Suspense`);case 19:return Ee(`SuspenseList`);case 0:case 15:return Oe(e.type,!1);case 11:return Oe(e.type.render,!1);case 1:return Oe(e.type,!0);case 31:return Ee(`Activity`);default:return``}}function Ae(e){try{var t=``,n=null;do t+=ke(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var je=Object.prototype.hasOwnProperty,Me=t.unstable_scheduleCallback,Ne=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,Fe=t.unstable_requestPaint,Ie=t.unstable_now,Le=t.unstable_getCurrentPriorityLevel,Re=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,Be=t.unstable_NormalPriority,Ve=t.unstable_LowPriority,He=t.unstable_IdlePriority,Ue=t.log,We=t.unstable_setDisableYieldValue,Ge=null,Ke=null;function qe(e){if(typeof Ue==`function`&&We(e),Ke&&typeof Ke.setStrictMode==`function`)try{Ke.setStrictMode(Ge,e)}catch{}}var Je=Math.clz32?Math.clz32:Ze,Ye=Math.log,Xe=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(Ye(e)/Xe|0)|0}var Qe=256,$e=262144,et=4194304;function tt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nt(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=tt(n))):i=tt(o):i=tt(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=tt(n))):i=tt(o)):i=tt(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function it(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var e=et;return et<<=1,!(et&62914560)&&(et=4194304),e}function ot(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function st(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Je(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&lt(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Je(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ut(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Je(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function dt(e,t){var n=t&-t;return n=n&42?1:ft(n),(n&(e.suspendedLanes|t))===0?n:0}function ft(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function mt(){var e=D.p;return e===0?(e=window.event,e===void 0?32:Dp(e.type)):e}function ht(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}var gt=Math.random().toString(36).slice(2),_t=`__reactFiber$`+gt,vt=`__reactProps$`+gt,yt=`__reactContainer$`+gt,bt=`__reactEvents$`+gt,xt=`__reactListeners$`+gt,St=`__reactHandles$`+gt,Ct=`__reactResources$`+gt,wt=`__reactMarker$`+gt;function Tt(e){delete e[_t],delete e[vt],delete e[bt],delete e[xt],delete e[St]}function Et(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tf(e);e!==null;){if(n=e[_t])return n;e=Tf(e)}return t}e=n,n=e.parentNode}return null}function Dt(e){if(e=e[_t]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ot(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kt(e){var t=e[Ct];return t||=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map},t}function At(e){e[wt]=!0}var jt=new Set,Mt={};function Nt(e,t){Pt(e,t),Pt(e+`Capture`,t)}function Pt(e,t){for(Mt[e]=t,e=0;e<t.length;e++)jt.add(t[e])}var Ft=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),It={},Lt={};function Rt(e){return je.call(Lt,e)?!0:je.call(It,e)?!1:Ft.test(e)?Lt[e]=!0:(It[e]=!0,!1)}function zt(e,t,n){if(Rt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Bt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Vt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function O(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ht(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ut(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wt(e){if(!e._valueTracker){var t=Ht(e)?`checked`:`value`;e._valueTracker=Ut(e,t,``+e[t])}}function Gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ht(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Kt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var qt=/[\n"\\]/g;function Jt(e){return e.replace(qt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Yt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+O(t)):e.value!==``+O(t)&&(e.value=``+O(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Zt(e,o,O(n)):Zt(e,o,O(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+O(s):e.removeAttribute(`name`)}function Xt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Wt(e);return}n=n==null?``:``+O(n),t=t==null?n:``+O(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Wt(e)}function Zt(e,t,n){t===`number`&&Kt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Qt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+O(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $t(e,t,n){if(t!=null&&(t=``+O(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+O(n)}function en(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(le(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=O(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Wt(e)}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nn=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function rn(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||nn.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function an(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&rn(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&rn(e,o,t[o])}function on(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var sn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),cn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return cn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function un(){}var dn=null;function fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pn=null,mn=null;function hn(e){var t=Dt(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Jt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[vt]||null;if(!a)throw Error(i(90));Yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Gt(r)}break a;case`textarea`:$t(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Qt(e,!!n.multiple,t,!1)}}}var gn=!1;function _n(e,t,n){if(gn)return e(t,n);gn=!0;try{return e(t)}finally{if(gn=!1,(pn!==null||mn!==null)&&(Nu(),pn&&(t=pn,e=mn,mn=pn=null,hn(t),e)))for(t=0;t<e.length;t++)hn(e[t])}}function vn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[vt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var yn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),bn=!1;if(yn)try{var xn={};Object.defineProperty(xn,`passive`,{get:function(){bn=!0}}),window.addEventListener(`test`,xn,xn),window.removeEventListener(`test`,xn,xn)}catch{bn=!1}var Sn=null,Cn=null,wn=null;function k(){if(wn)return wn;var e,t=Cn,n=t.length,r,i=`value`in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return wn=i.slice(e,1<r?1-r:void 0)}function Tn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function En(){return!0}function Dn(){return!1}function On(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?En:Dn,this.isPropagationStopped=Dn,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=On(kn),jn=f({},kn,{view:0,detail:0}),Mn=On(jn),Nn,Pn,Fn,In=f({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Fn&&(Fn&&e.type===`mousemove`?(Nn=e.screenX-Fn.screenX,Pn=e.screenY-Fn.screenY):Pn=Nn=0,Fn=e),Nn)},movementY:function(e){return`movementY`in e?e.movementY:Pn}}),Ln=On(In),Rn=On(f({},In,{dataTransfer:0})),zn=On(f({},jn,{relatedTarget:0})),Bn=On(f({},kn,{animationName:0,elapsedTime:0,pseudoElement:0})),Vn=On(f({},kn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Hn=On(f({},kn,{data:0})),Un={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Wn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Gn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gn[e])?!!t[e]:!1}function qn(){return Kn}var Jn=On(f({},jn,{key:function(e){if(e.key){var t=Un[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Tn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Wn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(e){return e.type===`keypress`?Tn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Tn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Yn=On(f({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Xn=On(f({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn})),Zn=On(f({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=On(f({},In,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),$n=On(f({},kn,{newState:0,oldState:0})),A=[9,13,27,32],er=yn&&`CompositionEvent`in window,tr=null;yn&&`documentMode`in document&&(tr=document.documentMode);var nr=yn&&`TextEvent`in window&&!tr,rr=yn&&(!er||tr&&8<tr&&11>=tr),ir=` `,ar=!1;function or(e,t){switch(e){case`keyup`:return A.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function sr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var cr=!1;function lr(e,t){switch(e){case`compositionend`:return sr(t);case`keypress`:return t.which===32?(ar=!0,ir):null;case`textInput`:return e=t.data,e===ir&&ar?null:e;default:return null}}function ur(e,t){if(cr)return e===`compositionend`||!er&&or(e,t)?(e=k(),wn=Cn=Sn=null,cr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return rr&&t.locale!==`ko`?null:t.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!dr[e.type]:t===`textarea`}function pr(e,t,n,r){pn?mn?mn.push(r):mn=[r]:pn=r,t=Bd(t,`onChange`),0<t.length&&(n=new An(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var mr=null,hr=null;function gr(e){Nd(e,0)}function _r(e){if(Gt(Ot(e)))return e}function vr(e,t){if(e===`change`)return t}var yr=!1;if(yn){var br;if(yn){var xr=`oninput`in document;if(!xr){var Sr=document.createElement(`div`);Sr.setAttribute(`oninput`,`return;`),xr=typeof Sr.oninput==`function`}br=xr}else br=!1;yr=br&&(!document.documentMode||9<document.documentMode)}function Cr(){mr&&(mr.detachEvent(`onpropertychange`,wr),hr=mr=null)}function wr(e){if(e.propertyName===`value`&&_r(hr)){var t=[];pr(t,hr,e,fn(e)),_n(gr,t)}}function Tr(e,t,n){e===`focusin`?(Cr(),mr=t,hr=n,mr.attachEvent(`onpropertychange`,wr)):e===`focusout`&&Cr()}function Er(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return _r(hr)}function Dr(e,t){if(e===`click`)return _r(t)}function Or(e,t){if(e===`input`||e===`change`)return _r(t)}function kr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Ar=typeof Object.is==`function`?Object.is:kr;function jr(e,t){if(Ar(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!je.call(t,i)||!Ar(e[i],t[i]))return!1}return!0}function Mr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nr(e,t){var n=Mr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Mr(n)}}function Pr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Lr=yn&&`documentMode`in document&&11>=document.documentMode,Rr=null,zr=null,Br=null,Vr=!1;function Hr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vr||Rr==null||Rr!==Kt(r)||(r=Rr,`selectionStart`in r&&Ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&jr(Br,r)||(Br=r,r=Bd(zr,`onSelect`),0<r.length&&(t=new An(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Rr)))}function Ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Wr={animationend:Ur(`Animation`,`AnimationEnd`),animationiteration:Ur(`Animation`,`AnimationIteration`),animationstart:Ur(`Animation`,`AnimationStart`),transitionrun:Ur(`Transition`,`TransitionRun`),transitionstart:Ur(`Transition`,`TransitionStart`),transitioncancel:Ur(`Transition`,`TransitionCancel`),transitionend:Ur(`Transition`,`TransitionEnd`)},Gr={},Kr={};yn&&(Kr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),`TransitionEvent`in window||delete Wr.transitionend.transition);function qr(e){if(Gr[e])return Gr[e];if(!Wr[e])return e;var t=Wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kr)return Gr[e]=t[n];return e}var Jr=qr(`animationend`),Yr=qr(`animationiteration`),Xr=qr(`animationstart`),Zr=qr(`transitionrun`),Qr=qr(`transitionstart`),$r=qr(`transitioncancel`),ei=qr(`transitionend`),ti=new Map,ni=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ni.push(`scrollEnd`);function ri(e,t){ti.set(e,t),Nt(t,[e])}var ii=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ai=[],oi=0,si=0;function ci(){for(var e=oi,t=si=oi=0;t<e;){var n=ai[t];ai[t++]=null;var r=ai[t];ai[t++]=null;var i=ai[t];ai[t++]=null;var a=ai[t];if(ai[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&fi(n,i,a)}}function li(e,t,n,r){ai[oi++]=e,ai[oi++]=t,ai[oi++]=n,ai[oi++]=r,si|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ui(e,t,n,r){return li(e,t,n,r),pi(e)}function di(e,t){return li(e,null,null,t),pi(e)}function fi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Je(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function pi(e){if(50<wu)throw wu=0,Tu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mi={};function hi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(e,t,n,r){return new hi(e,t,n,r)}function _i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vi(e,t){var n=e.alternate;return n===null?(n=gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)_i(e)&&(s=1);else if(typeof e==`string`)s=np(e,n,ge.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case re:return e=gi(31,n,t,a),e.elementType=re,e.lanes=o,e;case y:return xi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=gi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case ee:return e=gi(13,n,t,a),e.elementType=ee,e.lanes=o,e;case T:return e=gi(19,n,t,a),e.elementType=T,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case te:s=14;break a;case ne:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=gi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function xi(e,t,n,r){return e=gi(7,e,r,t),e.lanes=n,e}function Si(e,t,n){return e=gi(6,e,null,t),e.lanes=n,e}function Ci(e){var t=gi(18,null,null,0);return t.stateNode=e,t}function wi(e,t,n){return t=gi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ti=new WeakMap;function Ei(e,t){if(typeof e==`object`&&e){var n=Ti.get(e);return n===void 0?(t={value:e,source:t,stack:Ae(t)},Ti.set(e,t),t):n}return{value:e,source:t,stack:Ae(t)}}var Di=[],Oi=0,ki=null,Ai=0,ji=[],Mi=0,Ni=null,Pi=1,Fi=``;function Ii(e,t){Di[Oi++]=Ai,Di[Oi++]=ki,ki=e,Ai=t}function Li(e,t,n){ji[Mi++]=Pi,ji[Mi++]=Fi,ji[Mi++]=Ni,Ni=e;var r=Pi;e=Fi;var i=32-Je(r)-1;r&=~(1<<i),n+=1;var a=32-Je(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pi=1<<32-Je(t)+i|n<<i|r,Fi=a+e}else Pi=1<<a|n<<i|r,Fi=e}function Ri(e){e.return!==null&&(Ii(e,1),Li(e,1,0))}function zi(e){for(;e===ki;)ki=Di[--Oi],Di[Oi]=null,Ai=Di[--Oi],Di[Oi]=null;for(;e===Ni;)Ni=ji[--Mi],ji[Mi]=null,Fi=ji[--Mi],ji[Mi]=null,Pi=ji[--Mi],ji[Mi]=null}function Bi(e,t){ji[Mi++]=Pi,ji[Mi++]=Fi,ji[Mi++]=Ni,Pi=t.id,Fi=t.overflow,Ni=e}var Vi=null,Hi=null,j=!1,Ui=null,Wi=!1,Gi=Error(i(519));function Ki(e){throw Qi(Ei(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Gi}function qi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[_t]=e,t[vt]=r,n){case`dialog`:R(`cancel`,t),R(`close`,t);break;case`iframe`:case`object`:case`embed`:R(`load`,t);break;case`video`:case`audio`:for(n=0;n<jd.length;n++)R(jd[n],t);break;case`source`:R(`error`,t);break;case`img`:case`image`:case`link`:R(`error`,t),R(`load`,t);break;case`details`:R(`toggle`,t);break;case`input`:R(`invalid`,t),Xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:R(`invalid`,t);break;case`textarea`:R(`invalid`,t),en(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Kd(t.textContent,n)?(r.popover!=null&&(R(`beforetoggle`,t),R(`toggle`,t)),r.onScroll!=null&&R(`scroll`,t),r.onScrollEnd!=null&&R(`scrollend`,t),r.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Ki(e,!0)}function Ji(e){for(Vi=e.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:Vi=Vi.return}}function Yi(e){if(e!==Vi)return!1;if(!j)return Ji(e),j=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||rf(e.type,e.memoizedProps)),n=!n),n&&Hi&&Ki(e),Ji(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Hi=wf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Hi=wf(e)}else t===27?(t=Hi,ff(e.type)?(e=Cf,Cf=null,Hi=e):Hi=t):Hi=Vi?Sf(e.stateNode.nextSibling):null;return!0}function Xi(){Hi=Vi=null,j=!1}function Zi(){var e=Ui;return e!==null&&(uu===null?uu=e:uu.push.apply(uu,e),Ui=null),e}function Qi(e){Ui===null?Ui=[e]:Ui.push(e)}var $i=pe(null),ea=null,ta=null;function na(e,t,n){he($i,t._currentValue),t._currentValue=n}function ra(e){e._currentValue=$i.current,me($i)}function ia(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function aa(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ia(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ia(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function oa(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Ar(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ye.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[dp]:e.push(dp))}a=a.return}e!==null&&aa(t,e,n,r),t.flags|=262144}function sa(e){for(e=e.firstContext;e!==null;){if(!Ar(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ea=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function la(e){return da(ea,e)}function ua(e,t){return ea===null&&ca(e),da(e,t)}function da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ta===null){if(e===null)throw Error(i(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return n}var fa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},pa=t.unstable_scheduleCallback,ma=t.unstable_NormalPriority,ha={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ga(){return{controller:new fa,data:new Map,refCount:0}}function _a(e){e.refCount--,e.refCount===0&&pa(ma,function(){e.controller.abort()})}var va=null,ya=0,ba=0,xa=null;function Sa(e,t){if(va===null){var n=va=[];ya=0,ba=Td(),xa={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ya++,t.then(Ca,Ca),t}function Ca(){if(--ya===0&&va!==null){xa!==null&&(xa.status=`fulfilled`);var e=va;va=null,ba=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var Ta=E.S;E.S=function(e,t){pu=Ie(),typeof t==`object`&&t&&typeof t.then==`function`&&Sa(e,t),Ta!==null&&Ta(e,t)};var Ea=pe(null);function Da(){var e=Ea.current;return e===null?Xl.pooledCache:e}function Oa(e,t){t===null?he(Ea,Ea.current):he(Ea,t.pool)}function ka(){var e=Da();return e===null?null:{parent:ha._currentValue,pool:e}}var Aa=Error(i(460)),ja=Error(i(474)),Ma=Error(i(542)),Na={then:function(){}};function Pa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Fa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e;default:if(typeof t.status==`string`)t.then(un,un);else{if(e=Xl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,za(e),e}throw La=t,Aa}}function Ia(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(La=e,Aa):e}}var La=null;function Ra(){if(La===null)throw Error(i(459));var e=La;return La=null,e}function za(e){if(e===Aa||e===Ma)throw Error(i(483))}var Ba=null,Va=0;function Ha(e){var t=Va;return Va+=1,Ba===null&&(Ba=[]),Fa(Ba,e,t)}function Ua(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Wa(e,t){throw t.$$typeof===m?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ga(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=vi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Si(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ne&&Ia(i)===t.type)?(t=a(t,n.props),Ua(t,n),t.return=e,t):(t=bi(n.type,n.key,n.props,null,e.mode,r),Ua(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=wi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=xi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Si(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case g:return n=bi(t.type,t.key,t.props,null,e.mode,n),Ua(n,t),n.return=e,n;case v:return t=wi(t,e.mode,n),t.return=e,t;case ne:return t=Ia(t),f(e,t,n)}if(le(t)||oe(t))return t=xi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ha(t),n);if(t.$$typeof===C)return f(e,ua(e,t),n);Wa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case g:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case ne:return n=Ia(n),p(e,t,n,r)}if(le(n)||oe(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ha(n),r);if(n.$$typeof===C)return p(e,t,ua(e,n),r);Wa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case g:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ne:return r=Ia(r),m(e,t,n,r,i)}if(le(r)||oe(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ha(r),i);if(r.$$typeof===C)return m(e,t,n,ua(t,r),i);Wa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),j&&Ii(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return j&&Ii(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),j&&Ii(i,h),l}function _(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),j&&Ii(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return j&&Ii(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),j&&Ii(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case g:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===ne&&Ia(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ua(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=xi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=bi(o.type,o.key,o.props,null,e.mode,c),Ua(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=wi(o,e.mode,c),c.return=e,e=c}return s(e);case ne:return o=Ia(o),b(e,r,o,c)}if(le(o))return h(e,r,o,c);if(oe(o)){if(l=oe(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),_(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ha(o),c);if(o.$$typeof===C)return b(e,r,ua(e,o),c);Wa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Si(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Va=0;var i=b(e,t,n,r);return Ba=null,i}catch(t){if(t===Aa||t===Ma)throw t;var a=gi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ka=Ga(!0),qa=Ga(!1),Ja=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=pi(e),fi(e,null,n),t}return li(e,r,t,n),pi(e)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}function eo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var to=!1;function no(){if(to){var e=xa;if(e!==null)throw e}}function ro(e,t,n,r){to=!1;var i=e.updateQueue;Ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(L&p)===p:(r&p)===p){p!==0&&p===ba&&(to=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,p);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,d,p):h,p==null)break a;d=f({},d,p);break a;case 2:Ja=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=d):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),iu|=o,e.lanes=o,e.memoizedState=d}}function io(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function ao(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)io(n[e],t)}var oo=pe(null),so=pe(0);function co(e,t){e=nu,he(so,e),he(oo,t),nu=e|t.baseLanes}function lo(){he(so,nu),he(oo,oo.current)}function uo(){nu=so.current,me(oo),me(so)}var fo=pe(null),po=null;function mo(e){var t=e.alternate;he(yo,yo.current&1),he(fo,e),po===null&&(t===null||oo.current!==null||t.memoizedState!==null)&&(po=e)}function ho(e){he(yo,yo.current),he(fo,e),po===null&&(po=e)}function go(e){e.tag===22?(he(yo,yo.current),he(fo,e),po===null&&(po=e)):_o(e)}function _o(){he(yo,yo.current),he(fo,fo.current)}function vo(e){me(fo),po===e&&(po=null),me(yo)}var yo=pe(0);function M(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yf(n)||bf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bo=0,N=null,xo=null,So=null,Co=!1,wo=!1,To=!1,Eo=0,Do=0,Oo=null,ko=0;function Ao(){throw Error(i(321))}function jo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function Mo(e,t,n,r,i,a){return bo=a,N=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Ys:Xs,To=!1,a=n(r,i),To=!1,wo&&(a=Po(t,n,r,i)),No(e),a}function No(e){E.H=Js;var t=xo!==null&&xo.next!==null;if(bo=0,So=xo=N=null,Co=!1,Do=0,Oo=null,t)throw Error(i(300));e===null||pc||(e=e.dependencies,e!==null&&sa(e)&&(pc=!0))}function Po(e,t,n,r){N=e;var a=0;do{if(wo&&(Oo=null),Do=0,wo=!1,25<=a)throw Error(i(301));if(a+=1,So=xo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}E.H=Zs,o=t(n,r)}while(wo);return o}function Fo(){var e=E.H,t=e.useState()[0];return t=typeof t.then==`function`?Ho(t):t,e=e.useState()[0],(xo===null?null:xo.memoizedState)!==e&&(N.flags|=1024),t}function Io(){var e=Eo!==0;return Eo=0,e}function Lo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ro(e){if(Co){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Co=!1}bo=0,So=xo=N=null,wo=!1,Do=Eo=0,Oo=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return So===null?N.memoizedState=So=e:So=So.next=e,So}function Bo(){if(xo===null){var e=N.alternate;e=e===null?null:e.memoizedState}else e=xo.next;var t=So===null?N.memoizedState:So.next;if(t!==null)So=t,xo=e;else{if(e===null)throw N.alternate===null?Error(i(467)):Error(i(310));xo=e,e={memoizedState:xo.memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},So===null?N.memoizedState=So=e:So=So.next=e}return So}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var t=Do;return Do+=1,Oo===null&&(Oo=[]),e=Fa(Oo,e,t),t=N,(So===null?t.memoizedState:So.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Ys:Xs),e}function Uo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ho(e);if(e.$$typeof===C)return la(e)}throw Error(i(438,String(e)))}function Wo(e){var t=null,n=N.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=N.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Vo(),N.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ie;return t.index++,n}function Go(e,t){return typeof t==`function`?t(e):t}function Ko(e){return qo(Bo(),xo,e)}function qo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(bo&f)===f:(L&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ba&&(d=!0);else if((bo&p)===p){u=u.next,p===ba&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,N.lanes|=p,iu|=p;f=u.action,To&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,N.lanes|=f,iu|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Ar(o,e.memoizedState)&&(pc=!0,d&&(n=xa,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Jo(e){var t=Bo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Ar(o,t.memoizedState)||(pc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Yo(e,t,n){var r=N,a=Bo(),o=j;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Ar((xo||a).memoizedState,n);if(s&&(a.memoizedState=n,pc=!0),a=a.queue,bs(Qo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||So!==null&&So.memoizedState.tag&1){if(r.flags|=2048,hs(9,{destroy:void 0},Zo.bind(null,r,a,n,t),null),Xl===null)throw Error(i(349));o||bo&127||Xo(r,t,n)}return n}function Xo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=N.updateQueue,t===null?(t=Vo(),N.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zo(e,t,n,r){t.value=n,t.getSnapshot=r,$o(t)&&es(e)}function Qo(e,t,n){return n(function(){$o(t)&&es(e)})}function $o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ar(e,n)}catch{return!0}}function es(e){var t=di(e,2);t!==null&&Ou(t,e,2)}function ts(e){var t=zo();if(typeof e==`function`){var n=e;if(e=n(),To){qe(!0);try{n()}finally{qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t}function ns(e,t,n,r){return e.baseState=n,qo(e,xo,typeof r==`function`?r:Go)}function rs(e,t,n,r,a){if(Gs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};E.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,is(t,o)):(o.next=n.next,t.pending=n.next=o)}}function is(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=E.T,o={};E.T=o;try{var s=n(i,r),c=E.S;c!==null&&c(o,s),as(e,t,s)}catch(n){ss(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),E.T=a}}else try{a=n(i,r),as(e,t,a)}catch(n){ss(e,t,n)}}function as(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status=`fulfilled`,t.value=n,cs(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,cs(t),t=t.next;while(t!==r)}e.action=null}function cs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function us(e,t){if(j){var n=Xl.formState;if(n!==null){a:{var r=N;if(j){if(Hi){b:{for(var i=Hi,a=Wi;i.nodeType!==8;){if(!a){i=null;break b}if(i=Sf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Hi=Sf(i.nextSibling),r=i.data===`F!`;break a}}Ki(r)}r=!1}r&&(t=n[0])}}return n=zo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Hs.bind(null,N,r),r.dispatch=n,r=ts(!1),a=Ws.bind(null,N,!1,r.queue),r=zo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=rs.bind(null,N,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return fs(Bo(),xo,e)}function fs(e,t,n){if(t=qo(e,t,ls)[0],e=Ko(Go)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ho(t)}catch(e){throw e===Aa?Ma:e}else r=t;t=Bo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(N.flags|=2048,hs(9,{destroy:void 0},ps.bind(null,i,n),null)),[r,a,e]}function ps(e,t){e.action=t}function ms(e){var t=Bo(),n=xo;if(n!==null)return fs(t,n,e);Bo(),t=t.memoizedState,n=Bo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function hs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=N.updateQueue,t===null&&(t=Vo(),N.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(){return Bo().memoizedState}function _s(e,t,n,r){var i=zo();N.flags|=e,i.memoizedState=hs(1|t,{destroy:void 0},n,r===void 0?null:r)}function vs(e,t,n,r){var i=Bo();r=r===void 0?null:r;var a=i.memoizedState.inst;xo!==null&&r!==null&&jo(r,xo.memoizedState.deps)?i.memoizedState=hs(t,a,n,r):(N.flags|=e,i.memoizedState=hs(1|t,a,n,r))}function ys(e,t){_s(8390656,8,e,t)}function bs(e,t){vs(2048,8,e,t)}function xs(e){N.flags|=4;var t=N.updateQueue;if(t===null)t=Vo(),N.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ss(e){var t=Bo().memoizedState;return xs({ref:t,nextImpl:e}),function(){if(F&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Cs(e,t){return vs(4,2,e,t)}function ws(e,t){return vs(4,4,e,t)}function Ts(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Es(e,t,n){n=n==null?null:n.concat([e]),vs(4,4,Ts.bind(null,t,e),n)}function Ds(){}function Os(e,t){var n=Bo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ks(e,t){var n=Bo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&jo(t,r[1]))return r[0];if(r=e(),To){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r}function As(e,t,n){return n===void 0||bo&1073741824&&!(L&261930)?e.memoizedState=t:(e.memoizedState=n,e=Du(),N.lanes|=e,iu|=e,n)}function js(e,t,n,r){return Ar(n,t)?n:oo.current===null?!(bo&42)||bo&1073741824&&!(L&261930)?(pc=!0,e.memoizedState=n):(e=Du(),N.lanes|=e,iu|=e,t):(e=As(e,n,r),Ar(e,t)||(pc=!0),e)}function Ms(e,t,n,r,i){var a=D.p;D.p=a!==0&&8>a?a:8;var o=E.T,s={};E.T=s,Ws(e,!1,t,n);try{var c=i(),l=E.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Us(e,t,wa(c,r),Eu(e)):Us(e,t,r,Eu(e))}catch(n){Us(e,t,{then:function(){},status:`rejected`,reason:n},Eu())}finally{D.p=a,o!==null&&s.types!==null&&(o.types=s.types),E.T=o}}function Ns(){}function Ps(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Fs(e).queue;Ms(e,a,t,ue,n===null?Ns:function(){return Is(e),n(r)})}function Fs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:ue},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Is(e){var t=Fs(e);t.next===null&&(t=e.alternate.memoizedState),Us(e,t.next.queue,{},Eu())}function Ls(){return la(dp)}function Rs(){return Bo().memoizedState}function zs(){return Bo().memoizedState}function Bs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Eu();e=Za(n);var r=Qa(t,e,n);r!==null&&(Ou(r,t,n),$a(r,t,n)),t={cache:ga()},e.payload=t;return}t=t.return}}function Vs(e,t,n){var r=Eu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e)?Ks(t,n):(n=ui(e,t,n,r),n!==null&&(Ou(n,e,r),qs(n,t,r)))}function Hs(e,t,n){Us(e,t,n,Eu())}function Us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Ks(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ar(s,o))return li(e,t,i,0),Xl===null&&ci(),!1}catch{}if(n=ui(e,t,i,r),n!==null)return Ou(n,e,r),qs(n,t,r),!0}return!1}function Ws(e,t,n,r){if(r={lane:2,revertLane:Td(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gs(e)){if(t)throw Error(i(479))}else t=ui(e,n,r,2),t!==null&&Ou(t,e,2)}function Gs(e){var t=e.alternate;return e===N||t!==null&&t===N}function Ks(e,t){wo=Co=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ut(e,n)}}var Js={readContext:la,use:Uo,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useLayoutEffect:Ao,useInsertionEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useSyncExternalStore:Ao,useId:Ao,useHostTransitionStatus:Ao,useFormState:Ao,useActionState:Ao,useOptimistic:Ao,useMemoCache:Ao,useCacheRefresh:Ao};Js.useEffectEvent=Ao;var Ys={readContext:la,use:Uo,useCallback:function(e,t){return zo().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:ys,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),_s(4194308,4,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){_s(4,2,e,t)},useMemo:function(e,t){var n=zo();t=t===void 0?null:t;var r=e();if(To){qe(!0);try{e()}finally{qe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zo();if(n!==void 0){var i=n(t);if(To){qe(!0);try{n(t)}finally{qe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Vs.bind(null,N,e),[r.memoizedState,e]},useRef:function(e){var t=zo();return e={current:e},t.memoizedState=e},useState:function(e){e=ts(e);var t=e.queue,n=Hs.bind(null,N,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ds,useDeferredValue:function(e,t){return As(zo(),e,t)},useTransition:function(){var e=ts(!1);return e=Ms.bind(null,N,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=N,a=zo();if(j){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Xl===null)throw Error(i(349));L&127||Xo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ys(Qo.bind(null,r,o,e),[e]),r.flags|=2048,hs(9,{destroy:void 0},Zo.bind(null,r,o,n,t),null),n},useId:function(){var e=zo(),t=Xl.identifierPrefix;if(j){var n=Fi,r=Pi;n=(r&~(1<<32-Je(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Eo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=ko++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ls,useFormState:us,useActionState:us,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ws.bind(null,N,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return zo().memoizedState=Bs.bind(null,N)},useEffectEvent:function(e){var t=zo(),n={impl:e};return t.memoizedState=n,function(){if(F&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Xs={readContext:la,use:Uo,useCallback:Os,useContext:la,useEffect:bs,useImperativeHandle:Es,useInsertionEffect:Cs,useLayoutEffect:ws,useMemo:ks,useReducer:Ko,useRef:gs,useState:function(){return Ko(Go)},useDebugValue:Ds,useDeferredValue:function(e,t){return js(Bo(),xo.memoizedState,e,t)},useTransition:function(){var e=Ko(Go)[0],t=Bo().memoizedState;return[typeof e==`boolean`?e:Ho(e),t]},useSyncExternalStore:Yo,useId:Rs,useHostTransitionStatus:Ls,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ns(Bo(),xo,e,t)},useMemoCache:Wo,useCacheRefresh:zs};Xs.useEffectEvent=Ss;var Zs={readContext:la,use:Uo,useCallback:Os,useContext:la,useEffect:bs,useImperativeHandle:Es,useInsertionEffect:Cs,useLayoutEffect:ws,useMemo:ks,useReducer:Jo,useRef:gs,useState:function(){return Jo(Go)},useDebugValue:Ds,useDeferredValue:function(e,t){var n=Bo();return xo===null?As(n,e,t):js(n,xo.memoizedState,e,t)},useTransition:function(){var e=Jo(Go)[0],t=Bo().memoizedState;return[typeof e==`boolean`?e:Ho(e),t]},useSyncExternalStore:Yo,useId:Rs,useHostTransitionStatus:Ls,useFormState:ms,useActionState:ms,useOptimistic:function(e,t){var n=Bo();return xo===null?(n.baseState=e,[e,n.queue.dispatch]):ns(n,xo,e,t)},useMemoCache:Wo,useCacheRefresh:zs};Zs.useEffectEvent=Ss;function Qs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:f({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $s={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Eu(),i=Za(r);i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(Ou(t,e,r),$a(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Eu(),i=Za(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qa(e,i,r),t!==null&&(Ou(t,e,r),$a(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Eu(),r=Za(n);r.tag=2,t!=null&&(r.callback=t),t=Qa(e,r,n),t!==null&&(Ou(t,e,n),$a(t,e,n))}};function ec(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!jr(n,r)||!jr(i,a):!0}function tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function nc(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function rc(e){ii(e)}function ic(e){console.error(e)}function ac(e){ii(e)}function oc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function sc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function cc(e,t,n){return n=Za(n),n.tag=3,n.payload={element:null},n.callback=function(){oc(e,t)},n}function lc(e){return e=Za(e),e.tag=3,e}function uc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){sc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){sc(t,n,r),typeof i!=`function`&&(gu===null?gu=new Set([this]):gu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function dc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&oa(t,n,a,!0),n=fo.current,n!==null){switch(n.tag){case 31:case 13:return po===null?Bu():n.alternate===null&&ru===0&&(ru=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),ad(e,r,a)),!1;case 22:return n.flags|=65536,r===Na?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),ad(e,r,a)),!1}throw Error(i(435,n.tag))}return ad(e,r,a),Bu(),!1}if(j)return t=fo.current,t===null?(r!==Gi&&(t=Error(i(423),{cause:r}),Qi(Ei(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Ei(r,n),a=cc(e.stateNode,r,a),eo(e,a),ru!==4&&(ru=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Gi&&(e=Error(i(422),{cause:r}),Qi(Ei(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Ei(o,n),lu===null?lu=[o]:lu.push(o),ru!==4&&(ru=2),t===null)return!0;r=Ei(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=cc(n.stateNode,r,e),eo(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(gu===null||!gu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=lc(a),uc(a,e,n,r),eo(n,a),!1}n=n.return}while(n!==null);return!1}var fc=Error(i(461)),pc=!1;function mc(e,t,n,r){t.child=e===null?qa(t,null,n,r):Ka(t,e.child,n,r)}function hc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ca(t),r=Mo(e,t,n,o,a,i),s=Io(),e!==null&&!pc?(Lo(e,t,i),zc(e,t,i)):(j&&s&&Ri(t),t.flags|=1,mc(e,t,r,i),t.child)}function gc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!_i(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,_c(e,t,a,r,i)):(e=bi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Bc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?jr:n,n(o,r)&&e.ref===t.ref)return zc(e,t,i)}return t.flags|=1,e=vi(a,r),e.ref=t.ref,e.return=t,t.child=e}function _c(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(jr(a,r)&&e.ref===t.ref)if(pc=!1,t.pendingProps=r=a,Bc(e,i))e.flags&131072&&(pc=!0);else return t.lanes=e.lanes,zc(e,t,i)}return Tc(e,t,n,r,i)}function vc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return bc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oa(t,a===null?null:a.cachePool),a===null?lo():co(t,a),go(t);else return r=t.lanes=536870912,bc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Oa(t,null),lo(),_o(t)):(Oa(t,a.cachePool),co(t,a),_o(t),t.memoizedState=null);return mc(e,t,i,n),t.child}function yc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bc(e,t,n,r,i){var a=Da();return a=a===null?null:{parent:ha._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Oa(t,null),lo(),go(t),e!==null&&oa(e,t,r,!0),t.childLanes=i,null}function xc(e,t){return t=Pc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sc(e,t,n){return Ka(t,e.child,null,n),e=xc(t,t.pendingProps),e.flags|=2,vo(t),t.memoizedState=null,e}function Cc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(j){if(r.mode===`hidden`)return e=xc(t,r),t.lanes=536870912,yc(null,e);if(ho(t),(e=Hi)?(e=vf(e,Wi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni===null?null:{id:Pi,overflow:Fi},retryLane:536870912,hydrationErrors:null},n=Ci(e),n.return=t,t.child=n,Vi=t,Hi=null)):e=null,e===null)throw Ki(t);return t.lanes=536870912,null}return xc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(ho(t),a)if(t.flags&256)t.flags&=-257,t=Sc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(pc||oa(e,t,n,!1),a=(n&e.childLanes)!==0,pc||a){if(r=Xl,r!==null&&(s=dt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,di(e,s),Ou(r,e,s),fc;Bu(),t=Sc(e,t,n)}else e=o.treeContext,Hi=Sf(s.nextSibling),Vi=t,j=!0,Ui=null,Wi=!1,e!==null&&Bi(t,e),t=xc(t,r),t.flags|=4096;return t}return e=vi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Tc(e,t,n,r,i){return ca(t),n=Mo(e,t,n,r,void 0,i),r=Io(),e!==null&&!pc?(Lo(e,t,i),zc(e,t,i)):(j&&r&&Ri(t),t.flags|=1,mc(e,t,n,i),t.child)}function Ec(e,t,n,r,i,a){return ca(t),t.updateQueue=null,n=Po(t,r,n,i),No(e),r=Io(),e!==null&&!pc?(Lo(e,t,a),zc(e,t,a)):(j&&r&&Ri(t),t.flags|=1,mc(e,t,n,a),t.child)}function Dc(e,t,n,r,i){if(ca(t),t.stateNode===null){var a=mi,o=n.contextType;typeof o==`object`&&o&&(a=la(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=$s,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ya(t),o=n.contextType,a.context=typeof o==`object`&&o?la(o):mi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Qs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&$s.enqueueReplaceState(a,a.state,null),ro(t,r,a,i),no(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=nc(n,s);a.props=c;var l=a.context,u=n.contextType;o=mi,typeof u==`object`&&u&&(o=la(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&tc(t,a,r,o),Ja=!1;var f=t.memoizedState;a.state=f,ro(t,r,a,i),no(),l=t.memoizedState,s||f!==l||Ja?(typeof d==`function`&&(Qs(t,n,d,r),l=t.memoizedState),(c=Ja||ec(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xa(e,t),o=t.memoizedProps,u=nc(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=mi,typeof l==`object`&&l&&(c=la(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&tc(t,a,r,c),Ja=!1,f=t.memoizedState,a.state=f,ro(t,r,a,i),no();var p=t.memoizedState;o!==d||f!==p||Ja||e!==null&&e.dependencies!==null&&sa(e.dependencies)?(typeof s==`function`&&(Qs(t,n,s,r),p=t.memoizedState),(u=Ja||ec(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&sa(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,wc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ka(t,e.child,null,i),t.child=Ka(t,null,n,i)):mc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=zc(e,t,i),e}function Oc(e,t,n,r){return Xi(),t.flags|=256,mc(e,t,n,r),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:ka()}}function jc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=su),e}function Mc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(yo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(j){if(a?mo(t):_o(t),(e=Hi)?(e=vf(e,Wi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni===null?null:{id:Pi,overflow:Fi},retryLane:536870912,hydrationErrors:null},n=Ci(e),n.return=t,t.child=n,Vi=t,Hi=null)):e=null,e===null)throw Ki(t);return bf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(_o(t),a=t.mode,c=Pc({mode:`hidden`,children:c},a),r=xi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Ac(n),r.childLanes=jc(e,s,n),t.memoizedState=kc,yc(null,r)):(mo(t),Nc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(mo(t),t.flags&=-257,t=Fc(e,t,n)):t.memoizedState===null?(_o(t),c=r.fallback,a=t.mode,r=Pc({mode:`visible`,children:r.children},a),c=xi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ka(t,e.child,null,n),r=t.child,r.memoizedState=Ac(n),r.childLanes=jc(e,s,n),t.memoizedState=kc,t=yc(null,r)):(_o(t),t.child=e.child,t.flags|=128,t=null);else if(mo(t),bf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Qi({value:r,source:null,stack:null}),t=Fc(e,t,n)}else if(pc||oa(e,t,n,!1),s=(n&e.childLanes)!==0,pc||s){if(s=Xl,s!==null&&(r=dt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,di(e,r),Ou(s,e,r),fc;yf(c)||Bu(),t=Fc(e,t,n)}else yf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Hi=Sf(c.nextSibling),Vi=t,j=!0,Ui=null,Wi=!1,e!==null&&Bi(t,e),t=Nc(t,r.children),t.flags|=4096);return t}return a?(_o(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=vi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=xi(c,a,n,null),c.flags|=2):c=vi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,yc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Ac(n):(a=c.cachePool,a===null?a=ka():(l=ha._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=jc(e,s,n),t.memoizedState=kc,yc(e.child,r)):(mo(t),n=e.child,e=n.sibling,n=vi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Nc(e,t){return t=Pc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Pc(e,t){return e=gi(22,e,null,t),e.lanes=0,e}function Fc(e,t,n){return Ka(t,e.child,null,n),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ic(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ia(e.return,t,n)}function Lc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=yo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,he(yo,o),mc(e,t,r,n),r=j?Ai:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ic(e,n,t);else if(e.tag===19)Ic(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&M(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&M(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lc(t,!0,n,null,a,r);break;case`together`:Lc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function zc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),iu|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(oa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&sa(e))):!0}function Vc(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),na(t,ha,e.memoizedState.cache),Xi();break;case 27:case 5:Se(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(mo(t),e=zc(e,t,n),e===null?null:e.sibling):Mc(e,t,n):(mo(t),t.flags|=128,null);mo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(oa(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Rc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(yo,yo.current),r)break;return null;case 22:return t.lanes=0,vc(e,t,n,t.pendingProps);case 24:na(t,ha,e.memoizedState.cache)}return zc(e,t,n)}function Hc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pc=!0;else{if(!Bc(e,n)&&!(t.flags&128))return pc=!1,Vc(e,t,n);pc=!!(e.flags&131072)}else pc=!1,j&&t.flags&1048576&&Li(t,Ai,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ia(t.elementType),t.type=e,typeof e==`function`)_i(e)?(r=nc(e,r),t.tag=1,t=Dc(null,t,e,r,n)):(t.tag=0,t=Tc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=hc(null,t,e,r,n);break a}else if(a===te){t.tag=14,t=gc(null,t,e,r,n);break a}}throw t=ce(e)||e,Error(i(306,t,``))}}return t;case 0:return Tc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=nc(r,t.pendingProps),Dc(e,t,r,a,n);case 3:a:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Xa(e,t),ro(t,r,null,n);var s=t.memoizedState;if(r=s.cache,na(t,ha,r),r!==o.cache&&aa(t,[ha],n,!0),no(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Oc(e,t,r,n);break a}else if(r!==a){a=Ei(Error(i(424)),t),Qi(a),t=Oc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Hi=Sf(e.firstChild),Vi=t,j=!0,Ui=null,Wi=!0,n=qa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Xi(),r===a){t=zc(e,t,n);break a}mc(e,t,r,n)}t=t.child}return t;case 26:return wc(e,t),e===null?(n=Uf(t.type,null,t.pendingProps,null))?t.memoizedState=n:j||(n=t.type,e=t.pendingProps,r=ef(ve.current).createElement(n),r[_t]=t,r[vt]=e,Jd(r,n,e),At(r),t.stateNode=r):t.memoizedState=Uf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&j&&(r=t.stateNode=Ef(t.type,t.pendingProps,ve.current),Vi=t,Wi=!0,a=Hi,ff(t.type)?(Cf=a,Hi=Sf(r.firstChild)):Hi=a),mc(e,t,t.pendingProps.children,n),wc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&j&&((a=r=Hi)&&(r=gf(r,t.type,t.pendingProps,Wi),r===null?a=!1:(t.stateNode=r,Vi=t,Hi=Sf(r.firstChild),Wi=!1,a=!0)),a||Ki(t)),Se(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,rf(a,o)?r=null:s!==null&&rf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Mo(e,t,Fo,null,null,n),dp._currentValue=a),wc(e,t),mc(e,t,r,n),t.child;case 6:return e===null&&j&&((e=n=Hi)&&(n=_f(n,t.pendingProps,Wi),n===null?e=!1:(t.stateNode=n,Vi=t,Hi=null,e=!0)),e||Ki(t)),null;case 13:return Mc(e,t,n);case 4:return be(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ka(t,null,r,n):mc(e,t,r,n),t.child;case 11:return hc(e,t,t.type,t.pendingProps,n);case 7:return mc(e,t,t.pendingProps,n),t.child;case 8:return mc(e,t,t.pendingProps.children,n),t.child;case 12:return mc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,na(t,t.type,r.value),mc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ca(t),a=la(a),r=r(a),t.flags|=1,mc(e,t,r,n),t.child;case 14:return gc(e,t,t.type,t.pendingProps,n);case 15:return _c(e,t,t.type,t.pendingProps,n);case 19:return Rc(e,t,n);case 31:return Cc(e,t,n);case 22:return vc(e,t,n,t.pendingProps);case 24:return ca(t),r=la(ha),e===null?(a=Da(),a===null&&(a=Xl,o=ga(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ya(t),na(t,ha,a)):((e.lanes&n)!==0&&(Xa(e,t),ro(t,null,null,n),no()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,na(t,ha,r),r!==a.cache&&aa(t,[ha],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),na(t,ha,r))),mc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Uc(e){e.flags|=4}function Wc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Lu())e.flags|=8192;else throw La=Na,ja}else e.flags&=-16777217}function Gc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!rp(t))if(Lu())e.flags|=8192;else throw La=Na,ja}function Kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:at(),e.lanes|=t,cu|=t)}function qc(e,t){if(!j)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yc(e,t,n){var r=t.pendingProps;switch(zi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jc(t),null;case 1:return Jc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(ha),xe(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Yi(t)?Uc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zi())),Jc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Uc(t),o===null?(Jc(t),Wc(t,a,null,r,n)):(Jc(t),Gc(t,o))):o?o===e.memoizedState?(Jc(t),t.flags&=-16777217):(Uc(t),Jc(t),Gc(t,o)):(e=e.memoizedProps,e!==r&&Uc(t),Jc(t),Wc(t,a,e,r,n)),null;case 27:if(Ce(t),n=ve.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Uc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Jc(t),null}e=ge.current,Yi(t)?qi(t,e):(e=Ef(a,r,n),t.stateNode=e,Uc(t))}return Jc(t),null;case 5:if(Ce(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Uc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Jc(t),null}if(o=ge.current,Yi(t))qi(t,o);else{var s=ef(ve.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[_t]=t,o[vt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Jd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Uc(t)}}return Jc(t),Wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Uc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ve.current,Yi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Vi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[_t]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Kd(e.nodeValue,n)),e||Ki(t,!0)}else e=ef(e).createTextNode(r),e[_t]=t,t.stateNode=e}return Jc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Yi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[_t]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jc(t),e=!1}else n=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(vo(t),t):(vo(t),null);if(t.flags&128)throw Error(i(558))}return Jc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Yi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[_t]=t}else Xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jc(t),a=!1}else a=Zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(vo(t),t):(vo(t),null)}return vo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kc(t,t.updateQueue),Jc(t),null);case 4:return xe(),e===null&&Id(t.stateNode.containerInfo),Jc(t),null;case 10:return ra(t.type),Jc(t),null;case 19:if(me(yo),r=t.memoizedState,r===null)return Jc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)qc(r,!1);else{if(ru!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=M(e),o!==null){for(t.flags|=128,qc(r,!1),e=o.updateQueue,t.updateQueue=e,Kc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yi(n,e),n=n.sibling;return he(yo,yo.current&1|2),j&&Ii(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ie()>mu&&(t.flags|=128,a=!0,qc(r,!1),t.lanes=4194304)}else{if(!a)if(e=M(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Kc(t,e),qc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!j)return Jc(t),null}else 2*Ie()-r.renderingStartTime>mu&&n!==536870912&&(t.flags|=128,a=!0,qc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Jc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ie(),e.sibling=null,n=yo.current,he(yo,a?n&1|2:n&1),j&&Ii(t,r.treeForkCount),e);case 22:case 23:return vo(t),uo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Jc(t),t.subtreeFlags&6&&(t.flags|=8192)):Jc(t),n=t.updateQueue,n!==null&&Kc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&me(Ea),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(ha),Jc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Xc(e,t){switch(zi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(ha),xe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 31:if(t.memoizedState!==null){if(vo(t),t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(vo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(yo),null;case 4:return xe(),null;case 10:return ra(t.type),null;case 22:case 23:return vo(t),uo(),e!==null&&me(Ea),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(ha),null;case 25:return null;default:return null}}function Zc(e,t){switch(zi(t),t.tag){case 3:ra(ha),xe();break;case 26:case 27:case 5:Ce(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&vo(t);break;case 13:vo(t);break;case 19:me(yo);break;case 10:ra(t.type);break;case 22:case 23:vo(t),uo(),e!==null&&me(Ea);break;case 24:ra(ha)}}function Qc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){id(t,t.return,e)}}function $c(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){id(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){id(t,t.return,e)}}function el(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ao(t,n)}catch(t){id(e,e.return,t)}}}function tl(e,t,n){n.props=nc(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){id(e,t,n)}}function nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){id(e,t,n)}}function rl(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){id(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){id(e,t,n)}else n.current=null}function il(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){id(e,e.return,t)}}function al(e,t,n){try{var r=e.stateNode;Yd(r,e.type,n,t),r[vt]=t}catch(t){id(e,e.return,t)}}function ol(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ff(e.type)||e.tag===4}function sl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ff(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(r!==4&&(r===27&&ff(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ff(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function ul(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Jd(t,r,n),t[_t]=e,t[vt]=n}catch(t){id(e,e.return,t)}}var dl=!1,fl=!1,pl=!1,ml=typeof WeakSet==`function`?WeakSet:Set,hl=null;function gl(e,t){if(e=e.containerInfo,Qd=bp,e=Fr(e),Ir(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},bp=!1,hl=t;hl!==null;)if(t=hl,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,hl=e;else for(;hl!==null;){switch(t=hl,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=nc(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){id(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:hf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,hl=e;break}hl=t.return}}function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:jl(e,n),r&4&&Qc(5,n);break;case 1:if(jl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){id(n,n.return,e)}else{var i=nc(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){id(n,n.return,e)}}r&64&&el(n),r&512&&nl(n,n.return);break;case 3:if(jl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ao(e,t)}catch(e){id(n,n.return,e)}}break;case 27:t===null&&r&4&&ul(n);case 26:case 5:jl(e,n),t===null&&r&4&&il(n),r&512&&nl(n,n.return);break;case 12:jl(e,n);break;case 31:jl(e,n),r&4&&Sl(e,n);break;case 13:jl(e,n),r&4&&Cl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=cd.bind(null,n),xf(e,n))));break;case 22:if(r=n.memoizedState!==null||dl,!r){t=t!==null&&t.memoizedState!==null||fl,i=dl;var a=fl;dl=r,(fl=t)&&!a?Nl(e,n,(n.subtreeFlags&8772)!=0):jl(e,n),dl=i,fl=a}break;case 30:break;default:jl(e,n)}}function vl(e){var t=e.alternate;t!==null&&(e.alternate=null,vl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var P=null,yl=!1;function bl(e,t,n){for(n=n.child;n!==null;)xl(e,t,n),n=n.sibling}function xl(e,t,n){if(Ke&&typeof Ke.onCommitFiberUnmount==`function`)try{Ke.onCommitFiberUnmount(Ge,n)}catch{}switch(n.tag){case 26:fl||rl(n,t),bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:fl||rl(n,t);var r=P,i=yl;ff(n.type)&&(P=n.stateNode,yl=!1),bl(e,t,n),Df(n.stateNode),P=r,yl=i;break;case 5:fl||rl(n,t);case 6:if(r=P,i=yl,P=null,bl(e,t,n),P=r,yl=i,P!==null)if(yl)try{(P.nodeType===9?P.body:P.nodeName===`HTML`?P.ownerDocument.body:P).removeChild(n.stateNode)}catch(e){id(n,t,e)}else try{P.removeChild(n.stateNode)}catch(e){id(n,t,e)}break;case 18:P!==null&&(yl?(e=P,pf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Kp(e)):pf(P,n.stateNode));break;case 4:r=P,i=yl,P=n.stateNode.containerInfo,yl=!0,bl(e,t,n),P=r,yl=i;break;case 0:case 11:case 14:case 15:$c(2,n,t),fl||$c(4,n,t),bl(e,t,n);break;case 1:fl||(rl(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&tl(n,t,r)),bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:fl=(r=fl)||n.memoizedState!==null,bl(e,t,n),fl=r;break;default:bl(e,t,n)}}function Sl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Kp(e)}catch(e){id(t,t.return,e)}}}function Cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kp(e)}catch(e){id(t,t.return,e)}}function wl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ml),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ml),t;default:throw Error(i(435,e.tag))}}function Tl(e,t){var n=wl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ld.bind(null,e,t);t.then(r,r)}})}function El(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ff(c.type)){P=c.stateNode,yl=!1;break a}break;case 5:P=c.stateNode,yl=!1;break a;case 3:case 4:P=c.stateNode.containerInfo,yl=!0;break a}c=c.return}if(P===null)throw Error(i(160));xl(o,s,a),P=null,yl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ol(t,e),t=t.sibling}var Dl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:El(t,e),kl(e),r&4&&($c(3,e,e.return),Qc(3,e),$c(5,e,e.return));break;case 1:El(t,e),kl(e),r&512&&(fl||n===null||rl(n,n.return)),r&64&&dl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Dl;if(El(t,e),kl(e),r&512&&(fl||n===null||rl(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[wt]||o[_t]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Jd(o,r,n),o[_t]=e,At(o),r=o;break a;case`link`:var s=ep(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Jd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=ep(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Jd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[_t]=e,At(o),r=o}e.stateNode=r}else tp(a,e.type,e.stateNode);else e.stateNode=Yf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&al(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?tp(a,e.type,e.stateNode):Yf(a,r,e.memoizedProps))}break;case 27:El(t,e),kl(e),r&512&&(fl||n===null||rl(n,n.return)),n!==null&&r&4&&al(e,e.memoizedProps,n.memoizedProps);break;case 5:if(El(t,e),kl(e),r&512&&(fl||n===null||rl(n,n.return)),e.flags&32){a=e.stateNode;try{tn(a,``)}catch(t){id(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,al(e,a,n===null?a:n.memoizedProps)),r&1024&&(pl=!0);break;case 6:if(El(t,e),kl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){id(e,e.return,t)}}break;case 3:if($f=null,a=Dl,Dl=Af(t.containerInfo),El(t,e),Dl=a,kl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kp(t.containerInfo)}catch(t){id(e,e.return,t)}pl&&(pl=!1,Al(e));break;case 4:r=Dl,Dl=Af(e.stateNode.containerInfo),El(t,e),kl(e),Dl=r;break;case 12:El(t,e),kl(e);break;case 31:El(t,e),kl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 13:El(t,e),kl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fu=Ie()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=dl,d=fl;if(dl=u||a,fl=d||l,El(t,e),fl=d,dl=u,kl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||dl||fl||Ml(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){id(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){id(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?mf(m,!0):mf(l.stateNode,!1)}catch(e){id(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Tl(e,n))));break;case 19:El(t,e),kl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Tl(e,r)));break;case 30:break;case 21:break;default:El(t,e),kl(e)}}function kl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(ol(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;ll(e,sl(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(tn(o,``),n.flags&=-33),ll(e,sl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;cl(e,sl(e),s);break;default:throw Error(i(161))}}catch(t){id(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Al(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Al(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_l(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:$c(4,t,t.return),Ml(t);break;case 1:rl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&tl(t,t.return,n),Ml(t);break;case 27:Df(t.stateNode);case 26:case 5:rl(t,t.return),Ml(t);break;case 22:t.memoizedState===null&&Ml(t);break;case 30:Ml(t);break;default:Ml(t)}e=e.sibling}}function Nl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Nl(i,a,n),Qc(4,a);break;case 1:if(Nl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){id(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)io(c[i],s)}catch(e){id(r,r.return,e)}}n&&o&64&&el(a),nl(a,a.return);break;case 27:ul(a);case 26:case 5:Nl(i,a,n),n&&r===null&&o&4&&il(a),nl(a,a.return);break;case 12:Nl(i,a,n);break;case 31:Nl(i,a,n),n&&o&4&&Sl(i,a);break;case 13:Nl(i,a,n),n&&o&4&&Cl(i,a);break;case 22:a.memoizedState===null&&Nl(i,a,n),nl(a,a.return);break;case 30:break;default:Nl(i,a,n)}t=t.sibling}}function Pl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_a(n))}function Fl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e))}function Il(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ll(e,t,n,r),t=t.sibling}function Ll(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Il(e,t,n,r),i&2048&&Qc(9,t);break;case 1:Il(e,t,n,r);break;case 3:Il(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_a(e)));break;case 12:if(i&2048){Il(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){id(t,t.return,e)}}else Il(e,t,n,r);break;case 31:Il(e,t,n,r);break;case 13:Il(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Il(e,t,n,r):(a._visibility|=2,Rl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Il(e,t,n,r):zl(e,t),i&2048&&Pl(o,t);break;case 24:Il(e,t,n,r),i&2048&&Fl(t.alternate,t);break;default:Il(e,t,n,r)}}function Rl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Rl(a,o,s,c,i),Qc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Rl(a,o,s,c,i)):u._visibility&2?Rl(a,o,s,c,i):zl(a,o),i&&l&2048&&Pl(o.alternate,o);break;case 24:Rl(a,o,s,c,i),i&&l&2048&&Fl(o.alternate,o);break;default:Rl(a,o,s,c,i)}t=t.sibling}}function zl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:zl(n,r),i&2048&&Pl(r.alternate,r);break;case 24:zl(n,r),i&2048&&Fl(r.alternate,r);break;default:zl(n,r)}t=t.sibling}}var Bl=8192;function Vl(e,t,n){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)Hl(e,t,n),e=e.sibling}function Hl(e,t,n){switch(e.tag){case 26:Vl(e,t,n),e.flags&Bl&&e.memoizedState!==null&&ip(n,Dl,e.memoizedState,e.memoizedProps);break;case 5:Vl(e,t,n);break;case 3:case 4:var r=Dl;Dl=Af(e.stateNode.containerInfo),Vl(e,t,n),Dl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,Vl(e,t,n),Bl=r):Vl(e,t,n));break;default:Vl(e,t,n)}}function Ul(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];hl=r,ql(r,e)}Ul(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&$c(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kl(e)):Wl(e);break;default:Wl(e)}}function Kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];hl=r,ql(r,e)}Ul(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:$c(8,t,t.return),Kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Kl(t));break;default:Kl(t)}e=e.sibling}}function ql(e,t){for(;hl!==null;){var n=hl;switch(n.tag){case 0:case 11:case 15:$c(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_a(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,hl=r;else a:for(n=e;hl!==null;){r=hl;var i=r.sibling,a=r.return;if(vl(r),r===n){hl=null;break a}if(i!==null){i.return=a,hl=i;break a}hl=a}}}var Jl={getCacheForType:function(e){var t=la(ha),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return la(ha).controller.signal}},Yl=typeof WeakMap==`function`?WeakMap:Map,F=0,Xl=null,I=null,L=0,Zl=0,Ql=null,$l=!1,eu=!1,tu=!1,nu=0,ru=0,iu=0,au=0,ou=0,su=0,cu=0,lu=null,uu=null,du=!1,fu=0,pu=0,mu=1/0,hu=null,gu=null,_u=0,vu=null,yu=null,bu=0,xu=0,Su=null,Cu=null,wu=0,Tu=null;function Eu(){return F&2&&L!==0?L&-L:E.T===null?mt():Td()}function Du(){if(su===0)if(!(L&536870912)||j){var e=$e;$e<<=1,!($e&3932160)&&($e=262144),su=e}else su=536870912;return e=fo.current,e!==null&&(e.flags|=32),su}function Ou(e,t,n){(e===Xl&&(Zl===2||Zl===9)||e.cancelPendingCommit!==null)&&(Fu(e,0),Mu(e,L,su,!1)),st(e,n),(!(F&2)||e!==Xl)&&(e===Xl&&(!(F&2)&&(au|=n),ru===4&&Mu(e,L,su,!1)),_d(e))}function ku(e,t,n){if(F&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||rt(e,t),a=r?Uu(e,t):Vu(e,t,!0),o=r;do{if(a===0){eu&&!r&&Mu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!ju(n)){a=Vu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=lu;var l=c.current.memoizedState.isDehydrated;if(l&&(Fu(c,s).flags|=256),s=Vu(c,s,!1),s!==2){if(tu&&!l){c.errorRecoveryDisabledLanes|=o,au|=o,a=4;break a}o=uu,uu=a,o!==null&&(uu===null?uu=o:uu.push.apply(uu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Fu(e,0),Mu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Mu(r,t,su,!$l);break a;case 2:uu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=fu+300-Ie(),10<a)){if(Mu(r,t,su,!$l),nt(r,0,!0)!==0)break a;bu=t,r.timeoutHandle=sf(Au.bind(null,r,n,uu,hu,du,t,su,au,cu,$l,o,`Throttled`,-0,0),a);break a}Au(r,n,uu,hu,du,t,su,au,cu,$l,o,null,-0,0)}}break}while(1);_d(e)}function Au(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Hl(t,a,d);var m=(a&62914560)===a?fu-Ie():(a&4194048)===a?pu-Ie():0;if(m=op(d,m),m!==null){bu=a,e.cancelPendingCommit=m(Xu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Mu(e,a,o,!l);return}}Xu(e,t,a,n,r,i,o,s,c)}function ju(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ar(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mu(e,t,n,r){t&=~ou,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Je(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&lt(e,n,t)}function Nu(){return F&6?!0:(vd(0,!1),!1)}function Pu(){if(I!==null){if(Zl===0)var e=I.return;else e=I,ta=ea=null,Ro(e),Ba=null,Va=0,e=I;for(;e!==null;)Zc(e.alternate,e),e=e.return;I=null}}function Fu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,cf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bu=0,Pu(),Xl=e,I=n=vi(e.current,null),L=t,Zl=0,Ql=null,$l=!1,eu=rt(e,t),tu=!1,cu=su=ou=au=iu=ru=0,uu=lu=null,du=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Je(r),a=1<<i;t|=e[i],r&=~a}return nu=t,ci(),n}function Iu(e,t){N=null,E.H=Js,t===Aa||t===Ma?(t=Ra(),Zl=3):t===ja?(t=Ra(),Zl=4):Zl=t===fc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Ql=t,I===null&&(ru=1,oc(e,Ei(t,e.current)))}function Lu(){var e=fo.current;return e===null?!0:(L&4194048)===L?po===null:(L&62914560)===L||L&536870912?e===po:!1}function Ru(){var e=E.H;return E.H=Js,e===null?Js:e}function zu(){var e=E.A;return E.A=Jl,e}function Bu(){ru=4,$l||(L&4194048)!==L&&fo.current!==null||(eu=!0),!(iu&134217727)&&!(au&134217727)||Xl===null||Mu(Xl,L,su,!1)}function Vu(e,t,n){var r=F;F|=2;var i=Ru(),a=zu();(Xl!==e||L!==t)&&(hu=null,Fu(e,t)),t=!1;var o=ru;a:do try{if(Zl!==0&&I!==null){var s=I,c=Ql;switch(Zl){case 8:Pu(),o=6;break a;case 3:case 2:case 9:case 6:fo.current===null&&(t=!0);var l=Zl;if(Zl=0,Ql=null,qu(e,s,c,l),n&&eu){o=0;break a}break;default:l=Zl,Zl=0,Ql=null,qu(e,s,c,l)}}Hu(),o=ru;break}catch(t){Iu(e,t)}while(1);return t&&e.shellSuspendCounter++,ta=ea=null,F=r,E.H=i,E.A=a,I===null&&(Xl=null,L=0,ci()),o}function Hu(){for(;I!==null;)Gu(I)}function Uu(e,t){var n=F;F|=2;var r=Ru(),a=zu();Xl!==e||L!==t?(hu=null,mu=Ie()+500,Fu(e,t)):eu=rt(e,t);a:do try{if(Zl!==0&&I!==null){t=I;var o=Ql;b:switch(Zl){case 1:Zl=0,Ql=null,qu(e,t,o,1);break;case 2:case 9:if(Pa(o)){Zl=0,Ql=null,Ku(t);break}t=function(){Zl!==2&&Zl!==9||Xl!==e||(Zl=7),_d(e)},o.then(t,t);break a;case 3:Zl=7;break a;case 4:Zl=5;break a;case 7:Pa(o)?(Zl=0,Ql=null,Ku(t)):(Zl=0,Ql=null,qu(e,t,o,7));break;case 5:var s=null;switch(I.tag){case 26:s=I.memoizedState;case 5:case 27:var c=I;if(s?rp(s):c.stateNode.complete){Zl=0,Ql=null;var l=c.sibling;if(l!==null)I=l;else{var u=c.return;u===null?I=null:(I=u,Ju(u))}break b}}Zl=0,Ql=null,qu(e,t,o,5);break;case 6:Zl=0,Ql=null,qu(e,t,o,6);break;case 8:Pu(),ru=6;break a;default:throw Error(i(462))}}Wu();break}catch(t){Iu(e,t)}while(1);return ta=ea=null,E.H=r,E.A=a,F=n,I===null?(Xl=null,L=0,ci(),ru):0}function Wu(){for(;I!==null&&!Pe();)Gu(I)}function Gu(e){var t=Hc(e.alternate,e,nu);e.memoizedProps=e.pendingProps,t===null?Ju(e):I=t}function Ku(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ec(n,t,t.pendingProps,t.type,void 0,L);break;case 11:t=Ec(n,t,t.pendingProps,t.type.render,t.ref,L);break;case 5:Ro(t);default:Zc(n,t),t=I=yi(t,nu),t=Hc(n,t,nu)}e.memoizedProps=e.pendingProps,t===null?Ju(e):I=t}function qu(e,t,n,r){ta=ea=null,Ro(t),Ba=null,Va=0;var i=t.return;try{if(dc(e,i,t,n,L)){ru=1,oc(e,Ei(n,e.current)),I=null;return}}catch(t){if(i!==null)throw I=i,t;ru=1,oc(e,Ei(n,e.current)),I=null;return}t.flags&32768?(j||r===1?e=!0:eu||L&536870912?e=!1:($l=e=!0,(r===2||r===9||r===3||r===6)&&(r=fo.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yu(t,e)):Ju(t)}function Ju(e){var t=e;do{if(t.flags&32768){Yu(t,$l);return}e=t.return;var n=Yc(t.alternate,t,nu);if(n!==null){I=n;return}if(t=t.sibling,t!==null){I=t;return}I=t=e}while(t!==null);ru===0&&(ru=5)}function Yu(e,t){do{var n=Xc(e.alternate,e);if(n!==null){n.flags&=32767,I=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){I=e;return}I=e=n}while(e!==null);ru=6,I=null}function Xu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do td();while(_u!==0);if(F&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=si,ct(e,n,o,s,c,l),e===Xl&&(I=Xl=null,L=0),yu=t,vu=e,bu=n,xu=o,Su=a,Cu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ud(Be,function(){return nd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=E.T,E.T=null,a=D.p,D.p=2,s=F,F|=4;try{gl(e,t,n)}finally{F=s,D.p=a,E.T=r}}_u=1,Zu(),Qu(),$u()}}function Zu(){if(_u===1){_u=0;var e=vu,t=yu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=F;F|=4;try{Ol(t,e);var a=$d,o=Fr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Pr(s.ownerDocument.documentElement,s)){if(c!==null&&Ir(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Nr(s,h),v=Nr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}bp=!!Qd,$d=Qd=null}finally{F=i,D.p=r,E.T=n}}e.current=t,_u=2}}function Qu(){if(_u===2){_u=0;var e=vu,t=yu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=E.T,E.T=null;var r=D.p;D.p=2;var i=F;F|=4;try{_l(e,t.alternate,t)}finally{F=i,D.p=r,E.T=n}}_u=3}}function $u(){if(_u===4||_u===3){_u=0,Fe();var e=vu,t=yu,n=bu,r=Cu;t.subtreeFlags&10256||t.flags&10256?_u=5:(_u=0,yu=vu=null,ed(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(gu=null),pt(n),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot==`function`)try{Ke.onCommitFiberRoot(Ge,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=E.T,i=D.p,D.p=2,E.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{E.T=t,D.p=i}}bu&3&&td(),_d(e),i=e.pendingLanes,n&261930&&i&42?e===Tu?wu++:(wu=0,Tu=e):wu=0,vd(0,!1)}}function ed(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_a(t)))}function td(){return Zu(),Qu(),$u(),nd()}function nd(){if(_u!==5)return!1;var e=vu,t=xu;xu=0;var n=pt(bu),r=E.T,a=D.p;try{D.p=32>n?32:n,E.T=null,n=Su,Su=null;var o=vu,s=bu;if(_u=0,yu=vu=null,bu=0,F&6)throw Error(i(331));var c=F;if(F|=4,Gl(o.current),Ll(o,o.current,s,n),F=c,vd(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot==`function`)try{Ke.onPostCommitFiberRoot(Ge,o)}catch{}return!0}finally{D.p=a,E.T=r,ed(e,t)}}function rd(e,t,n){t=Ei(n,t),t=cc(e.stateNode,t,2),e=Qa(e,t,2),e!==null&&(st(e,2),_d(e))}function id(e,t,n){if(e.tag===3)rd(e,e,n);else for(;t!==null;){if(t.tag===3){rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(gu===null||!gu.has(r))){e=Ei(n,e),n=lc(2),r=Qa(t,n,2),r!==null&&(uc(n,r,t,e),st(r,2),_d(r));break}}t=t.return}}function ad(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(tu=!0,i.add(n),e=od.bind(null,e,t,n),t.then(e,e))}function od(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Xl===e&&(L&n)===n&&(ru===4||ru===3&&(L&62914560)===L&&300>Ie()-fu?!(F&2)&&Fu(e,0):ou|=n,cu===L&&(cu=0)),_d(e)}function sd(e,t){t===0&&(t=at()),e=di(e,t),e!==null&&(st(e,t),_d(e))}function cd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sd(e,n)}function ld(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),sd(e,n)}function ud(e,t){return Me(e,t)}var dd=null,fd=null,pd=!1,md=!1,hd=!1,gd=0;function _d(e){e!==fd&&e.next===null&&(fd===null?dd=fd=e:fd=fd.next=e),md=!0,pd||(pd=!0,wd())}function vd(e,t){if(!hd&&md){hd=!0;do for(var n=!1,r=dd;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Je(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Cd(r,a))}else a=L,a=nt(r,r===Xl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||rt(r,a)||(n=!0,Cd(r,a));r=r.next}while(n);hd=!1}}function yd(){bd()}function bd(){md=pd=!1;var e=0;gd!==0&&of()&&(e=gd);for(var t=Ie(),n=null,r=dd;r!==null;){var i=r.next,a=xd(r,t);a===0?(r.next=null,n===null?dd=i:n.next=i,i===null&&(fd=n)):(n=r,(e!==0||a&3)&&(md=!0)),r=i}_u!==0&&_u!==5||vd(e,!1),gd!==0&&(gd=0)}function xd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Je(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=it(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Xl,n=L,n=nt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Zl===2||Zl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ne(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ne(r),pt(n)){case 2:case 8:n=ze;break;case 32:n=Be;break;case 268435456:n=He;break;default:n=Be}return r=Sd.bind(null,e),n=Me(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Sd(e,t){if(_u!==0&&_u!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=L;return r=nt(e,e===Xl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(ku(e,r,t),xd(e,Ie()),e.callbackNode!=null&&e.callbackNode===n?Sd.bind(null,e):null)}function Cd(e,t){if(td())return null;ku(e,t,!0)}function wd(){uf(function(){F&6?Me(Re,yd):bd()})}function Td(){if(gd===0){var e=ba;e===0&&(e=Qe,Qe<<=1,!(Qe&261888)&&(Qe=256)),gd=e}return gd}function Ed(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:ln(``+e)}function Dd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Od(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=Ed((i[vt]||null).action),o=r.submitter;o&&(t=(t=o[vt]||null)?Ed(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new An(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(gd!==0){var e=o?Dd(i,o):new FormData(i);Ps(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Dd(i,o):new FormData(i),Ps(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var kd=0;kd<ni.length;kd++){var Ad=ni[kd];ri(Ad.toLowerCase(),`on`+(Ad[0].toUpperCase()+Ad.slice(1)))}ri(Jr,`onAnimationEnd`),ri(Yr,`onAnimationIteration`),ri(Xr,`onAnimationStart`),ri(`dblclick`,`onDoubleClick`),ri(`focusin`,`onFocus`),ri(`focusout`,`onBlur`),ri(Zr,`onTransitionRun`),ri(Qr,`onTransitionStart`),ri($r,`onTransitionCancel`),ri(ei,`onTransitionEnd`),Pt(`onMouseEnter`,[`mouseout`,`mouseover`]),Pt(`onMouseLeave`,[`mouseout`,`mouseover`]),Pt(`onPointerEnter`,[`pointerout`,`pointerover`]),Pt(`onPointerLeave`,[`pointerout`,`pointerover`]),Nt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Nt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Nt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Nt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Nt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var jd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Md=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(jd));function Nd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ii(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ii(e)}i.currentTarget=null,a=c}}}}function R(e,t){var n=t[bt];n===void 0&&(n=t[bt]=new Set);var r=e+`__bubble`;n.has(r)||(Ld(t,e,2,!1),n.add(r))}function Pd(e,t,n){var r=0;t&&(r|=4),Ld(n,e,r,t)}var Fd=`_reactListening`+Math.random().toString(36).slice(2);function Id(e){if(!e[Fd]){e[Fd]=!0,jt.forEach(function(t){t!==`selectionchange`&&(Md.has(t)||Pd(t,!1,e),Pd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fd]||(t[Fd]=!0,Pd(`selectionchange`,!1,t))}}function Ld(e,t,n,r){switch(Dp(t)){case 2:var i=xp;break;case 8:i=Sp;break;default:i=Cp}n=i.bind(null,t,n,e),i=void 0,!bn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Rd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=Et(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}_n(function(){var r=a,i=fn(n),s=[];a:{var c=ti.get(e);if(c!==void 0){var l=An,u=e;switch(e){case`keypress`:if(Tn(n)===0)break a;case`keydown`:case`keyup`:l=Jn;break;case`focusin`:u=`focus`,l=zn;break;case`focusout`:u=`blur`,l=zn;break;case`beforeblur`:case`afterblur`:l=zn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Ln;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Rn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Xn;break;case Jr:case Yr:case Xr:l=Bn;break;case ei:l=Zn;break;case`scroll`:case`scrollend`:l=Mn;break;case`wheel`:l=Qn;break;case`copy`:case`cut`:case`paste`:l=Vn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Yn;break;case`toggle`:case`beforetoggle`:l=$n}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=vn(m,p),g!=null&&d.push(zd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==dn&&(u=n.relatedTarget||n.fromElement)&&(Et(u)||u[yt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Et(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Ln,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Yn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ot(l),h=u==null?c:Ot(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,Et(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Vd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Hd(s,c,l,d,!1),u!==null&&f!==null&&Hd(s,f,u,d,!0)}}a:{if(c=r?Ot(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=vr;else if(fr(c))if(yr)v=Or;else{v=Er;var y=Tr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&on(r.elementType)&&(v=vr):v=Dr;if(v&&=v(e,r)){pr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Zt(c,`number`,c.value)}switch(y=r?Ot(r):window,e){case`focusin`:(fr(y)||y.contentEditable===`true`)&&(Rr=y,zr=r,Br=null);break;case`focusout`:Br=zr=Rr=null;break;case`mousedown`:Vr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Vr=!1,Hr(s,n,i);break;case`selectionchange`:if(Lr)break;case`keydown`:case`keyup`:Hr(s,n,i)}var b;if(er)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else cr?or(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(rr&&n.locale!==`ko`&&(cr||x!==`onCompositionStart`?x===`onCompositionEnd`&&cr&&(b=k()):(Sn=i,Cn=`value`in Sn?Sn.value:Sn.textContent,cr=!0)),y=Bd(r,x),0<y.length&&(x=new Hn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=sr(n),b!==null&&(x.data=b)))),(b=nr?lr(e,n):ur(e,n))&&(x=Bd(r,`onBeforeInput`),0<x.length&&(y=new Hn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Od(s,e,r,n,i)}Nd(s,t)})}function zd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=vn(e,n),i!=null&&r.unshift(zd(e,i,a)),i=vn(e,t),i!=null&&r.push(zd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Vd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=vn(n,a),l!=null&&o.unshift(zd(n,l,c))):i||(l=vn(n,a),l!=null&&o.push(zd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ud=/\r\n?/g,Wd=/\u0000|\uFFFD/g;function Gd(e){return(typeof e==`string`?e:``+e).replace(Ud,`
`).replace(Wd,``)}function Kd(e,t){return t=Gd(t),Gd(e)===t}function z(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&tn(e,``+r);break;case`className`:Bt(e,`class`,r);break;case`tabIndex`:Bt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Bt(e,n,r);break;case`style`:an(e,r,o);break;case`data`:if(t!==`object`){Bt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&z(e,t,`name`,a.name,a,null),z(e,t,`formEncType`,a.formEncType,a,null),z(e,t,`formMethod`,a.formMethod,a,null),z(e,t,`formTarget`,a.formTarget,a,null)):(z(e,t,`encType`,a.encType,a,null),z(e,t,`method`,a.method,a,null),z(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=ln(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=un);break;case`onScroll`:r!=null&&R(`scroll`,e);break;case`onScrollEnd`:r!=null&&R(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=ln(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:R(`beforetoggle`,e),R(`toggle`,e),zt(e,`popover`,r);break;case`xlinkActuate`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Vt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Vt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:zt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=sn.get(n)||n,zt(e,n,r))}}function qd(e,t,n,r,a,o){switch(n){case`style`:an(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?tn(e,r):(typeof r==`number`||typeof r==`bigint`)&&tn(e,``+r);break;case`onScroll`:r!=null&&R(`scroll`,e);break;case`onScrollEnd`:r!=null&&R(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=un);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Mt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[vt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):zt(e,n,r)}}}function Jd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:R(`error`,e),R(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:z(e,t,o,s,n,null)}}a&&z(e,t,`srcSet`,n.srcSet,n,null),r&&z(e,t,`src`,n.src,n,null);return;case`input`:R(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:z(e,t,r,d,n,null)}}Xt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in R(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:z(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Qt(e,!!r,n,!0):Qt(e,!!r,t,!1);return;case`textarea`:for(s in R(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:z(e,t,s,c,n,null)}en(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:z(e,t,l,r,n,null)}return;case`dialog`:R(`beforetoggle`,e),R(`toggle`,e),R(`cancel`,e),R(`close`,e);break;case`iframe`:case`object`:R(`load`,e);break;case`video`:case`audio`:for(r=0;r<jd.length;r++)R(jd[r],e);break;case`image`:R(`error`,e),R(`load`,e);break;case`details`:R(`toggle`,e);break;case`embed`:case`source`:case`link`:R(`error`,e),R(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:z(e,t,u,r,n,null)}return;default:if(on(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&qd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&z(e,t,c,r,n,null))}function Yd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||z(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&z(e,t,p,m,r,f)}}Yt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||z(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&z(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Qt(e,!!n,n?[]:``,!1):Qt(e,!!n,t,!0)):Qt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:z(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&z(e,t,s,a,r,o)}$t(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:z(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:z(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&z(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:z(e,t,u,p,r,m)}return;default:if(on(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&qd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||qd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&z(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||z(e,t,f,p,r,m)}function Xd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Xd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Xd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Qd=null,$d=null;function ef(e){return e.nodeType===9?e:e.ownerDocument}function tf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function nf(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function rf(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=null;function of(){var e=window.event;return e&&e.type===`popstate`?e===af?!1:(af=e,!0):(af=null,!1)}var sf=typeof setTimeout==`function`?setTimeout:void 0,cf=typeof clearTimeout==`function`?clearTimeout:void 0,lf=typeof Promise==`function`?Promise:void 0,uf=typeof queueMicrotask==`function`?queueMicrotask:lf===void 0?sf:function(e){return lf.resolve(null).then(e).catch(df)};function df(e){setTimeout(function(){throw e})}function ff(e){return e===`head`}function pf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Kp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)Df(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,Df(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[wt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&Df(e.ownerDocument.body);n=i}while(n);Kp(t)}function mf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:hf(n),Tt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function gf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[wt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=Sf(e.nextSibling),e===null)break}return null}function _f(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=Sf(e.nextSibling),e===null))return null;return e}function vf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=Sf(e.nextSibling),e===null))return null;return e}function yf(e){return e.data===`$?`||e.data===`$~`}function bf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function xf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function Sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Cf=null;function wf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return Sf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Ef(e,t,n){switch(t=ef(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Df(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tt(e)}var Of=new Map,kf=new Set;function Af(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jf=D.d;D.d={f:Mf,r:Nf,D:If,C:Lf,L:Rf,m:zf,X:Vf,S:Bf,M:Hf};function Mf(){var e=jf.f(),t=Nu();return e||t}function Nf(e){var t=Dt(e);t!==null&&t.tag===5&&t.type===`form`?Is(t):jf.r(e)}var Pf=typeof document>`u`?null:document;function Ff(e,t,n){var r=Pf;if(r&&typeof t==`string`&&t){var i=Jt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),kf.has(i)||(kf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Jd(t,`link`,e),At(t),r.head.appendChild(t)))}}function If(e){jf.D(e),Ff(`dns-prefetch`,e,null)}function Lf(e,t){jf.C(e,t),Ff(`preconnect`,e,t)}function Rf(e,t,n){jf.L(e,t,n);var r=Pf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Jt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Jt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Jt(n.imageSizes)+`"]`)):i+=`[href="`+Jt(e)+`"]`;var a=i;switch(t){case`style`:a=Wf(e);break;case`script`:a=qf(e)}Of.has(a)||(e=f({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Of.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Gf(a))||t===`script`&&r.querySelector(Jf(a))||(t=r.createElement(`link`),Jd(t,`link`,e),At(t),r.head.appendChild(t)))}}function zf(e,t){jf.m(e,t);var n=Pf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Jt(r)+`"][href="`+Jt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=qf(e)}if(!Of.has(a)&&(e=f({rel:`modulepreload`,href:e},t),Of.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Jf(a)))return}r=n.createElement(`link`),Jd(r,`link`,e),At(r),n.head.appendChild(r)}}}function Bf(e,t,n){jf.S(e,t,n);var r=Pf;if(r&&e){var i=kt(r).hoistableStyles,a=Wf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gf(a)))s.loading=5;else{e=f({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Of.get(a))&&Zf(e,n);var c=o=r.createElement(`link`);At(c),Jd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Xf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Vf(e,t){jf.X(e,t);var n=Pf;if(n&&e){var r=kt(n).hoistableScripts,i=qf(e),a=r.get(i);a||(a=n.querySelector(Jf(i)),a||(e=f({src:e,async:!0},t),(t=Of.get(i))&&Qf(e,t),a=n.createElement(`script`),At(a),Jd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Hf(e,t){jf.M(e,t);var n=Pf;if(n&&e){var r=kt(n).hoistableScripts,i=qf(e),a=r.get(i);a||(a=n.querySelector(Jf(i)),a||(e=f({src:e,async:!0,type:`module`},t),(t=Of.get(i))&&Qf(e,t),a=n.createElement(`script`),At(a),Jd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Uf(e,t,n,r){var a=(a=ve.current)?Af(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Wf(n.href),n=kt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Wf(n.href);var o=kt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Gf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Of.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Of.set(e,n),o||Kf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=qf(n),n=kt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wf(e){return`href="`+Jt(e)+`"`}function Gf(e){return`link[rel="stylesheet"][`+e+`]`}function B(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Kf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Jd(t,`link`,n),At(t),e.head.appendChild(t))}function qf(e){return`[src="`+Jt(e)+`"]`}function Jf(e){return`script[async]`+e}function Yf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Jt(n.href)+`"]`);if(r)return t.instance=r,At(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),At(r),Jd(r,`style`,a),Xf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Wf(n.href);var o=e.querySelector(Gf(a));if(o)return t.state.loading|=4,t.instance=o,At(o),o;r=B(n),(a=Of.get(a))&&Zf(r,a),o=(e.ownerDocument||e).createElement(`link`),At(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Jd(o,`link`,r),t.state.loading|=4,Xf(o,n.precedence,e),t.instance=o;case`script`:return o=qf(n.src),(a=e.querySelector(Jf(o)))?(t.instance=a,At(a),a):(r=n,(a=Of.get(o))&&(r=f({},n),Qf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),At(a),Jd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Xf(r,n.precedence,e));return t.instance}function Xf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Qf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var $f=null;function ep(e,t,n){if($f===null){var r=new Map,i=$f=new Map;i.set(n,r)}else i=$f,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[wt]||a[_t]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function tp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function np(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function rp(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function ip(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Wf(r.href),a=t.querySelector(Gf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,At(a);return}a=t.ownerDocument||t,r=B(r),(i=Of.get(i))&&Zf(r,i),a=a.createElement(`link`),At(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Jd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=sp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var ap=0;function op(e,t){return e.stylesheets&&e.count===0&&lp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&ap===0&&(ap=62500*Zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ap?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function sp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cp=null;function lp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cp=new Map,t.forEach(up,e),cp=null,sp.call(e))}function up(e,t){if(!(t.state.loading&4)){var n=cp.get(e);if(n)var r=n.get(null);else{n=new Map,cp.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=sp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var dp={$$typeof:C,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function fp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function pp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new fp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=gi(3,null,null,t),e.current=a,a.stateNode=e,t=ga(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ya(a),e}function mp(e){return e?(e=mi,e):mi}function hp(e,t,n,r,i,a){i=mp(i),r.context===null?r.context=i:r.pendingContext=i,r=Za(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Qa(e,r,t),n!==null&&(Ou(n,e,t),$a(n,e,t))}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _p(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function vp(e){if(e.tag===13||e.tag===31){var t=di(e,67108864);t!==null&&Ou(t,e,67108864),_p(e,67108864)}}function yp(e){if(e.tag===13||e.tag===31){var t=Eu();t=ft(t);var n=di(e,t);n!==null&&Ou(n,e,t),_p(e,t)}}var bp=!0;function xp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=2,Cp(e,t,n,r)}finally{D.p=a,E.T=i}}function Sp(e,t,n,r){var i=E.T;E.T=null;var a=D.p;try{D.p=8,Cp(e,t,n,r)}finally{D.p=a,E.T=i}}function Cp(e,t,n,r){if(bp){var i=wp(r);if(i===null)Rd(e,t,r,Tp,n),Ip(e,r);else if(Rp(i,e,t,n,r))r.stopPropagation();else if(Ip(e,r),t&4&&-1<Fp.indexOf(e)){for(;i!==null;){var a=Dt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=tt(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Je(o);s.entanglements[1]|=c,o&=~c}_d(a),!(F&6)&&(mu=Ie()+500,vd(0,!1))}}break;case 31:case 13:s=di(a,2),s!==null&&Ou(s,a,2),Nu(),_p(a,2)}if(a=wp(r),a===null&&Rd(e,t,r,Tp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Rd(e,t,r,null,n)}}function wp(e){return e=fn(e),Ep(e)}var Tp=null;function Ep(e){if(Tp=null,e=Et(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tp=e,null}function Dp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Le()){case Re:return 2;case ze:return 8;case Be:case Ve:return 32;case He:return 268435456;default:return 32}default:return 32}}var Op=!1,kp=null,Ap=null,jp=null,Mp=new Map,Np=new Map,Pp=[],Fp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Ip(e,t){switch(e){case`focusin`:case`focusout`:kp=null;break;case`dragenter`:case`dragleave`:Ap=null;break;case`mouseover`:case`mouseout`:jp=null;break;case`pointerover`:case`pointerout`:Mp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Np.delete(t.pointerId)}}function Lp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Dt(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Rp(e,t,n,r,i){switch(t){case`focusin`:return kp=Lp(kp,e,t,n,r,i),!0;case`dragenter`:return Ap=Lp(Ap,e,t,n,r,i),!0;case`mouseover`:return jp=Lp(jp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Mp.set(a,Lp(Mp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Np.set(a,Lp(Np.get(a)||null,e,t,n,r,i)),!0}return!1}function zp(e){var t=Et(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ht(e.priority,function(){yp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ht(e.priority,function(){yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dn=r,n.target.dispatchEvent(r),dn=null}else return t=Dt(n),t!==null&&vp(t),e.blockedOn=n,!1;t.shift()}return!0}function Vp(e,t,n){Bp(e)&&n.delete(t)}function Hp(){Op=!1,kp!==null&&Bp(kp)&&(kp=null),Ap!==null&&Bp(Ap)&&(Ap=null),jp!==null&&Bp(jp)&&(jp=null),Mp.forEach(Vp),Np.forEach(Vp)}function Up(e,n){e.blockedOn===n&&(e.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hp)))}var Wp=null;function Gp(e){Wp!==e&&(Wp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wp===e&&(Wp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(Ep(r||n)===null)continue;break}var a=Dt(n);a!==null&&(e.splice(t,3),t-=3,Ps(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kp(e){function t(t){return Up(t,e)}kp!==null&&Up(kp,e),Ap!==null&&Up(Ap,e),jp!==null&&Up(jp,e),Mp.forEach(t),Np.forEach(t);for(var n=0;n<Pp.length;n++){var r=Pp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Pp.length&&(n=Pp[0],n.blockedOn===null);)zp(n),n.blockedOn===null&&Pp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[vt]||null;if(typeof a==`function`)o||Gp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[vt]||null)s=o.formAction;else if(Ep(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Gp(n)}}}function qp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Jp(e){this._internalRoot=e}Yp.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;hp(n,Eu(),e,t,null,null)},Yp.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),Nu(),t[yt]=null}};function Yp(e){this._internalRoot=e}Yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=mt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pp.length&&t!==0&&t<Pp[n].priority;n++);Pp.splice(n,0,e),n===0&&zp(e)}};var Xp=n.version;if(Xp!==`19.2.0`)throw Error(i(527,Xp,`19.2.0`));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:d(e),e=e===null?null:e.stateNode,e};var Zp={bundleType:0,version:`19.2.0`,rendererPackageName:`react-dom`,currentDispatcherRef:E,reconcilerVersion:`19.2.0`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{Ge=Qp.inject(Zp),Ke=Qp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=rc,s=ic,c=ac;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=pp(e,1,!1,null,null,n,r,null,o,s,c,qp),e[yt]=t.current,Id(e),new Jp(t)}})),y=u(s(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))(),1),b=u(_()),x=u(p());function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var C;(function(e){e.Pop=`POP`,e.Push=`PUSH`,e.Replace=`REPLACE`})(C||={});var w=`popstate`;function ee(e){e===void 0&&(e={});function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return ie(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:ae(t)}return se(t,n,null,e)}function T(e,t){if(e===!1||e==null)throw Error(t)}function te(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function ne(){return Math.random().toString(36).substr(2,8)}function re(e,t){return{usr:e.state,key:e.key,idx:t}}function ie(e,t,n,r){return n===void 0&&(n=null),S({pathname:typeof e==`string`?e:e.pathname,search:``,hash:``},typeof t==`string`?oe(t):t,{state:n,key:t&&t.key||r||ne()})}function ae(e){let{pathname:t=`/`,search:n=``,hash:r=``}=e;return n&&n!==`?`&&(t+=n.charAt(0)===`?`?n:`?`+n),r&&r!==`#`&&(t+=r.charAt(0)===`#`?r:`#`+r),t}function oe(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function se(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=C.Pop,c=null,l=u();l??(l=0,o.replaceState(S({},o.state,{idx:l}),``));function u(){return(o.state||{idx:null}).idx}function d(){s=C.Pop;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=C.Push;let r=ie(h.location,e,t);n&&n(r,e),l=u()+1;let d=re(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=C.Replace;let r=ie(h.location,e,t);n&&n(r,e),l=u();let i=re(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){let t=i.location.origin===`null`?i.location.href:i.location.origin,n=typeof e==`string`?e:ae(e);return n=n.replace(/ $/,`%20`),T(t,`No window.location.(origin|href) available to create URL for href: `+n),new URL(n,t)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(w,d),c=e,()=>{i.removeEventListener(w,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}var ce;(function(e){e.data=`data`,e.deferred=`deferred`,e.redirect=`redirect`,e.error=`error`})(ce||={});function le(e,t,n){return n===void 0&&(n=`/`),E(e,t,n,!1)}function E(e,t,n,r){let i=Te((typeof t==`string`?oe(t):t).pathname||`/`,n);if(i==null)return null;let a=D(e);de(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=we(i);o=xe(a[e],t,r)}return o}function D(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=``);let i=(e,i,a)=>{let o={relativePath:a===void 0?e.path||``:a,caseSensitive:e.caseSensitive===!0,childrenIndex:i,route:e};o.relativePath.startsWith(`/`)&&(T(o.relativePath.startsWith(r),`Absolute route path "`+o.relativePath+`" nested under path `+(`"`+r+`" is not valid. An absolute child route path `)+`must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let s=Pe([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(T(e.index!==!0,`Index routes must not have child routes. Please remove `+(`all child routes from route path "`+s+`".`)),D(e.children,t,c,s)),!(e.path==null&&!e.index)&&t.push({path:s,score:ye(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(e.path===``||!((n=e.path)!=null&&n.includes(`?`)))i(e,t);else for(let n of ue(e.path))i(e,t,n)}),t}function ue(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=ue(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function de(e){e.sort((e,t)=>e.score===t.score?be(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var fe=/^:[\w-]+$/,pe=3,me=2,he=1,ge=10,_e=-2,ve=e=>e===`*`;function ye(e,t){let n=e.split(`/`),r=n.length;return n.some(ve)&&(r+=_e),t&&(r+=me),n.filter(e=>!ve(e)).reduce((e,t)=>e+(fe.test(t)?pe:t===``?he:ge),r)}function be(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function xe(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=Se({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Se({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Pe([a,u.pathname]),pathnameBase:Fe(Pe([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Pe([a,u.pathnameBase]))}return o}function Se(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ce(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if(r===`*`){let e=s[n]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let c=s[n];return i&&!c?e[r]=void 0:e[r]=(c||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function Ce(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),te(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "`+e+`" will be treated as if it were `+(`"`+e.replace(/\*$/,`/*`)+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+(`please change the route path to "`+e.replace(/\*$/,`/*`)+`".`));let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`));return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function we(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return te(!1,`The URL path "`+e+`" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent `+(`encoding (`+t+`).`)),e}}function Te(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=e=>Ee.test(e);function Oe(e,t){t===void 0&&(t=`/`);let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?oe(e):e,a;if(n)if(De(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),te(!1,`Pathnames cannot have embedded double slashes - normalizing `+(e+` -> `+n))}a=n.startsWith(`/`)?ke(n.substring(1),`/`):ke(n,t)}else a=t;return{pathname:a,search:Ie(r),hash:Le(i)}}function ke(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Ae(e,t,n,r){return`Cannot include a '`+e+`' character in a manually specified `+("`to."+t+"` field ["+JSON.stringify(r)+`].  Please separate it out to the `)+("`to."+n+"` field. Alternatively you may provide the full path as ")+`a string in <Link to="..."> and the router will parse it for you.`}function je(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Me(e,t){let n=je(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Ne(e,t,n,r){r===void 0&&(r=!1);let i;typeof e==`string`?i=oe(e):(i=S({},e),T(!i.pathname||!i.pathname.includes(`?`),Ae(`?`,`pathname`,`search`,i)),T(!i.pathname||!i.pathname.includes(`#`),Ae(`#`,`pathname`,`hash`,i)),T(!i.search||!i.search.includes(`#`),Ae(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Oe(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Pe=e=>e.join(`/`).replace(/\/\/+/g,`/`),Fe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Ie=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Le=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function Re(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}var Be=x.createContext(null),Ve=x.createContext(null),He=x.createContext(null),Ue=x.createContext(null),We=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Ge=x.createContext(null);function Ke(){return x.useContext(Ue)!=null}function qe(){return!Ke()&&T(!1),x.useContext(Ue).location}function Je(e){x.useContext(He).static||x.useLayoutEffect(e)}function Ye(){let{isDataRoute:e}=x.useContext(We);return e?pt():Xe()}function Xe(){!Ke()&&T(!1);let e=x.useContext(Be),{basename:t,future:n,navigator:r}=x.useContext(He),{matches:i}=x.useContext(We),{pathname:a}=qe(),o=JSON.stringify(Me(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return Je(()=>{s.current=!0}),x.useCallback(function(n,i){if(i===void 0&&(i={}),!s.current)return;if(typeof n==`number`){r.go(n);return}let c=Ne(n,JSON.parse(o),a,i.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Pe([t,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[t,r,o,a,e])}var Ze=x.createContext(null);function Qe(e){let t=x.useContext(We).outlet;return t&&x.createElement(Ze.Provider,{value:e},t)}function $e(e,t){return et(e,t)}function et(e,t,n,r){!Ke()&&T(!1);let{navigator:i}=x.useContext(He),{matches:a}=x.useContext(We),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:`/`;o&&o.route;let l=qe(),u;if(t){let e=typeof t==`string`?oe(t):t;!(c===`/`||e.pathname?.startsWith(c))&&T(!1),u=e}else u=l;let d=u.pathname||`/`,f=d;if(c!==`/`){let e=c.replace(/^\//,``).split(`/`);f=`/`+d.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let p=le(e,{pathname:f}),m=at(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Pe([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?c:Pe([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&m?x.createElement(Ue.Provider,{value:{location:ze({pathname:`/`,search:``,hash:``,state:null,key:`default`},u),navigationType:C.Pop}},m):m}function tt(){let e=ft(),t=Re(e)?e.status+` `+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return x.createElement(x.Fragment,null,x.createElement(`h2`,null,`Unexpected Application Error!`),x.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?x.createElement(`pre`,{style:{padding:`0.5rem`,backgroundColor:`rgba(200,200,200, 0.5)`}},n):null,null)}var nt=x.createElement(tt,null),rt=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error(`React Router caught the following error during render`,e,t)}render(){return this.state.error===void 0?this.props.children:x.createElement(We.Provider,{value:this.props.routeContext},x.createElement(Ge.Provider,{value:this.state.error,children:this.props.component}))}};function it(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Be);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(We.Provider,{value:t},r)}function at(e,t,n,r){if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);!(e>=0)&&T(!1),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&e[t.route.id]===void 0&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let l,u=!1,d=null,f=null;n&&(l=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||nt,s&&(c<0&&i===0?(ht(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):c===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=l?d:u?f:r.route.Component?x.createElement(r.route.Component,null):r.route.element?r.route.element:e,x.createElement(it,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?x.createElement(rt,{location:n.location,revalidation:n.revalidation,component:d,error:l,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var ot=function(e){return e.UseBlocker=`useBlocker`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e}(ot||{}),st=function(e){return e.UseBlocker=`useBlocker`,e.UseLoaderData=`useLoaderData`,e.UseActionData=`useActionData`,e.UseRouteError=`useRouteError`,e.UseNavigation=`useNavigation`,e.UseRouteLoaderData=`useRouteLoaderData`,e.UseMatches=`useMatches`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e.UseRouteId=`useRouteId`,e}(st||{});function ct(e){let t=x.useContext(Be);return!t&&T(!1),t}function lt(e){let t=x.useContext(Ve);return!t&&T(!1),t}function ut(e){let t=x.useContext(We);return!t&&T(!1),t}function dt(e){let t=ut(e),n=t.matches[t.matches.length-1];return!n.route.id&&T(!1),n.route.id}function ft(){let e=x.useContext(Ge),t=lt(st.UseRouteError),n=dt(st.UseRouteError);return e===void 0?t.errors?.[n]:e}function pt(){let{router:e}=ct(ot.UseNavigateStable),t=dt(st.UseNavigateStable),n=x.useRef(!1);return Je(()=>{n.current=!0}),x.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r==`number`?e.navigate(r):e.navigate(r,ze({fromRouteId:t},i)))},[e,t])}var mt={};function ht(e,t,n){!t&&!mt[e]&&(mt[e]=!0)}var gt=(e,t,n)=>(``+t+("You can use the `"+e+"` future flag to opt-in early. ")+(`For more information, see `+n+`.`),void 0);function _t(e,t){e?.v7_startTransition===void 0&&gt(`v7_startTransition`,"React Router will begin wrapping state updates in `React.startTransition` in v7",`https://reactrouter.com/v6/upgrading/future#v7_starttransition`),e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath===void 0)&&gt(`v7_relativeSplatPath`,`Relative route resolution within Splat routes is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath`),t&&(t.v7_fetcherPersist===void 0&&gt(`v7_fetcherPersist`,`The persistence behavior of fetchers is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist`),t.v7_normalizeFormMethod===void 0&&gt(`v7_normalizeFormMethod`,"Casing of `formMethod` fields is being normalized to uppercase in v7",`https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod`),t.v7_partialHydration===void 0&&gt(`v7_partialHydration`,"`RouterProvider` hydration behavior is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_partialhydration`),t.v7_skipActionErrorRevalidation===void 0&&gt(`v7_skipActionErrorRevalidation`,"The revalidation behavior after 4xx/5xx `action` responses is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation`))}x.startTransition;function vt(e){let{to:t,replace:n,state:r,relative:i}=e;!Ke()&&T(!1);let{future:a,static:o}=x.useContext(He),{matches:s}=x.useContext(We),{pathname:c}=qe(),l=Ye(),u=Ne(t,Me(s,a.v7_relativeSplatPath),c,i===`path`),d=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(d),{replace:n,state:r,relative:i}),[l,d,i,n,r]),null}function yt(e){return Qe(e.context)}function bt(e){T(!1)}function xt(e){let{basename:t=`/`,children:n=null,location:r,navigationType:i=C.Pop,navigator:a,static:o=!1,future:s}=e;Ke()&&T(!1);let c=t.replace(/^\/*/,`/`),l=x.useMemo(()=>({basename:c,navigator:a,static:o,future:ze({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r==`string`&&(r=oe(r));let{pathname:u=`/`,search:d=``,hash:f=``,state:p=null,key:m=`default`}=r,h=x.useMemo(()=>{let e=Te(u,c);return e==null?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:i}},[c,u,d,f,p,m,i]);return h==null?null:x.createElement(He.Provider,{value:l},x.createElement(Ue.Provider,{children:n,value:h}))}function St(e){let{children:t,location:n}=e;return $e(Ct(t),n)}new Promise(()=>{});function Ct(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(e,r)=>{if(!x.isValidElement(e))return;let i=[...t,r];if(e.type===x.Fragment){n.push.apply(n,Ct(e.props.children,i));return}e.type!==bt&&T(!1),!(!e.props.index||!e.props.children)&&T(!1);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ct(e.props.children,i)),n.push(a)}),n}var wt=`6`;try{window.__reactRouterVersion=wt}catch{}var Tt=x.startTransition;b.flushSync,x.useId;function Et(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current??=ee({window:i,v5Compat:!0});let o=a.current,[s,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=x.useCallback(e=>{l&&Tt?Tt(()=>c(e)):c(e)},[c,l]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>_t(r),[r]),x.createElement(xt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}typeof window<`u`&&window.document!==void 0&&window.document.createElement;var Dt;(function(e){e.UseScrollRestoration=`useScrollRestoration`,e.UseSubmit=`useSubmit`,e.UseSubmitFetcher=`useSubmitFetcher`,e.UseFetcher=`useFetcher`,e.useViewTransitionState=`useViewTransitionState`})(Dt||={});var Ot;(function(e){e.UseFetcher=`useFetcher`,e.UseFetchers=`useFetchers`,e.UseScrollRestoration=`useScrollRestoration`})(Ot||={});var kt=s((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),At=s(((e,t)=>{t.exports=kt()})),jt=(0,x.createContext)({});function Mt(e){let t=(0,x.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Nt=typeof window<`u`,Pt=Nt?x.useLayoutEffect:x.useEffect,Ft=(0,x.createContext)(null);function It(e,t){e.indexOf(t)===-1&&e.push(t)}function Lt(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Rt=(e,t,n)=>n>t?t:n<e?e:n,zt={},Bt=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Vt(e){return typeof e==`object`&&!!e}var O=e=>/^0[^.\s]+$/u.test(e);function Ht(e){let t;return()=>(t===void 0&&(t=e()),t)}var Ut=e=>e,Wt=(e,t)=>n=>t(e(n)),Gt=(...e)=>e.reduce(Wt),Kt=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},qt=class{constructor(){this.subscriptions=[]}add(e){return It(this.subscriptions,e),()=>Lt(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},Jt=e=>e*1e3,Yt=e=>e/1e3;function Xt(e,t){return t?e*(1e3/t):0}var Zt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qt=1e-7,$t=12;function en(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Zt(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Qt&&++s<$t);return o}function tn(e,t,n,r){if(e===t&&n===r)return Ut;let i=t=>en(t,0,1,e,n);return e=>e===0||e===1?e:Zt(i(e),t,r)}var nn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rn=e=>t=>1-e(1-t),an=tn(.33,1.53,.69,.99),on=rn(an),sn=nn(on),cn=e=>(e*=2)<1?.5*on(e):.5*(2-2**(-10*(e-1))),ln=e=>1-Math.sin(Math.acos(e)),un=rn(ln),dn=nn(ln),fn=tn(.42,0,1,1),pn=tn(0,0,.58,1),mn=tn(.42,0,.58,1),hn=e=>Array.isArray(e)&&typeof e[0]!=`number`,gn=e=>Array.isArray(e)&&typeof e[0]==`number`,_n={linear:Ut,easeIn:fn,easeInOut:mn,easeOut:pn,circIn:ln,circInOut:dn,circOut:un,backIn:on,backInOut:sn,backOut:an,anticipate:cn},vn=e=>typeof e==`string`,yn=e=>{if(gn(e)){e.length;let[t,n,r,i]=e;return tn(t,n,r,i)}else if(vn(e))return _n[e],`${e}`,_n[e];return e},bn=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],xn={value:null,addProjectionMetrics:null};function Sn(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&xn.value&&xn.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var Cn=40;function wn(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=bn.reduce((e,n)=>(e[n]=Sn(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=zt.useManualTiming?i.timestamp:performance.now();n=!1,zt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,Cn),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:bn.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<bn.length;t++)o[bn[t]].cancel(e)},state:i,steps:o}}var{schedule:k,cancel:Tn,state:En,steps:Dn}=wn(typeof requestAnimationFrame<`u`?requestAnimationFrame:Ut,!0),On;function kn(){On=void 0}var An={now:()=>(On===void 0&&An.set(En.isProcessing||zt.useManualTiming?En.timestamp:performance.now()),On),set:e=>{On=e,queueMicrotask(kn)}},jn={layout:0,mainThread:0,waapi:0},Mn=e=>t=>typeof t==`string`&&t.startsWith(e),Nn=Mn(`--`),Pn=Mn(`var(--`),Fn=e=>Pn(e)?In.test(e.split(`/*`)[0].trim()):!1,In=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ln={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},Rn={...Ln,transform:e=>Rt(0,1,e)},zn={...Ln,default:1},Bn=e=>Math.round(e*1e5)/1e5,Vn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hn(e){return e==null}var Un=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wn=(e,t)=>n=>!!(typeof n==`string`&&Un.test(n)&&n.startsWith(e)||t&&!Hn(n)&&Object.prototype.hasOwnProperty.call(n,t)),Gn=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(Vn);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},Kn=e=>Rt(0,255,e),qn={...Ln,transform:e=>Math.round(Kn(e))},Jn={test:Wn(`rgb`,`red`),parse:Gn(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+qn.transform(e)+`, `+qn.transform(t)+`, `+qn.transform(n)+`, `+Bn(Rn.transform(r))+`)`};function Yn(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var Xn={test:Wn(`#`),parse:Yn,transform:Jn.transform},Zn=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qn=Zn(`deg`),$n=Zn(`%`),A=Zn(`px`),er=Zn(`vh`),tr=Zn(`vw`),nr=(()=>({...$n,parse:e=>$n.parse(e)/100,transform:e=>$n.transform(e*100)}))(),rr={test:Wn(`hsl`,`hue`),parse:Gn(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+$n.transform(Bn(t))+`, `+$n.transform(Bn(n))+`, `+Bn(Rn.transform(r))+`)`},ir={test:e=>Jn.test(e)||Xn.test(e)||rr.test(e),parse:e=>Jn.test(e)?Jn.parse(e):rr.test(e)?rr.parse(e):Xn.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?Jn.transform(e):rr.transform(e),getAnimatableNone:e=>{let t=ir.parse(e);return t.alpha=0,ir.transform(t)}},ar=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function or(e){return isNaN(e)&&typeof e==`string`&&(e.match(Vn)?.length||0)+(e.match(ar)?.length||0)>0}var sr=`number`,cr=`color`,lr=`var`,ur=`var(`,dr="${}",fr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pr(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(fr,e=>(ir.test(e)?(r.color.push(a),i.push(cr),n.push(ir.parse(e))):e.startsWith(ur)?(r.var.push(a),i.push(lr),n.push(e)):(r.number.push(a),i.push(sr),n.push(parseFloat(e))),++a,dr)).split(dr),indexes:r,types:i}}function mr(e){return pr(e).values}function hr(e){let{split:t,types:n}=pr(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===sr?i+=Bn(e[a]):t===cr?i+=ir.transform(e[a]):i+=e[a]}return i}}var gr=e=>typeof e==`number`?0:ir.test(e)?ir.getAnimatableNone(e):e;function _r(e){let t=mr(e);return hr(e)(t.map(gr))}var vr={test:or,parse:mr,createTransformer:hr,getAnimatableNone:_r};function yr(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function br({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=yr(s,r,e+1/3),a=yr(s,r,e),o=yr(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function xr(e,t){return n=>n>0?t:e}var Sr=(e,t,n)=>e+(t-e)*n,Cr=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},wr=[Xn,Jn,rr],Tr=e=>wr.find(t=>t.test(e));function Er(e){let t=Tr(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===rr&&(n=br(n)),n}var Dr=(e,t)=>{let n=Er(e),r=Er(t);if(!n||!r)return xr(e,t);let i={...n};return e=>(i.red=Cr(n.red,r.red,e),i.green=Cr(n.green,r.green,e),i.blue=Cr(n.blue,r.blue,e),i.alpha=Sr(n.alpha,r.alpha,e),Jn.transform(i))},Or=new Set([`none`,`hidden`]);function kr(e,t){return Or.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ar(e,t){return n=>Sr(e,t,n)}function jr(e){return typeof e==`number`?Ar:typeof e==`string`?Fn(e)?xr:ir.test(e)?Dr:Fr:Array.isArray(e)?Mr:typeof e==`object`?ir.test(e)?Dr:Nr:xr}function Mr(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>jr(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Nr(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=jr(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function Pr(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var Fr=(e,t)=>{let n=vr.createTransformer(t),r=pr(e),i=pr(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Or.has(e)&&!i.values.length||Or.has(t)&&!r.values.length?kr(e,t):Gt(Mr(Pr(r,i),i.values),n):(`${e}${t}`,xr(e,t))};function Ir(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?Sr(e,t,n):jr(e)(e,t)}var Lr=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>k.update(t,e),stop:()=>Tn(t),now:()=>En.isProcessing?En.timestamp:An.now()}},Rr=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},zr=2e4;function Br(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function Vr(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(Br(r),zr);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:Yt(i)}}var Hr=5;function Ur(e,t,n){let r=Math.max(t-Hr,0);return Xt(n-e(r),t-r)}var Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gr=.001;function Kr({duration:e=Wr.duration,bounce:t=Wr.bounce,velocity:n=Wr.velocity,mass:r=Wr.mass}){let i,a;Wr.maxDuration;let o=1-t;o=Rt(Wr.minDamping,Wr.maxDamping,o),e=Rt(Wr.minDuration,Wr.maxDuration,Yt(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=Yr(t,o),c=Math.exp(-i);return Gr-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=Yr(t**2,o);return(-i(t)+Gr>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-Gr+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=Jr(i,a,s);if(e=Jt(e),isNaN(c))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var qr=12;function Jr(e,t,n){let r=n;for(let n=1;n<qr;n++)r-=e(r)/t(r);return r}function Yr(e,t){return e*Math.sqrt(1-t*t)}var Xr=[`duration`,`bounce`],Zr=[`stiffness`,`damping`,`mass`];function Qr(e,t){return t.some(t=>e[t]!==void 0)}function $r(e){let t={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...e};if(!Qr(e,Zr)&&Qr(e,Xr))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Rt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wr.mass,stiffness:i,damping:a}}else{let n=Kr(e);t={...t,...n,mass:Wr.mass},t.isResolvedFromDuration=!0}return t}function ei(e=Wr.visualDuration,t=Wr.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=$r({...n,velocity:-Yt(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=Yt(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?Wr.restSpeed.granular:Wr.restSpeed.default,i||=v?Wr.restDelta.granular:Wr.restDelta.default;let y;if(h<1){let e=Yr(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?Jt(m):Ur(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(Br(b),zr),t=Rr(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}ei.applyToOptions=e=>{let t=Vr(e,100,ei);return e.ease=t.ease,e.duration=Jt(t.duration),e.type=`keyframes`,e};function ti({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=ei({keyframes:[f.value,m(f.value)],velocity:Ur(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function ni(e,t,n){let r=[],i=n||zt.mix||Ir,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=Gt(Array.isArray(t)?t[n]||Ut:t,a)),r.push(a)}return r}function ri(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=ni(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=Kt(e[r],e[r+1],n);return s[r](i)};return n?t=>l(Rt(e[0],e[a-1],t)):l}function ii(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=Kt(0,t,r);e.push(Sr(n,1,i))}}function ai(e){let t=[0];return ii(t,e.length-1),t}function oi(e,t){return e.map(e=>e*t)}function si(e,t){return e.map(()=>t||mn).splice(0,e.length-1)}function ci({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=hn(r)?r.map(yn):yn(r),a={done:!1,value:t[0]},o=ri(oi(n&&n.length===t.length?n:ai(t),e),t,{ease:Array.isArray(i)?i:si(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var li=e=>e!==null;function ui(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(li),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var di={decay:ti,inertia:ti,tween:ci,keyframes:ci,spring:ei};function fi(e){typeof e.type==`string`&&(e.type=di[e.type])}var pi=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},mi=e=>e/100,hi=class extends pi{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},jn.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;fi(e);let{type:t=ci,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||ci;s!==ci&&typeof o[0]!=`number`&&(this.mixKeyframes=Gt(mi,Ir(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Br(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=Rt(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==ti&&(b.value=ui(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Yt(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(this.currentTime)}set time(e){e=Jt(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(An.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yt(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=Lr,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,jn.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function gi(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var _i=e=>e*180/Math.PI,vi=e=>bi(_i(Math.atan2(e[1],e[0]))),yi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vi,rotateZ:vi,skewX:e=>_i(Math.atan(e[1])),skewY:e=>_i(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bi=e=>(e%=360,e<0&&(e+=360),e),xi=vi,Si=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ci=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),wi={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Si,scaleY:Ci,scale:e=>(Si(e)+Ci(e))/2,rotateX:e=>bi(_i(Math.atan2(e[6],e[5]))),rotateY:e=>bi(_i(Math.atan2(-e[2],e[0]))),rotateZ:xi,rotate:xi,skewX:e=>_i(Math.atan(e[4])),skewY:e=>_i(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ti(e){return e.includes(`scale`)?1:0}function Ei(e,t){if(!e||e===`none`)return Ti(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=wi,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yi,i=t}if(!i)return Ti(t);let a=r[t],o=i[1].split(`,`).map(Oi);return typeof a==`function`?a(o):o[a]}var Di=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return Ei(n,t)};function Oi(e){return parseFloat(e.trim())}var ki=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],Ai=(()=>new Set(ki))(),ji=e=>e===Ln||e===A,Mi=new Set([`x`,`y`,`z`]),Ni=ki.filter(e=>!Mi.has(e));function Pi(e){let t=[];return Ni.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var Fi={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ei(t,`x`),y:(e,{transform:t})=>Ei(t,`y`)};Fi.translateX=Fi.x,Fi.translateY=Fi.y;var Ii=new Set,Li=!1,Ri=!1,zi=!1;function Bi(){if(Ri){let e=Array.from(Ii).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=Pi(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}Ri=!1,Li=!1,Ii.forEach(e=>e.complete(zi)),Ii.clear()}function Vi(){Ii.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ri=!0)})}function Hi(){zi=!0,Vi(),Bi(),zi=!1}var j=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(Ii.add(this),Li||(Li=!0,k.read(Vi),k.resolveKeyframes(Bi))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}gi(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ii.delete(this)}cancel(){this.state===`scheduled`&&(Ii.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},Ui=e=>e.startsWith(`--`);function Wi(e,t,n){Ui(t)?e.style.setProperty(t,n):e.style[t]=n}var Gi=Ht(()=>window.ScrollTimeline!==void 0),Ki={};function qi(e,t){let n=Ht(e);return()=>Ki[t]??n()}var Ji=qi(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),Yi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xi={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:Yi([0,.65,.55,1]),circOut:Yi([.55,0,1,.45]),backIn:Yi([.31,.01,.66,-.59]),backOut:Yi([.33,1.53,.69,.99])};function Zi(e,t){if(e)return typeof e==`function`?Ji()?Rr(e,t):`ease-out`:gn(e)?Yi(e):Array.isArray(e)?e.map(e=>Zi(e,t)||Xi.easeOut):Xi[e]}function Qi(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=Zi(s,i);Array.isArray(d)&&(u.easing=d),xn.value&&jn.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return xn.value&&p.finished.finally(()=>{jn.waapi--}),p}function $i(e){return typeof e==`function`&&`applyToOptions`in e}function ea({type:e,...t}){return $i(e)&&Ji()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var ta=class extends pi{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=ea(e);this.animation=Qi(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=ui(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):Wi(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return Yt(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+Yt(e)}get time(){return Yt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Jt(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&Gi()?(this.animation.timeline=e,Ut):t(this)}},na={anticipate:cn,backInOut:sn,circInOut:dn};function ra(e){return e in na}function ia(e){typeof e.ease==`string`&&ra(e.ease)&&(e.ease=na[e.ease])}var aa=10,oa=class extends ta{constructor(e){ia(e),fi(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new hi({...a,autoplay:!1}),s=Jt(this.finishedTime??this.time);t.setWithVelocity(o.sample(s-aa).value,o.sample(s).value,aa),o.stop()}},sa=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(vr.test(e)||e===`0`)&&!e.startsWith(`url(`));function ca(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function la(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=sa(i,t),s=sa(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:ca(e)||(n===`spring`||$i(n))&&r}function ua(e){e.duration=0,e.type=`keyframes`}var da=new Set([`opacity`,`clipPath`,`filter`,`transform`]),fa=Ht(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function pa(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return fa()&&n&&da.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var ma=40,ha=class extends pi{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||j)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=An.now(),la(e,i,a,o)||((zt.instantAnimations||!s)&&l?.(ui(e,n,t)),e[0]=e[e.length-1],ua(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>ma?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&pa(u)?new oa({...u,element:u.motionValue.owner.current}):new hi(u);d.finished.then(()=>this.notifyFinished()).catch(Ut),this.pendingTimeline&&=(this.stopTimeline=d.attachTimeline(this.pendingTimeline),void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Hi()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}},ga=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _a(e){let t=ga.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function va(e,t,n=1){`${e}`;let[r,i]=_a(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Bt(e)?parseFloat(e):e}return Fn(i)?va(i,t,n+1):i}function ya(e,t){return e?.[t]??e?.default??e}var ba=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...ki]),xa={test:e=>e===`auto`,parse:e=>e},Sa=e=>t=>t.test(e),Ca=[Ln,A,$n,Qn,tr,er,xa],wa=e=>Ca.find(Sa(e));function Ta(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||O(e)}var Ea=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function Da(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(Vn)||[];if(!r)return e;let i=n.replace(r,``),a=Ea.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var Oa=/\b([a-z-]*)\(.*?\)/gu,ka={...vr,getAnimatableNone:e=>{let t=e.match(Oa);return t?t.map(Da).join(` `):e}},Aa={...Ln,transform:Math.round},ja={borderWidth:A,borderTopWidth:A,borderRightWidth:A,borderBottomWidth:A,borderLeftWidth:A,borderRadius:A,radius:A,borderTopLeftRadius:A,borderTopRightRadius:A,borderBottomRightRadius:A,borderBottomLeftRadius:A,width:A,maxWidth:A,height:A,maxHeight:A,top:A,right:A,bottom:A,left:A,padding:A,paddingTop:A,paddingRight:A,paddingBottom:A,paddingLeft:A,margin:A,marginTop:A,marginRight:A,marginBottom:A,marginLeft:A,backgroundPositionX:A,backgroundPositionY:A,rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scale:zn,scaleX:zn,scaleY:zn,scaleZ:zn,skew:Qn,skewX:Qn,skewY:Qn,distance:A,translateX:A,translateY:A,translateZ:A,x:A,y:A,z:A,perspective:A,transformPerspective:A,opacity:Rn,originX:nr,originY:nr,originZ:A,zIndex:Aa,fillOpacity:Rn,strokeOpacity:Rn,numOctaves:Aa},Ma={...ja,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:ka,WebkitFilter:ka},Na=e=>Ma[e];function Pa(e,t){let n=Na(e);return n!==ka&&(n=vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Fa=new Set([`auto`,`none`,`0`]);function Ia(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!Fa.has(t)&&pr(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=Pa(n,i)}var La=class extends j{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),Fn(r))){let i=va(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!ba.has(n)||e.length!==2)return;let[r,i]=e,a=wa(r),o=wa(i);if(a!==o)if(ji(a)&&ji(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else Fi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||Ta(e[t]))&&n.push(t);n.length&&Ia(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=Fi[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}};function Ra(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}var za=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function Ba(e){return Vt(e)&&`offsetHeight`in e}var Va=30,Ha=e=>!isNaN(parseFloat(e)),Ua={current:void 0},Wa=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=An.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ha(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new qt);let n=this.events[e].add(t);return e===`change`?()=>{n(),k.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ua.current&&Ua.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Va)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,Va);return Xt(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ga(e,t){return new Wa(e,t)}var{schedule:Ka,cancel:qa}=wn(queueMicrotask,!1),Ja={x:!1,y:!1};function Ya(){return Ja.x||Ja.y}function Xa(e){return e===`x`||e===`y`?Ja[e]?null:(Ja[e]=!0,()=>{Ja[e]=!1}):Ja.x||Ja.y?null:(Ja.x=Ja.y=!0,()=>{Ja.x=Ja.y=!1})}function Za(e,t){let n=Ra(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Qa(e){return!(e.pointerType===`touch`||Ya())}function $a(e,t,n={}){let[r,i,a]=Za(e,n),o=e=>{if(!Qa(e))return;let{target:n}=e,r=t(n,e);if(typeof r!=`function`||!n)return;let a=e=>{Qa(e)&&(r(e),n.removeEventListener(`pointerleave`,a))};n.addEventListener(`pointerleave`,a,i)};return r.forEach(e=>{e.addEventListener(`pointerenter`,o,i)}),a}var eo=(e,t)=>t?e===t?!0:eo(e,t.parentElement):!1,to=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,no=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function ro(e){return no.has(e.tagName)||e.tabIndex!==-1}var io=new WeakSet;function ao(e){return t=>{t.key===`Enter`&&e(t)}}function oo(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var so=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=ao(()=>{if(io.has(n))return;oo(n,`down`);let e=ao(()=>{oo(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>oo(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function co(e){return to(e)&&!Ya()}function lo(e,t,n={}){let[r,i,a]=Za(e,n),o=e=>{let r=e.currentTarget;if(!co(e))return;io.add(r);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),io.has(r)&&io.delete(r),co(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||eo(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),Ba(e)&&(e.addEventListener(`focus`,e=>so(e,i)),!ro(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function uo(e){return Vt(e)&&`ownerSVGElement`in e}function fo(e){return uo(e)&&e.tagName===`svg`}var po=e=>!!(e&&e.getVelocity),mo=[...Ca,ir,vr],ho=e=>mo.find(Sa(e)),go=(0,x.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function _o(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function vo(...e){return t=>{let n=!1,r=e.map(e=>{let r=_o(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():_o(e[t],null)}}}}function yo(...e){return x.useCallback(vo(...e),e)}var M=u(At(),1),bo=class extends x.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=Ba(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function N({children:e,isPresent:t,anchorX:n,root:r}){let i=(0,x.useId)(),a=(0,x.useRef)(null),o=(0,x.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,x.useContext)(go),c=yo(a,e?.ref);return(0,x.useInsertionEffect)(()=>{let{width:e,height:c,top:l,left:u,right:d}=o.current;if(t||!a.current||!e||!c)return;let f=n===`left`?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=i;let p=document.createElement(`style`);s&&(p.nonce=s);let m=r??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${l}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),(0,M.jsx)(bo,{isPresent:t,childRef:a,sizeRef:o,children:x.cloneElement(e,{ref:c})})}var xo=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:c})=>{let l=Mt(So),u=(0,x.useId)(),d=!0,f=(0,x.useMemo)(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:e=>{l.set(e,!0);for(let e of l.values())if(!e)return;r&&r()},register:e=>(l.set(e,!1),()=>l.delete(e))}),[n,l,r]);return a&&d&&(f={...f}),(0,x.useMemo)(()=>{l.forEach((e,t)=>l.set(t,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o===`popLayout`&&(e=(0,M.jsx)(N,{isPresent:n,anchorX:s,root:c,children:e})),(0,M.jsx)(Ft.Provider,{value:f,children:e})};function So(){return new Map}function Co(e=!0){let t=(0,x.useContext)(Ft);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,x.useId)();(0,x.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,x.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var wo=e=>e.key||``;function To(e){let t=[];return x.Children.forEach(e,e=>{(0,x.isValidElement)(e)&&t.push(e)}),t}var Eo=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1,anchorX:s=`left`,root:c})=>{let[l,u]=Co(o),d=(0,x.useMemo)(()=>To(e),[e]),f=o&&!l?[]:d.map(wo),p=(0,x.useRef)(!0),m=(0,x.useRef)(d),h=Mt(()=>new Map),[g,_]=(0,x.useState)(d),[v,y]=(0,x.useState)(d);Pt(()=>{p.current=!1,m.current=d;for(let e=0;e<v.length;e++){let t=wo(v[e]);f.includes(t)?h.delete(t):h.get(t)!==!0&&h.set(t,!1)}},[v,f.length,f.join(`-`)]);let b=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){let n=v[t],r=wo(n);f.includes(r)||(e.splice(t,0,n),b.push(n))}return a===`wait`&&b.length&&(e=b),y(To(e)),_(d),null}let{forceRender:S}=(0,x.useContext)(jt);return(0,M.jsx)(M.Fragment,{children:v.map(e=>{let g=wo(e),_=o&&!l?!1:d===v||f.includes(g);return(0,M.jsx)(xo,{isPresent:_,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:_?void 0:()=>{if(h.has(g))h.set(g,!0);else return;let e=!0;h.forEach(t=>{t||(e=!1)}),e&&(S?.(),y(m.current),o&&u?.(),r&&r())},anchorX:s,children:e},g)})})},Do=(0,x.createContext)({strict:!1}),Oo={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},ko={};for(let e in Oo)ko[e]={isEnabled:t=>Oo[e].some(e=>!!t[e])};function Ao(e){for(let t in e)ko[t]={...ko[t],...e[t]}}var jo=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.ignoreStrict.viewport`.split(`.`));function Mo(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||jo.has(e)}var No=c({default:()=>Po}),Po,Fo=o((()=>{throw Po={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),Io=e=>!Mo(e);function Lo(e){typeof e==`function`&&(Io=t=>t.startsWith(`on`)?!Mo(t):e(t))}try{Lo((Fo(),d(No)).default)}catch{}function Ro(e,t,n){let r={};for(let i in e)i===`values`&&typeof e.values==`object`||(Io(i)||n===!0&&Mo(i)||!t&&!Mo(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i]);return r}var zo=(0,x.createContext)({});function Bo(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function Vo(e){return typeof e==`string`||Array.isArray(e)}var Ho=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],Uo=[`initial`,...Ho];function Wo(e){return Bo(e.animate)||Uo.some(t=>Vo(e[t]))}function Go(e){return!!(Wo(e)||e.variants)}function Ko(e,t){if(Wo(e)){let{initial:t,animate:n}=e;return{initial:t===!1||Vo(t)?t:void 0,animate:Vo(n)?n:void 0}}return e.inherit===!1?{}:t}function qo(e){let{initial:t,animate:n}=Ko(e,(0,x.useContext)(zo));return(0,x.useMemo)(()=>({initial:t,animate:n}),[Jo(t),Jo(n)])}function Jo(e){return Array.isArray(e)?e.join(` `):e}var Yo={};function Xo(e){for(let t in e)Yo[t]=e[t],Nn(t)&&(Yo[t].isCSSVariable=!0)}function Zo(e,{layout:t,layoutId:n}){return Ai.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!Yo[e]||e===`opacity`)}var Qo={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},$o=ki.length;function es(e,t,n){let r=``,i=!0;for(let a=0;a<$o;a++){let o=ki[a],s=e[o];if(s===void 0)continue;let c=!0;if(c=typeof s==`number`?s===(o.startsWith(`scale`)?1:0):parseFloat(s)===0,!c||n){let e=za(s,ja[o]);if(!c){i=!1;let t=Qo[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function ts(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(Ai.has(e)){o=!0;continue}else if(Nn(e)){i[e]=n;continue}else{let t=za(n,ja[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=es(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}var ns=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rs(e,t,n){for(let r in t)!po(t[r])&&!Zo(r,n)&&(e[r]=t[r])}function is({transformTemplate:e},t){return(0,x.useMemo)(()=>{let n=ns();return ts(n,t,e),Object.assign({},n.vars,n.style)},[t])}function as(e,t){let n=e.style||{},r={};return rs(r,n,e),Object.assign(r,is(e,t)),r}function os(e,t){let n={},r=as(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var ss={offset:`stroke-dashoffset`,array:`stroke-dasharray`},cs={offset:`strokeDashoffset`,array:`strokeDasharray`};function ls(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?ss:cs;e[a.offset]=A.transform(-r);let o=A.transform(t),s=A.transform(n);e[a.array]=`${o} ${s}`}function us(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(ts(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&ls(d,i,a,o,!1)}var ds=()=>({...ns(),attrs:{}}),fs=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function ps(e,t,n,r){let i=(0,x.useMemo)(()=>{let n=ds();return us(n,t,fs(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};rs(t,e.style,e),i.style={...t,...i.style}}return i}var ms=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function hs(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(ms.indexOf(e)>-1||/[A-Z]/u.test(e))}function gs(e,t,n,{latestValues:r},i,a=!1){let o=(hs(e)?ps:os)(t,r,i,e),s=Ro(t,typeof e==`string`,a),c=e===x.Fragment?{}:{...s,...o,ref:n},{children:l}=t,u=(0,x.useMemo)(()=>po(l)?l.get():l,[l]);return(0,x.createElement)(e,{...c,children:u})}function _s(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function vs(e,t,n,r){if(typeof t==`function`){let[i,a]=_s(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=_s(r);t=t(n===void 0?e.custom:n,i,a)}return t}function ys(e){return po(e)?e.get():e}function bs({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:xs(n,r,i,e),renderState:t()}}function xs(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=ys(a[e]);let{initial:o,animate:s}=e,c=Wo(e),l=Go(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!Bo(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=vs(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var Ss=e=>(t,n)=>{let r=(0,x.useContext)(zo),i=(0,x.useContext)(Ft),a=()=>bs(e,t,r,i);return n?a():Mt(a)};function Cs(e,t,n){let{style:r}=e,i={};for(let a in r)(po(r[a])||t.style&&po(t.style[a])||Zo(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}var ws=Ss({scrapeMotionValuesFromProps:Cs,createRenderState:ns});function Ts(e,t,n){let r=Cs(e,t,n);for(let n in e)if(po(e[n])||po(t[n])){let t=ki.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var Es=Ss({scrapeMotionValuesFromProps:Ts,createRenderState:ds}),Ds=Symbol.for(`motionComponentSymbol`);function Os(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function ks(e,t,n){return(0,x.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==`function`?n(r):Os(n)&&(n.current=r))},[t])}var As=e=>e.replace(/([a-z])([A-Z])/gu,`$1-$2`).toLowerCase(),js=`data-`+As(`framerAppearId`),Ms=(0,x.createContext)({});function Ns(e,t,n,r,i){let{visualElement:a}=(0,x.useContext)(zo),o=(0,x.useContext)(Do),s=(0,x.useContext)(Ft),c=(0,x.useContext)(go).reducedMotion,l=(0,x.useRef)(null);r||=o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:c}));let u=l.current,d=(0,x.useContext)(Ms);u&&!u.projection&&i&&(u.type===`html`||u.type===`svg`)&&Ps(l.current,n,i,d);let f=(0,x.useRef)(!1);(0,x.useInsertionEffect)(()=>{u&&f.current&&u.update(n,s)});let p=n[js],m=(0,x.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Pt(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,x.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),!1),u.enteringChildren=void 0)}),u}function Ps(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:Fs(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&Os(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function Fs(e){if(e)return e.options.allowProjection===!1?Fs(e.parent):e.projection}function Is(e,{forwardMotionProps:t=!1}={},n,r){n&&Ao(n);let i=hs(e)?Es:ws;function a(a,o){let s,c={...(0,x.useContext)(go),...a,layoutId:Ls(a)},{isStatic:l}=c,u=qo(a),d=i(a,l);if(!l&&Nt){Rs(c,n);let t=zs(c);s=t.MeasureLayout,u.visualElement=Ns(e,d,c,r,t.ProjectionNode)}return(0,M.jsxs)(zo.Provider,{value:u,children:[s&&u.visualElement?(0,M.jsx)(s,{visualElement:u.visualElement,...c}):null,gs(e,a,ks(d,u.visualElement,o),d,l,t)]})}a.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let o=(0,x.forwardRef)(a);return o[Ds]=e,o}function Ls({layoutId:e}){let t=(0,x.useContext)(jt).id;return t&&e!==void 0?t+`-`+e:e}function Rs(e,t){(0,x.useContext)(Do).strict}function zs(e){let{drag:t,layout:n}=ko;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Bs(e,t){if(typeof Proxy>`u`)return Is;let n=new Map,r=(n,r)=>Is(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,Is(a,void 0,e,t)),n.get(a))})}function Vs({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Hs({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Us(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ws(e){return e===void 0||e===1}function Gs({scale:e,scaleX:t,scaleY:n}){return!Ws(e)||!Ws(t)||!Ws(n)}function Ks(e){return Gs(e)||qs(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qs(e){return Js(e.x)||Js(e.y)}function Js(e){return e&&e!==`0%`}function Ys(e,t,n){return n+t*(e-n)}function Xs(e,t,n,r,i){return i!==void 0&&(e=Ys(e,i,r)),Ys(e,n,r)+t}function Zs(e,t=0,n=1,r,i){e.min=Xs(e.min,t,n,r,i),e.max=Xs(e.max,t,n,r,i)}function Qs(e,{x:t,y:n}){Zs(e.x,t.translate,t.scale,t.originPoint),Zs(e.y,n.translate,n.scale,n.originPoint)}var $s=.999999999999,ec=1.0000000000001;function tc(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ic(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qs(e,o)),r&&Ks(a.latestValues)&&ic(e,a.latestValues))}t.x<ec&&t.x>$s&&(t.x=1),t.y<ec&&t.y>$s&&(t.y=1)}function nc(e,t){e.min+=t,e.max+=t}function rc(e,t,n,r,i=.5){Zs(e,t,n,Sr(e.min,e.max,i),r)}function ic(e,t){rc(e.x,t.x,t.scaleX,t.scale,t.originX),rc(e.y,t.y,t.scaleY,t.scale,t.originY)}function ac(e,t){return Vs(Us(e.getBoundingClientRect(),t))}function oc(e,t,n){let r=ac(e,n),{scroll:i}=t;return i&&(nc(r.x,i.offset.x),nc(r.y,i.offset.y)),r}var sc=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:sc(),y:sc()}),lc=()=>({min:0,max:0}),uc=()=>({x:lc(),y:lc()}),dc={current:null},fc={current:!1};function pc(){if(fc.current=!0,Nt)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>dc.current=e.matches;e.addEventListener(`change`,t),t()}else dc.current=!1}var mc=new WeakMap;function hc(e,t,n){for(let r in t){let i=t[r],a=n[r];if(po(i))e.addValue(r,i);else if(po(a))e.addValue(r,Ga(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,Ga(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var gc=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],_c=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=An.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,k.render(this.render,!1,!0))};let{latestValues:s,renderState:c}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Wo(t),this.isVariantNode=Go(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in u){let t=u[e];s[e]!==void 0&&po(t)&&t.set(s[e])}}mount(e){this.current=e,mc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),fc.current||pc(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:dc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),Tn(this.notifyUpdate),Tn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=Ai.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&k.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in ko){let t=ko[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):uc()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<gc.length;t++){let n=gc[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=hc(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Ga(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(Bt(n)||O(n))?n=parseFloat(n):!ho(n)&&vr.test(t)&&(n=Pa(e,t)),this.setBaseTarget(e,po(n)?n.get():n)),po(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=vs(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!po(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qt),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Ka.render(this.render)}},vc=class extends _c{constructor(){super(...arguments),this.KeyframeResolver=La}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;po(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}};function yc(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function bc(e){return window.getComputedStyle(e)}var xc=class extends vc{constructor(){super(...arguments),this.type=`html`,this.renderInstance=yc}readValueFromInstance(e,t){if(Ai.has(t))return this.projection?.isProjecting?Ti(t):Di(e,t);{let n=bc(e),r=(Nn(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ac(e,t)}build(e,t,n){ts(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Cs(e,t,n)}},Sc=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]);function Cc(e,t,n,r){for(let n in yc(e,t,void 0,r),t.attrs)e.setAttribute(Sc.has(n)?n:As(n),t.attrs[n])}var wc=class extends vc{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=uc}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ai.has(t)){let e=Na(t);return e&&e.default||0}return t=Sc.has(t)?t:As(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Ts(e,t,n)}build(e,t,n){us(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){Cc(e,t,n,r)}mount(e){this.isSVGTag=fs(e.tagName),super.mount(e)}},Tc=(e,t)=>hs(e)?new wc(t):new xc(t,{allowProjection:e!==x.Fragment});function Ec(e,t,n){let r=e.getProps();return vs(r,t,n===void 0?r.custom:n,e)}var Dc=e=>Array.isArray(e);function Oc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ga(n))}function kc(e){return Dc(e)?e[e.length-1]||0:e}function Ac(e,t){let{transitionEnd:n={},transition:r={},...i}=Ec(e,t)||{};for(let t in i={...i,...n},i)Oc(e,t,kc(i[t]))}function jc(e){return!!(po(e)&&e.add)}function Mc(e,t){let n=e.getValue(`willChange`);if(jc(n))return n.add(t);if(!n&&zt.WillChange){let n=new zt.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function Nc(e){return e.props[js]}var Pc=e=>e!==null;function Fc(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(Pc),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}var Ic={type:`spring`,stiffness:500,damping:25,restSpeed:10},Lc=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rc={type:`keyframes`,duration:.8},zc={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},Bc=(e,{keyframes:t})=>t.length>2?Rc:Ai.has(e)?e.startsWith(`scale`)?Lc(t[1]):Ic:zc;function Vc({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var Hc=(e,t,n,r={},i,a)=>o=>{let s=ya(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=Jt(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};Vc(s)||Object.assign(u,Bc(e,u)),u.duration&&=Jt(u.duration),u.repeatDelay&&=Jt(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(ua(u),u.delay===0&&(d=!0)),(zt.instantAnimations||zt.skipAnimations)&&(d=!0,ua(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=Fc(u.keyframes,s);if(e!==void 0){k.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new hi(u):new ha(u)};function Uc({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Wc(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);let c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||l&&Uc(l,t))continue;let o={delay:n,...ya(a||{},t)},u=r.get();if(u!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===u&&!o.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=Nc(e);if(n){let e=window.MotionHandoffAnimation(n,t,k);e!==null&&(o.startTime=e,d=!0)}}Mc(e,t),r.start(Hc(t,r,i,e.shouldReduceMotion&&ba.has(t)?{type:!1}:o,e,d));let f=r.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{k.update(()=>{o&&Ac(e,o)})}),c}function Gc(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}function Kc(e,t,n={}){let r=Ec(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(Wc(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return qc(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function qc(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(Kc(c,t,{...o,delay:n+(typeof r==`function`?0:r)+Gc(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function Jc(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>Kc(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=Kc(e,t,n);else{let i=typeof t==`function`?Ec(e,t,n.custom):t;r=Promise.all(Wc(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}function Yc(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Xc=Uo.length;function Zc(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&Zc(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<Xc;n++){let r=Uo[n],i=e.props[r];(Vo(i)||i===!1)&&(t[r]=i)}return t}var Qc=[...Ho].reverse(),$c=Ho.length;function el(e){return t=>Promise.all(t.map(({animation:t,options:n})=>Jc(e,t,n)))}function tl(e){let t=el(e),n=il(),r=!0,i=t=>(n,r)=>{let i=Ec(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=Zc(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<$c;t++){let f=Qc[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=Vo(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||Bo(m)||typeof m==`boolean`)continue;let v=nl(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},ee=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Dc(t)&&Dc(n)?!Yc(t,n):t!==n,r?t==null?l.add(e):ee(e):t!==void 0&&l.has(e)?ee(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let T=_&&v;y&&(!T||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=Ec(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=Gc(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=Ec(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=il()}}}function nl(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!Yc(t,e):!1}function rl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function il(){return{animate:rl(!0),whileInView:rl(),whileHover:rl(),whileTap:rl(),whileDrag:rl(),whileFocus:rl(),exit:rl()}}var al=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},ol=class extends al{constructor(e){super(e),e.animationState||=tl(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();Bo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},sl=0,cl={animation:{Feature:ol},exit:{Feature:class extends al{constructor(){super(...arguments),this.id=sl++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function ll(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ul(e){return{point:{x:e.pageX,y:e.pageY}}}var dl=e=>t=>to(t)&&e(t,ul(t));function fl(e,t,n,r){return ll(e,t,dl(n),r)}var pl=1e-4,ml=1-pl,hl=1+pl,gl=.01,_l=0-gl,vl=0+gl;function P(e){return e.max-e.min}function yl(e,t,n){return Math.abs(e-t)<=n}function bl(e,t,n,r=.5){e.origin=r,e.originPoint=Sr(t.min,t.max,e.origin),e.scale=P(n)/P(t),e.translate=Sr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ml&&e.scale<=hl||isNaN(e.scale))&&(e.scale=1),(e.translate>=_l&&e.translate<=vl||isNaN(e.translate))&&(e.translate=0)}function xl(e,t,n,r){bl(e.x,t.x,n.x,r?r.originX:void 0),bl(e.y,t.y,n.y,r?r.originY:void 0)}function Sl(e,t,n){e.min=n.min+t.min,e.max=e.min+P(t)}function Cl(e,t,n){Sl(e.x,t.x,n.x),Sl(e.y,t.y,n.y)}function wl(e,t,n){e.min=t.min-n.min,e.max=e.min+P(t)}function Tl(e,t,n){wl(e.x,t.x,n.x),wl(e.y,t.y,n.y)}function El(e){return[e(`x`),e(`y`)]}var Dl=({current:e})=>e?e.ownerDocument.defaultView:null,Ol=(e,t)=>Math.abs(e-t);function kl(e,t){let n=Ol(e.x,t.x),r=Ol(e.y,t.y);return Math.sqrt(n**2+r**2)}var Al=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=Nl(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=kl(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=En;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=jl(t,this.transformPagePoint),k.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=Nl(e.type===`pointercancel`?this.lastMoveEventInfo:jl(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!to(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let o=jl(ul(e),this.transformPagePoint),{point:s}=o,{timestamp:c}=En;this.history=[{...s,timestamp:c}];let{onSessionStart:l}=t;l&&l(e,Nl(o,this.history)),this.removeListeners=Gt(fl(this.contextWindow,`pointermove`,this.handlePointerMove),fl(this.contextWindow,`pointerup`,this.handlePointerUp),fl(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tn(this.updatePoint)}};function jl(e,t){return t?{point:t(e.point)}:e}function Ml(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nl({point:e},t){return{point:e,delta:Ml(e,Fl(t)),offset:Ml(e,Pl(t)),velocity:Il(t,.1)}}function Pl(e){return e[0]}function Fl(e){return e[e.length-1]}function Il(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=Fl(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Jt(t)));)n--;if(!r)return{x:0,y:0};let a=Yt(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ll(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Sr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Sr(n,e,r.max):Math.min(e,n)),e}function Rl(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function zl(e,{top:t,left:n,bottom:r,right:i}){return{x:Rl(e.x,n,i),y:Rl(e.y,t,r)}}function Bl(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Vl(e,t){return{x:Bl(e.x,t.x),y:Bl(e.y,t.y)}}function Hl(e,t){let n=.5,r=P(e),i=P(t);return i>r?n=Kt(t.min,t.max-r,e.min):r>i&&(n=Kt(e.min,e.max-i,t.min)),Rt(0,1,n)}function Ul(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Wl=.35;function Gl(e=Wl){return e===!1?e=0:e===!0&&(e=Wl),{x:Kl(e,`left`,`right`),y:Kl(e,`top`,`bottom`)}}function Kl(e,t,n){return{min:ql(e,t),max:ql(e,n)}}function ql(e,t){return typeof e==`number`?e:e[t]||0}var Jl=new WeakMap,Yl=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=uc(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ul(e).point)},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xa(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),El(e=>{let t=this.getAxisMotionValue(e).get()||0;if($n.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=P(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&k.postRender(()=>i(e,t)),Mc(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Xl(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>El(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Al(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:Dl(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&k.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!F(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Ll(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Os(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=zl(n.layoutBox,e):this.constraints=!1,this.elastic=Gl(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&El(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=Ul(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Os(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=oc(n,r.root,this.visualElement.getTransformPagePoint()),a=Vl(r.layout.layoutBox,i);if(t){let e=t(Hs(a));this.hasMutatedConstraints=!!e,e&&(a=Vs(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=El(o=>{if(!F(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return Mc(this.visualElement,e),n.start(Hc(e,n,0,t,this.visualElement,!1))}stopAnimation(){El(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){El(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){El(t=>{let{drag:n}=this.getProps();if(!F(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-Sr(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Os(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};El(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=Hl({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),El(t=>{if(!F(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(Sr(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Jl.set(this.visualElement,this);let e=this.visualElement.current,t=fl(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();Os(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),k.read(n);let a=ll(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(El(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Wl,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function F(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xl(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var I=class extends al{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new Yl(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}},L=e=>(t,n)=>{e&&k.postRender(()=>e(t,n))},Zl=class extends al{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new Al(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dl(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:L(e),onStart:L(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&k.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=fl(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},Ql={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $l(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var eu={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if(A.test(e))e=parseFloat(e);else return e;return`${$l(e,t.target.x)}% ${$l(e,t.target.y)}%`}},tu={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=vr.parse(e);if(i.length>5)return r;let a=vr.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=Sr(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},nu=!1,ru=class extends x.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Xo(au),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),nu&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ql.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,nu=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||k.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ka.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;nu=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function iu(e){let[t,n]=Co(),r=(0,x.useContext)(jt);return(0,M.jsx)(ru,{...e,layoutGroup:r,switchLayoutGroup:(0,x.useContext)(Ms),isPresent:t,safeToRemove:n})}var au={borderRadius:{...eu,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:tu};function ou(e,t,n){let r=po(e)?e:Ga(e);return r.start(Hc(``,r,t,n)),r.animation}var su=(e,t)=>e.depth-t.depth,cu=class{constructor(){this.children=[],this.isDirty=!1}add(e){It(this.children,e),this.isDirty=!0}remove(e){Lt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(su),this.isDirty=!1,this.children.forEach(e)}};function lu(e,t){let n=An.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(Tn(r),e(a-t))};return k.setup(r,!0),()=>Tn(r)}var uu=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],du=uu.length,fu=e=>typeof e==`string`?parseFloat(e):e,pu=e=>typeof e==`number`||A.test(e);function mu(e,t,n,r,i,a){i?(e.opacity=Sr(0,n.opacity??1,gu(r)),e.opacityExit=Sr(t.opacity??1,0,_u(r))):a&&(e.opacity=Sr(t.opacity??1,n.opacity??1,r));for(let i=0;i<du;i++){let a=`border${uu[i]}Radius`,o=hu(t,a),s=hu(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||pu(o)===pu(s)?(e[a]=Math.max(Sr(fu(o),fu(s),r),0),($n.test(s)||$n.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=Sr(t.rotate||0,n.rotate||0,r))}function hu(e,t){return e[t]===void 0?e.borderRadius:e[t]}var gu=vu(0,.5,un),_u=vu(.5,.95,Ut);function vu(e,t,n){return r=>r<e?0:r>t?1:n(Kt(e,t,r))}function yu(e,t){e.min=t.min,e.max=t.max}function bu(e,t){yu(e.x,t.x),yu(e.y,t.y)}function xu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Su(e,t,n,r,i){return e-=t,e=Ys(e,1/n,r),i!==void 0&&(e=Ys(e,1/i,r)),e}function Cu(e,t=0,n=1,r=.5,i,a=e,o=e){if($n.test(t)&&(t=parseFloat(t),t=Sr(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=Sr(a.min,a.max,r);e===a&&(s-=t),e.min=Su(e.min,t,n,s,i),e.max=Su(e.max,t,n,s,i)}function wu(e,t,[n,r,i],a,o){Cu(e,t[n],t[r],t[i],t.scale,a,o)}var Tu=[`x`,`scaleX`,`originX`],Eu=[`y`,`scaleY`,`originY`];function Du(e,t,n,r){wu(e.x,t,Tu,n?n.x:void 0,r?r.x:void 0),wu(e.y,t,Eu,n?n.y:void 0,r?r.y:void 0)}function Ou(e){return e.translate===0&&e.scale===1}function ku(e){return Ou(e.x)&&Ou(e.y)}function Au(e,t){return e.min===t.min&&e.max===t.max}function ju(e,t){return Au(e.x,t.x)&&Au(e.y,t.y)}function Mu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Nu(e,t){return Mu(e.x,t.x)&&Mu(e.y,t.y)}function Pu(e){return P(e.x)/P(e.y)}function Fu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var Iu=class{constructor(){this.members=[]}add(e){It(this.members,e),e.scheduleRender()}remove(e){if(Lt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Lu(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var Ru={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},zu=[``,`X`,`Y`,`Z`],Bu=1e3,Vu=0;function Hu(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Uu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=Nc(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,k,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Uu(r)}function Wu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=Vu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xn.value&&(Ru.nodes=Ru.calculatedTargetDeltas=Ru.calculatedProjections=0),this.nodes.forEach(qu),this.nodes.forEach(ed),this.nodes.forEach(td),this.nodes.forEach(Ju),xn.addProjectionMetrics&&xn.addProjectionMetrics(Ru)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new cu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qt),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=uo(t)&&!fo(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;k.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=lu(i,250),Ql.hasAnimatedSinceResize&&(Ql.hasAnimatedSinceResize=!1,this.nodes.forEach($u)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||cd,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!Nu(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...ya(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||$u(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nd),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xu);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zu);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qu),this.nodes.forEach(Gu),this.nodes.forEach(Ku)):this.nodes.forEach(Zu),this.clearAllSnapshots();let e=An.now();En.delta=Rt(0,1e3/60,e-En.timestamp),En.timestamp=e,En.isProcessing=!0,Dn.update.process(En),Dn.preRender.process(En),Dn.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ka.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yu),this.sharedNodes.forEach(rd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,k.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){k.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!P(this.snapshot.measuredBox.x)&&!P(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=uc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!ku(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ks(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),fd(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return uc();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(md))){let{scroll:e}=this.root;e&&(nc(t.x,e.offset.x),nc(t.y,e.offset.y))}return t}removeElementScroll(e){let t=uc();if(bu(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&bu(t,e),nc(t.x,i.offset.x),nc(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=uc();bu(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ic(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),Ks(r.latestValues)&&ic(n,r.latestValues)}return Ks(this.latestValues)&&ic(n,this.latestValues),n}removeTransform(e){let t=uc();bu(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!Ks(n.latestValues))continue;Gs(n.latestValues)&&n.updateSnapshot();let r=uc();bu(r,n.measurePageBox()),Du(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return Ks(this.latestValues)&&Du(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=uc(),this.relativeTargetOrigin=uc(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),bu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=uc(),this.targetWithTransforms=uc()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cl(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bu(this.target,this.layout.layoutBox),Qs(this.target,this.targetDelta)):bu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=uc(),this.relativeTargetOrigin=uc(),Tl(this.relativeTargetOrigin,this.target,e.target),bu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xn.value&&Ru.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gs(this.parent.latestValues)||qs(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===En.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;bu(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;tc(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=uc());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xu(this.prevProjectionDelta.x,this.projectionDelta.x),xu(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!Fu(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),xn.value&&Ru.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=uc(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(sd));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;id(a.x,e.x,n),id(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),od(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&ju(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=uc(),bu(d,this.relativeTarget)),s&&(this.animationValues=i,mu(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(Tn(this.pendingAnimation),void 0),this.pendingAnimation=k.update(()=>{Ql.hasAnimatedSinceResize=!0,jn.layout++,this.motionValue||=Ga(0),this.currentAnimation=ou(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{jn.layout--},onComplete:()=>{jn.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&pd(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||uc();let t=P(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=P(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}bu(t,n),ic(t,i),xl(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Iu),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&Hu(`z`,e,r,this.animationValues);for(let t=0;t<zu.length;t++)Hu(`rotate${zu[t]}`,e,r,this.animationValues),Hu(`skew${zu[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=ys(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=ys(t?.pointerEvents)||``),this.hasProjected&&!Ks(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=Lu(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,Yo){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=Yo[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?ys(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Xu),this.root.sharedNodes.clear()}}}function Gu(e){e.updateLayout()}function Ku(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?El(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=P(r);r.min=n[e].min,r.max=r.min+i}):pd(i,t.layoutBox,n)&&El(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=P(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=cc();xl(o,n,t.layoutBox);let s=cc();a?xl(s,e.applyTransform(r,!0),t.measuredBox):xl(s,n,t.layoutBox);let c=!ku(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=uc();Tl(o,t.layoutBox,i.layoutBox);let s=uc();Tl(s,n,a.layoutBox),Nu(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function qu(e){xn.value&&Ru.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function Ju(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yu(e){e.clearSnapshot()}function Xu(e){e.clearMeasurements()}function Zu(e){e.isLayoutDirty=!1}function Qu(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function $u(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ed(e){e.resolveTargetDelta()}function td(e){e.calcProjection()}function nd(e){e.resetSkewAndRotation()}function rd(e){e.removeLeadSnapshot()}function id(e,t,n){e.translate=Sr(t.translate,0,n),e.scale=Sr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ad(e,t,n,r){e.min=Sr(t.min,n.min,r),e.max=Sr(t.max,n.max,r)}function od(e,t,n,r){ad(e.x,t.x,n.x,r),ad(e.y,t.y,n.y,r)}function sd(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var cd={duration:.45,ease:[.4,0,.1,1]},ld=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ud=ld(`applewebkit/`)&&!ld(`chrome/`)?Math.round:Ut;function dd(e){e.min=ud(e.min),e.max=ud(e.max)}function fd(e){dd(e.x),dd(e.y)}function pd(e,t,n){return e===`position`||e===`preserve-aspect`&&!yl(Pu(t),Pu(n),.2)}function md(e){return e!==e.root&&e.scroll?.wasRoot}var hd=Wu({attachResizeListener:(e,t)=>ll(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gd={current:void 0},_d=Wu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gd.current){let e=new hd({});e.mount(window),e.setOptions({layoutScroll:!0}),gd.current=e}return gd.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),vd={pan:{Feature:Zl},drag:{Feature:I,ProjectionNode:_d,MeasureLayout:iu}};function yd(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=r[`onHover`+n];i&&k.postRender(()=>i(t,ul(t)))}var bd=class extends al{mount(){let{current:e}=this.node;e&&(this.unmount=$a(e,(e,t)=>(yd(this.node,t,`Start`),e=>yd(this.node,e,`End`))))}unmount(){}},xd=class extends al{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=Gt(ll(this.node.current,`focus`,()=>this.onFocus()),ll(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function Sd(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=r[`onTap`+(n===`End`?``:n)];i&&k.postRender(()=>i(t,ul(t)))}var Cd=class extends al{mount(){let{current:e}=this.node;e&&(this.unmount=lo(e,(e,t)=>(Sd(this.node,t,`Start`),(e,{success:t})=>Sd(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}},wd=new WeakMap,Td=new WeakMap,Ed=e=>{let t=wd.get(e.target);t&&t(e)},Dd=e=>{e.forEach(Ed)};function Od({root:e,...t}){let n=e||document;Td.has(n)||Td.set(n,{});let r=Td.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Dd,{root:e,...t})),r[i]}function kd(e,t,n){let r=Od(t);return wd.set(e,n),r.observe(e),()=>{wd.delete(e),r.unobserve(e)}}var Ad={some:0,all:1},jd=class extends al{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:Ad[r]};return kd(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(Md(e,t))&&this.startObserver()}unmount(){}};function Md({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var Nd={inView:{Feature:jd},tap:{Feature:Cd},focus:{Feature:xd},hover:{Feature:bd}},R={layout:{ProjectionNode:_d,MeasureLayout:iu}},Pd=Bs({...cl,...Nd,...vd,...R},Tc),Fd=()=>void 0,Id=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ld=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Id(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ld(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new zd;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zd=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Bd=function(e){let t=Id(e);return Rd.encodeByteArray(t,!0)},Vd=function(e){return Bd(e).replace(/\./g,``)},Hd=function(e){try{return Rd.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Ud(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Wd=()=>Ud().__FIREBASE_DEFAULTS__,Gd=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kd=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Hd(e[1]);return t&&JSON.parse(t)},z=()=>{try{return Fd()||Wd()||Gd()||Kd()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},qd=e=>z()?.emulatorHosts?.[e],Jd=e=>{let t=qd(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Yd=()=>z()?.config,Xd=e=>z()?.[`_${e}`],Zd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function Qd(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function $d(e){return(await fetch(e,{credentials:`include`})).ok}function ef(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Vd(JSON.stringify(n)),Vd(JSON.stringify(o)),``].join(`.`)}var tf={};function nf(){let e={prod:[],emulator:[]};for(let t of Object.keys(tf))tf[t]?e.emulator.push(t):e.prod.push(t);return e}function rf(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var af=!1;function of(e,t){if(typeof window>`u`||typeof document>`u`||!Qd(window.location.host)||tf[e]===t||tf[e]||af)return;tf[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=nf().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{af=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=rf(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function sf(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function cf(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sf())}function lf(){let e=z()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function uf(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function df(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function ff(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function pf(){let e=sf();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function mf(){return!lf()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function hf(){try{return typeof indexedDB==`object`}catch{return!1}}function gf(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}function _f(){return!(typeof navigator>`u`||!navigator.cookieEnabled)}var vf=`FirebaseError`,yf=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=vf,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}},bf=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?xf(i,n):`Error`;return new yf(r,`${this.serviceName}: ${a} (${r}).`,n)}};function xf(e,t){return e.replace(Sf,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Sf=/\{\$([^}]+)}/g;function Cf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wf(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Tf(n)&&Tf(a)){if(!wf(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Tf(e){return typeof e==`object`&&!!e}function Ef(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Df(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Of(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function kf(e,t){let n=new Af(e,t);return n.subscribe.bind(n)}var Af=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=jf(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Mf),r.error===void 0&&(r.error=Mf),r.complete===void 0&&(r.complete=Mf);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jf(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Mf(){}var Nf=1e3,Pf=2,Ff=14400*1e3,If=.5;function Lf(e,t=Nf,n=Pf){let r=t*n**+e,i=Math.round(If*r*(Math.random()-.5)*2);return Math.min(Ff,r+i)}function Rf(e){return e&&e._delegate?e._delegate:e}var zf=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Bf=`[DEFAULT]`,Vf=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new Zd;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Uf(e))try{this.getOrInitializeService({instanceIdentifier:Bf})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Bf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bf){return this.instances.has(e)}getOptions(e=Bf){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Hf(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bf){return this.component?this.component.multipleInstances?e:Bf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Hf(e){return e===Bf?void 0:e}function Uf(e){return e.instantiationMode===`EAGER`}var Wf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Vf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Gf=[],B;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(B||={});var Kf={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},qf=B.INFO,Jf={[B.DEBUG]:`log`,[B.VERBOSE]:`log`,[B.INFO]:`info`,[B.WARN]:`warn`,[B.ERROR]:`error`},Yf=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Jf[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Xf=class{constructor(e){this.name=e,this._logLevel=qf,this._logHandler=Yf,this._userLogHandler=null,Gf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Kf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...e),this._logHandler(this,B.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...e),this._logHandler(this,B.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,B.INFO,...e),this._logHandler(this,B.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,B.WARN,...e),this._logHandler(this,B.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...e),this._logHandler(this,B.ERROR,...e)}},Zf=(e,t)=>t.some(t=>e instanceof t),Qf,$f;function ep(){return Qf||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function tp(){return $f||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var np=new WeakMap,rp=new WeakMap,ip=new WeakMap,ap=new WeakMap,op=new WeakMap;function sp(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(pp(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&np.set(t,e)}).catch(()=>{}),op.set(t,e),t}function cp(e){if(rp.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});rp.set(e,t)}var lp={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return rp.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||ip.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pp(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function up(e){lp=e(lp)}function dp(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(mp(this),t,...n);return ip.set(r,t.sort?t.sort():[t]),pp(r)}:tp().includes(e)?function(...t){return e.apply(mp(this),t),pp(np.get(this))}:function(...t){return pp(e.apply(mp(this),t))}}function fp(e){return typeof e==`function`?dp(e):(e instanceof IDBTransaction&&cp(e),Zf(e,ep())?new Proxy(e,lp):e)}function pp(e){if(e instanceof IDBRequest)return sp(e);if(ap.has(e))return ap.get(e);let t=fp(e);return t!==e&&(ap.set(e,t),op.set(t,e)),t}var mp=e=>op.get(e);function hp(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=pp(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(pp(o.result),e.oldVersion,e.newVersion,pp(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}function gp(e,{blocked:t}={}){let n=indexedDB.deleteDatabase(e);return t&&n.addEventListener(`blocked`,e=>t(e.oldVersion,e)),pp(n).then(()=>void 0)}var _p=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],vp=[`put`,`add`,`delete`,`clear`],yp=new Map;function bp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(yp.get(t))return yp.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=vp.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_p.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return yp.set(t,a),a}up(e=>({...e,get:(t,n,r)=>bp(t,n)||e.get(t,n,r),has:(t,n)=>!!bp(t,n)||e.has(t,n)}));var xp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Sp(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Sp(e){return e.getComponent()?.type===`VERSION`}var Cp=`@firebase/app`,wp=`0.14.6`,Tp=new Xf(`@firebase/app`),Ep=`@firebase/app-compat`,Dp=`@firebase/analytics-compat`,Op=`@firebase/analytics`,kp=`@firebase/app-check-compat`,Ap=`@firebase/app-check`,jp=`@firebase/auth`,Mp=`@firebase/auth-compat`,Np=`@firebase/database`,Pp=`@firebase/data-connect`,Fp=`@firebase/database-compat`,Ip=`@firebase/functions`,Lp=`@firebase/functions-compat`,Rp=`@firebase/installations`,zp=`@firebase/installations-compat`,Bp=`@firebase/messaging`,Vp=`@firebase/messaging-compat`,Hp=`@firebase/performance`,Up=`@firebase/performance-compat`,Wp=`@firebase/remote-config`,Gp=`@firebase/remote-config-compat`,Kp=`@firebase/storage`,qp=`@firebase/storage-compat`,Jp=`@firebase/firestore`,Yp=`@firebase/ai`,Xp=`@firebase/firestore-compat`,Zp=`firebase`,Qp=`12.6.0`,$p=`[DEFAULT]`,em={[Cp]:`fire-core`,[Ep]:`fire-core-compat`,[Op]:`fire-analytics`,[Dp]:`fire-analytics-compat`,[Ap]:`fire-app-check`,[kp]:`fire-app-check-compat`,[jp]:`fire-auth`,[Mp]:`fire-auth-compat`,[Np]:`fire-rtdb`,[Pp]:`fire-data-connect`,[Fp]:`fire-rtdb-compat`,[Ip]:`fire-fn`,[Lp]:`fire-fn-compat`,[Rp]:`fire-iid`,[zp]:`fire-iid-compat`,[Bp]:`fire-fcm`,[Vp]:`fire-fcm-compat`,[Hp]:`fire-perf`,[Up]:`fire-perf-compat`,[Wp]:`fire-rc`,[Gp]:`fire-rc-compat`,[Kp]:`fire-gcs`,[qp]:`fire-gcs-compat`,[Jp]:`fire-fst`,[Xp]:`fire-fst-compat`,[Yp]:`fire-vertex`,"fire-js":`fire-js`,[Zp]:`fire-js-all`},tm=new Map,nm=new Map,rm=new Map;function im(e,t){try{e.container.addComponent(t)}catch(n){Tp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function am(e){let t=e.name;if(rm.has(t))return Tp.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,e);for(let t of tm.values())im(t,e);for(let t of nm.values())im(t,e);return!0}function om(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sm(e){return e==null?!1:e.settings!==void 0}var cm=new bf(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),lm=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zf(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cm.create(`app-deleted`,{appName:this._name})}},um=Qp;function dm(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:$p,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw cm.create(`bad-app-name`,{appName:String(i)});if(n||=Yd(),!n)throw cm.create(`no-options`);let a=tm.get(i);if(a){if(wf(n,a.options)&&wf(r,a.config))return a;throw cm.create(`duplicate-app`,{appName:i})}let o=new Wf(i);for(let e of rm.values())o.addComponent(e);let s=new lm(n,r,o);return tm.set(i,s),s}function fm(e=$p){let t=tm.get(e);if(!t&&e===`[DEFAULT]`&&Yd())return dm();if(!t)throw cm.create(`no-app`,{appName:e});return t}function pm(e,t,n){let r=em[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tp.warn(e.join(` `));return}am(new zf(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var mm=`firebase-heartbeat-database`,hm=1,gm=`firebase-heartbeat-store`,_m=null;function vm(){return _m||=hp(mm,hm,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gm)}catch(e){console.warn(e)}}}}).catch(e=>{throw cm.create(`idb-open`,{originalErrorMessage:e.message})}),_m}async function ym(e){try{let t=(await vm()).transaction(gm),n=await t.objectStore(gm).get(xm(e));return await t.done,n}catch(e){if(e instanceof yf)Tp.warn(e.message);else{let t=cm.create(`idb-get`,{originalErrorMessage:e?.message});Tp.warn(t.message)}}}async function bm(e,t){try{let n=(await vm()).transaction(gm,`readwrite`);await n.objectStore(gm).put(t,xm(e)),await n.done}catch(e){if(e instanceof yf)Tp.warn(e.message);else{let t=cm.create(`idb-set`,{originalErrorMessage:e?.message});Tp.warn(t.message)}}}function xm(e){return`${e.name}!${e.options.appId}`}var Sm=1024,Cm=30,wm=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new Dm(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Tm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Cm){let e=km(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tp.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Tm(),{heartbeatsToSend:t,unsentEntries:n}=Em(this._heartbeatsCache.heartbeats),r=Vd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Tp.warn(e),``}}};function Tm(){return new Date().toISOString().substring(0,10)}function Em(e,t=Sm){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Om(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Om(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Dm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hf()?gf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await ym(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return bm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return bm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Om(e){return Vd(JSON.stringify({version:2,heartbeats:e})).length}function km(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Am(e){am(new zf(`platform-logger`,e=>new xp(e),`PRIVATE`)),am(new zf(`heartbeat`,e=>new wm(e),`PRIVATE`)),pm(Cp,wp,e),pm(Cp,wp,`esm2020`),pm(`fire-js`,``)}Am(``);function jm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Mm=jm,Nm=new bf(`auth`,`Firebase`,jm()),Pm=new Xf(`@firebase/auth`);function Fm(e,...t){Pm.logLevel<=B.WARN&&Pm.warn(`Auth (${um}): ${e}`,...t)}function Im(e,...t){Pm.logLevel<=B.ERROR&&Pm.error(`Auth (${um}): ${e}`,...t)}function Lm(e,...t){throw Vm(e,...t)}function Rm(e,...t){return Vm(e,...t)}function zm(e,t,n){return new bf(`auth`,`Firebase`,{...Mm(),[t]:n}).create(t,{appName:e.name})}function Bm(e){return zm(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Vm(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Nm.create(e,...t)}function V(e,t,...n){if(!e)throw Vm(t,...n)}function Hm(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Im(t),Error(t)}function Um(e,t){e||Hm(t)}function Wm(){return typeof self<`u`&&self.location?.href||``}function Gm(){return Km()===`http:`||Km()===`https:`}function Km(){return typeof self<`u`&&self.location?.protocol||null}function qm(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Gm()||df()||`connection`in navigator)?navigator.onLine:!0}function Jm(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ym=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Um(t>e,`Short delay should be less than long delay!`),this.isMobile=cf()||ff()}get(){return qm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xm(e,t){Um(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Zm=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Hm(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Hm(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Hm(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},Qm={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},$m=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],eh=new Ym(3e4,6e4);function th(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function nh(e,t,n,r,i={}){return rh(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Ef({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return uf()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&Qd(e.emulatorConfig.host)&&(c.credentials=`include`),Zm.fetch()(await ah(e,e.config.apiHost,n,o),c)})}async function rh(e,t,n){e._canInitEmulator=!1;let r={...Qm,...t};try{let t=new sh(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw ch(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw ch(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw ch(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw ch(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw zm(e,o,n);Lm(e,o)}}catch(t){if(t instanceof yf)throw t;Lm(e,`network-request-failed`,{message:String(t)})}}async function ih(e,t,n,r,i={}){let a=await nh(e,t,n,r,i);return`mfaPendingCredential`in a&&Lm(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function ah(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Xm(e.config,i):`${e.config.apiScheme}://${i}`;return $m.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function oh(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var sh=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Rm(this.auth,`network-request-failed`)),eh.get())})}};function ch(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Rm(e,t,r);return i.customData._tokenResponse=n,i}function lh(e){return e!==void 0&&e.enterprise!==void 0}var uh=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return oh(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function dh(e,t){return nh(e,`GET`,`/v2/recaptchaConfig`,th(e,t))}async function fh(e,t){return nh(e,`POST`,`/v1/accounts:delete`,t)}async function ph(e,t){return nh(e,`POST`,`/v1/accounts:lookup`,t)}function mh(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hh(e,t=!1){let n=Rf(e),r=await n.getIdToken(t),i=_h(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:mh(gh(i.auth_time)),issuedAtTime:mh(gh(i.iat)),expirationTime:mh(gh(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function gh(e){return Number(e)*1e3}function _h(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Im(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Hd(n);return e?JSON.parse(e):(Im(`Failed to decode base64 JWT payload`),null)}catch(e){return Im(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function vh(e){let t=_h(e);return V(t,`internal-error`),V(t.exp!==void 0,`internal-error`),V(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function yh(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof yf&&bh(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function bh({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var xh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},Sh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Ch(e){let t=e.auth,n=await yh(e,ph(t,{idToken:await e.getIdToken()}));V(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Eh(r.providerUserInfo):[],a=Th(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Sh(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function wh(e){let t=Rf(e);await Ch(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Th(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Eh(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Dh(e,t){let n=await rh(e,{},async()=>{let n=Ef({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await ah(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&Qd(e.emulatorConfig.host)&&(s.credentials=`include`),Zm.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Oh(e,t){return nh(e,`POST`,`/v2/accounts:revokeToken`,th(e,t))}var kh=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,`internal-error`),V(e.idToken!==void 0,`internal-error`),V(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):vh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){V(e.length!==0,`internal-error`);let t=vh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Dh(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(V(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(V(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(V(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Hm(`not implemented`)}};function Ah(e,t){V(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var jh=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new xh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Sh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await yh(this,this.stsTokenManager.getToken(this.auth,e));return V(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hh(this,e)}reload(){return wh(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sm(this.auth.app))return Promise.reject(Bm(this.auth));let e=await this.getIdToken();return await yh(this,fh(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;V(d&&h,t,`internal-error`);let g=kh.fromJSON(this.name,h);V(typeof d==`string`,t,`internal-error`),Ah(r,t.name),Ah(i,t.name),V(typeof f==`boolean`,t,`internal-error`),V(typeof p==`boolean`,t,`internal-error`),Ah(a,t.name),Ah(o,t.name),Ah(s,t.name),Ah(c,t.name),Ah(l,t.name),Ah(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new kh;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Ch(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];V(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Eh(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new kh;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Mh=new Map;function Nh(e){Um(e instanceof Function,`Expected a class definition`);let t=Mh.get(e);return t?(Um(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Mh.set(e,t),t)}var Ph=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Ph.type=`NONE`;var Fh=Ph;function Ih(e,t,n){return`firebase:${e}:${t}:${n}`}var Lh=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Ih(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ih(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await ph(this.auth,{idToken:e}).catch(()=>void 0);return t?jh._fromGetAccountInfoResponse(this.auth,t,e):null}return jh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Nh(Fh),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Nh(Fh),o=Ih(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await ph(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await jh._fromGetAccountInfoResponse(t,e,n)}else r=jh._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function Rh(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(Hh(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(zh(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(Wh(t))return`Blackberry`;if(Gh(t))return`Webos`;if(Bh(t))return`Safari`;if((t.includes(`chrome/`)||Vh(t))&&!t.includes(`edge/`))return`Chrome`;if(Uh(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function zh(e=sf()){return/firefox\//i.test(e)}function Bh(e=sf()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function Vh(e=sf()){return/crios\//i.test(e)}function Hh(e=sf()){return/iemobile/i.test(e)}function Uh(e=sf()){return/android/i.test(e)}function Wh(e=sf()){return/blackberry/i.test(e)}function Gh(e=sf()){return/webos/i.test(e)}function Kh(e=sf()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qh(e=sf()){return Kh(e)&&!!window.navigator?.standalone}function Jh(){return pf()&&document.documentMode===10}function Yh(e=sf()){return Kh(e)||Uh(e)||Gh(e)||Wh(e)||/windows phone/i.test(e)||Hh(e)}function Xh(e,t=[]){let n;switch(e){case`Browser`:n=Rh(sf());break;case`Worker`:n=`${Rh(sf())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${um}/${r}`}var Zh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function Qh(e,t={}){return nh(e,`GET`,`/v2/passwordPolicy`,th(e,t))}var $h=6,eg=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$h,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},tg=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rg(this),this.idTokenSubscription=new rg(this),this.beforeStateQueue=new Zh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nh(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ph(this,{idToken:e}),n=await jh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sm(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jm()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sm(this.app))return Promise.reject(Bm(this));let t=e?Rf(e):null;return t&&V(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sm(this.app)?Promise.reject(Bm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sm(this.app)?Promise.reject(Bm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eg(await Qh(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bf(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Oh(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Nh(e)||this._popupRedirectResolver;V(t,this,`argument-error`),this.redirectPersistenceManager=await Lh.create(this,[Nh(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(sm(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Fm(`Error while retrieving App Check token: ${e.error}`),e?.token}};function ng(e){return Rf(e)}var rg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kf(e=>this.observer=e)}get next(){return V(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},ig={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function ag(e){ig=e}function og(e){return ig.loadJS(e)}function sg(){return ig.recaptchaEnterpriseScript}function cg(){return ig.gapiScript}function lg(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var ug=class{constructor(){this.enterprise=new dg}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},dg=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},fg=`recaptcha-enterprise`,pg=`NO_RECAPTCHA`,mg=class{constructor(e){this.type=fg,this.auth=ng(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{dh(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new uh(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;lh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(pg)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new ug().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&lh(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=sg();t.length!==0&&(t+=n),og(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function hg(e,t,n,r=!1,i=!1){let a=new mg(e),o;if(i)o=pg;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function gg(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await hg(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await hg(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await hg(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await hg(e,t,n,!1,!0))):Promise.reject(i)):r(e,await hg(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function _g(e){let t=ng(e),n=new uh(await dh(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new mg(t).verify()}function vg(e,t){let n=om(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(wf(n.getOptions(),t??{}))return e;Lm(e,`already-initialized`)}return n.initialize({options:t})}function yg(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nh);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function bg(e,t,n){let r=ng(e);V(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=xg(t),{host:o,port:s}=Sg(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){V(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),V(wf(l,r.config.emulator)&&wf(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Qd(o)?($d(`${a}//${o}${c}`),of(`Auth`,!0)):i||wg()}function xg(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function Sg(e){let t=xg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:Cg(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:Cg(t)}}}function Cg(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function wg(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var Tg=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hm(`not implemented`)}_getIdTokenResponse(e){return Hm(`not implemented`)}_linkToIdToken(e,t){return Hm(`not implemented`)}_getReauthenticationResolver(e){return Hm(`not implemented`)}};async function Eg(e,t){return nh(e,`POST`,`/v1/accounts:signUp`,t)}async function Dg(e,t){return ih(e,`POST`,`/v1/accounts:signInWithPassword`,th(e,t))}async function Og(e,t){return ih(e,`POST`,`/v1/accounts:signInWithEmailLink`,th(e,t))}async function kg(e,t){return ih(e,`POST`,`/v1/accounts:signInWithEmailLink`,th(e,t))}var Ag=class e extends Tg{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return gg(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,Dg,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Og(e,{email:this._email,oobCode:this._password});default:Lm(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return gg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Eg,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return kg(e,{idToken:t,email:this._email,oobCode:this._password});default:Lm(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function jg(e,t){return ih(e,`POST`,`/v1/accounts:signInWithIdp`,th(e,t))}var Mg=`http://localhost`,Ng=class e extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Lm(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return jg(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,jg(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,jg(e,t)}buildRequest(){let e={requestUri:Mg,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ef(t)}return e}};async function Pg(e,t){return nh(e,`POST`,`/v1/accounts:sendVerificationCode`,th(e,t))}async function Fg(e,t){return ih(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,th(e,t))}async function Ig(e,t){let n=await ih(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,th(e,t));if(n.temporaryProof)throw ch(e,`account-exists-with-different-credential`,n);return n}var Lg={USER_NOT_FOUND:`user-not-found`};async function Rg(e,t){return ih(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,th(e,{...t,operation:`REAUTH`}),Lg)}var zg=class e extends Tg{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return Fg(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Ig(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Rg(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function Bg(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Vg(e){let t=Df(Of(e)).link,n=t?Df(Of(t)).deep_link_id:null,r=Df(Of(e)).deep_link_id;return(r?Df(Of(r)).link:null)||r||n||t||e}var Hg=class e{constructor(e){let t=Df(Of(e)),n=t.apiKey??null,r=t.oobCode??null,i=Bg(t.mode??null);V(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Vg(t);try{return new e(n)}catch{return null}}},Ug=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ag._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Hg.parseLink(t);return V(n,`argument-error`),Ag._fromEmailAndCode(e,n.code,n.tenantId)}};Ug.PROVIDER_ID=`password`,Ug.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Ug.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Wg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},Gg=class extends Wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Kg=class e extends Gg{constructor(){super(`facebook.com`)}static credential(t){return Ng._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Kg.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Kg.PROVIDER_ID=`facebook.com`;var qg=class e extends Gg{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Ng._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};qg.GOOGLE_SIGN_IN_METHOD=`google.com`,qg.PROVIDER_ID=`google.com`;var Jg=class e extends Gg{constructor(){super(`github.com`)}static credential(t){return Ng._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Jg.GITHUB_SIGN_IN_METHOD=`github.com`,Jg.PROVIDER_ID=`github.com`;var Yg=class e extends Gg{constructor(){super(`twitter.com`)}static credential(t,n){return Ng._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Yg.TWITTER_SIGN_IN_METHOD=`twitter.com`,Yg.PROVIDER_ID=`twitter.com`;async function Xg(e,t){return ih(e,`POST`,`/v1/accounts:signUp`,th(e,t))}var Zg=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await jh._fromIdTokenResponse(t,r,i),providerId:Qg(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:Qg(r),_tokenResponse:r,operationType:n})}};function Qg(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var $g=class e extends yf{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function e_(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?$g._fromErrorAndOperation(e,n,t,r):n})}async function t_(e,t,n=!1){let r=await yh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Zg._forOperation(e,`link`,r)}async function n_(e,t,n=!1){let{auth:r}=e;if(sm(r.app))return Promise.reject(Bm(r));let i=`reauthenticate`;try{let a=await yh(e,e_(r,i,t,e),n);V(a.idToken,r,`internal-error`);let o=_h(a.idToken);V(o,r,`internal-error`);let{sub:s}=o;return V(e.uid===s,r,`user-mismatch`),Zg._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&Lm(r,`user-mismatch`),e}}async function r_(e,t,n=!1){if(sm(e.app))return Promise.reject(Bm(e));let r=`signIn`,i=await e_(e,r,t),a=await Zg._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function i_(e,t){return r_(ng(e),t)}async function a_(e){let t=ng(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function o_(e,t,n){if(sm(e.app))return Promise.reject(Bm(e));let r=ng(e),i=await gg(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Xg,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&a_(e),t}),a=await Zg._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function s_(e,t,n){return sm(e.app)?Promise.reject(Bm(e)):i_(Rf(e),Ug.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&a_(e),t})}function c_(e,t,n,r){return Rf(e).onIdTokenChanged(t,n,r)}function l_(e,t,n){return Rf(e).beforeAuthStateChanged(t,n)}function u_(e,t,n,r){return Rf(e).onAuthStateChanged(t,n,r)}function d_(e){return Rf(e).signOut()}function f_(e,t){return nh(e,`POST`,`/v2/accounts/mfaEnrollment:start`,th(e,t))}function p_(e,t){return nh(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,th(e,t))}function m_(e,t){return nh(e,`POST`,`/v2/accounts/mfaEnrollment:start`,th(e,t))}function h_(e,t){return nh(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,th(e,t))}var g_=`__sak`,__=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(g_,`1`),this.storage.removeItem(g_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},v_=1e3,y_=10,b_=class extends __{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Jh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,y_):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},v_)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};b_.type=`LOCAL`;var x_=b_,S_=1e3;function C_(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function w_(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var T_=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=w_(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:C_(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=w_(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=w_(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=C_(n),i=setInterval(()=>{let e=C_(n);e!==r&&(t(e),r=e)},S_);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};T_.type=`COOKIE`;var E_=class extends __{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};E_.type=`SESSION`;var D_=E_;function O_(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var k_=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await O_(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};k_.receivers=[];function A_(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var j_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=A_(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function M_(){return window}function N_(e){M_().location.href=e}function P_(){return M_().WorkerGlobalScope!==void 0&&typeof M_().importScripts==`function`}async function F_(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I_(){return navigator?.serviceWorker?.controller||null}function L_(){return P_()?self:null}var R_=`firebaseLocalStorageDb`,z_=1,B_=`firebaseLocalStorage`,V_=`fbase_key`,H_=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function U_(e,t){return e.transaction([B_],t?`readwrite`:`readonly`).objectStore(B_)}function W_(){return new H_(indexedDB.deleteDatabase(R_)).toPromise()}function G_(){let e=indexedDB.open(R_,z_);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(B_,{keyPath:V_})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(B_)?t(n):(n.close(),await W_(),t(await G_()))})})}async function K_(e,t,n){return new H_(U_(e,!0).put({[V_]:t,value:n})).toPromise()}async function q_(e,t){let n=await new H_(U_(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function J_(e,t){return new H_(U_(e,!0).delete(t)).toPromise()}var Y_=800,X_=3,Z_=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await G_(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>X_)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return P_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=k_._getInstance(L_()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await F_(),!this.activeServiceWorker)return;this.sender=new j_(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I_()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await G_();return await K_(e,g_,`1`),await J_(e,g_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>K_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>q_(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new H_(U_(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y_)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Z_.type=`LOCAL`;var Q_=Z_;function $_(e,t){return nh(e,`POST`,`/v2/accounts/mfaSignIn:start`,th(e,t))}function ev(e,t){return nh(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,th(e,t))}function tv(e,t){return nh(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,th(e,t))}lg(`rcb`),new Ym(3e4,6e4);var nv=`recaptcha`;async function rv(e,t,n){if(!e._getRecaptchaConfig())try{await _g(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return V(t.type===`enroll`,e,`internal-error`),(await gg(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===pg?(V(n?.type===nv,e,`argument-error`),f_(e,await iv(e,t,n))):f_(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{V(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return V(i,e,`missing-multi-factor-info`),(await gg(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===pg?(V(n?.type===nv,e,`argument-error`),$_(e,await iv(e,t,n))):$_(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await gg(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===pg?(V(n?.type===nv,e,`argument-error`),Pg(e,await iv(e,t,n))):Pg(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function iv(e,t,n){V(n.type===nv,e,`argument-error`);let r=await n.verify();V(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var av=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ng(t)}verifyPhoneNumber(e,t){return rv(this.auth,e,Rf(t))}static credential(e,t){return zg._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?zg._fromTokenResponse(t,n):null}};av.PROVIDER_ID=`phone`,av.PHONE_SIGN_IN_METHOD=`phone`;function ov(e,t){return t?Nh(t):(V(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var sv=class extends Tg{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return jg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jg(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function cv(e){return r_(e.auth,new sv(e),e.bypassAuthState)}function lv(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),n_(n,new sv(e),e.bypassAuthState)}async function uv(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),t_(n,new sv(e),e.bypassAuthState)}var dv=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return cv;case`linkViaPopup`:case`linkViaRedirect`:return uv;case`reauthViaPopup`:case`reauthViaRedirect`:return lv;default:Lm(this.auth,`internal-error`)}}resolve(e){Um(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Um(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},fv=new Ym(2e3,1e4),pv=class e extends dv{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return V(e,this.auth,`internal-error`),e}async onExecution(){Um(this.filter.length===1,`Popup operations only handle one event`);let e=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Rm(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rm(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rm(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,fv.get())};e()}};pv.currentPopupAction=null;var mv=`pendingRedirect`,hv=new Map,gv=class extends dv{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=hv.get(this.auth._key());if(!e){try{let t=await _v(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}hv.set(this.auth._key(),e)}return this.bypassAuthState||hv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function _v(e,t){let n=bv(t),r=yv(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function vv(e,t){hv.set(e._key(),t)}function yv(e){return Nh(e._redirectPersistence)}function bv(e){return Ih(mv,e.config.apiKey,e.name)}async function xv(e,t,n=!1){if(sm(e.app))return Promise.reject(Bm(e));let r=ng(e),i=await new gv(r,ov(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var Sv=600*1e3,Cv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ev(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!Tv(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Rm(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sv&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}};function wv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function Tv({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function Ev(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return Tv(e);default:return!1}}async function Dv(e,t={}){return nh(e,`GET`,`/v1/projects`,t)}var Ov=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kv=/^https?/;async function Av(e){if(e.config.emulator)return;let{authorizedDomains:t}=await Dv(e);for(let e of t)try{if(jv(e))return}catch{}Lm(e,`unauthorized-domain`)}function jv(e){let t=Wm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!kv.test(n))return!1;if(Ov.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var Mv=new Ym(3e4,6e4);function Nv(){let e=M_().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Pv(e){return new Promise((t,n)=>{function r(){Nv(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nv(),n(Rm(e,`network-request-failed`))},timeout:Mv.get()})}if(M_().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(M_().gapi?.load)r();else{let t=lg(`iframefcb`);return M_()[t]=()=>{gapi.load?r():n(Rm(e,`network-request-failed`))},og(`${cg()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Fv=null,e})}var Fv=null;function Iv(e){return Fv||=Pv(e),Fv}var Lv=new Ym(5e3,15e3),Rv=`__/auth/iframe`,zv=`emulator/auth/iframe`,Bv={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Vv=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Hv(e){let t=e.config;V(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Xm(t,zv):`https://${e.config.authDomain}/${Rv}`,r={apiKey:t.apiKey,appName:e.name,v:um},i=Vv.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Ef(r).slice(1)}`}async function Uv(e){let t=await Iv(e),n=M_().gapi;return V(n,e,`internal-error`),t.open({where:document.body,url:Hv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Rm(e,`network-request-failed`),a=M_().setTimeout(()=>{r(i)},Lv.get());function o(){M_().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var Wv={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Gv=500,Kv=600,qv=`_blank`,Jv=`http://localhost`,Yv=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Xv(e,t,n,r=Gv,i=Kv){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...Wv,width:r.toString(),height:i.toString(),top:a,left:o},l=sf().toLowerCase();n&&(s=Vh(l)?qv:n),zh(l)&&(t||=Jv,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(qh(l)&&s!==`_self`)return Zv(t||``,s),new Yv(null);let d=window.open(t||``,s,u);V(d,e,`popup-blocked`);try{d.focus()}catch{}return new Yv(d)}function Zv(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Qv=`__/auth/handler`,$v=`emulator/auth/handler`,ey=`fac`;async function ty(e,t,n,r,i,a){V(e.config.authDomain,e,`auth-domain-config-required`),V(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:um,eventId:i};if(t instanceof Wg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,Cf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Gg){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${ey}=${encodeURIComponent(c)}`:``;return`${ny(e)}?${Ef(s).slice(1)}${l}`}function ny({config:e}){return e.emulator?Xm(e,$v):`https://${e.authDomain}/${Qv}`}var ry=`webStorageSupport`,iy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D_,this._completeRedirectFn=xv,this._overrideRedirectResult=vv}async _openPopup(e,t,n,r){return Um(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),Xv(e,await ty(e,t,n,Wm(),r),A_())}async _openRedirect(e,t,n,r){return await this._originValidation(e),N_(await ty(e,t,n,Wm(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Um(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Uv(e),n=new Cv(e);return t.register(`authEvent`,t=>(V(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ry,{type:ry},n=>{let r=n?.[0]?.[ry];r!==void 0&&t(!!r),Lm(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Av(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yh()||Bh()||Kh()}},ay=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Hm(`unexpected MultiFactorSessionType`)}}},oy=class e extends ay{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return p_(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ev(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},sy=class{constructor(){}static assertion(e){return oy._fromCredential(e)}};sy.FACTOR_ID=`phone`;var cy=class{static assertionForEnrollment(e,t){return ly._fromSecret(e,t)}static assertionForSignIn(e,t){return ly._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;V(t.user?.auth!==void 0,`internal-error`);let n=await m_(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return uy._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};cy.FACTOR_ID=`totp`;var ly=class e extends ay{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return V(this.secret!==void 0,e,`argument-error`),h_(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){V(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return tv(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},uy=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(dy(e)||dy(t))&&(n=!0),n&&(dy(e)&&(e=this.auth.currentUser?.email||`unknownuser`),dy(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function dy(e){return e===void 0||e?.length===0}var fy=`@firebase/auth`,py=`1.11.1`,my=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hy(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function gy(e){am(new zf(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;V(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new tg(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:Xh(e)});return yg(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),am(new zf(`auth-internal`,e=>(e=>new my(e))(ng(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),pm(fy,py,hy(e)),pm(fy,py,`esm2020`)}var _y=Xd(`authIdTokenMaxAge`)||300,vy=null,yy=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_y)return;let i=n?.token;vy!==i&&(vy=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function by(e=fm()){let t=om(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=vg(e,{popupRedirectResolver:iy,persistence:[Q_,x_,D_]}),r=Xd(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=yy(e.toString());l_(n,t,()=>t(n.currentUser)),c_(n,e=>t(e))}}let i=qd(`auth`);return i&&bg(n,`http://${i}`),n}function xy(){return document.getElementsByTagName(`head`)?.[0]??document}ag({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Rm(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,xy().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),gy(`Browser`),pm(`firebase`,`12.6.0`,`app`);var Sy=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Cy={},wy,Ty;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ty=Cy.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,wy=Cy.Integer=o}).apply(Sy===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Sy);var Ey=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},Dy={},Oy,ky,Ay,jy,My,Ny,Py,Fy;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof Ey==`object`&&Ey];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(ee)}};function ee(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function re(e){return/^[\s\xa0]*$/.test(e)}function ie(e,t){te.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ie,te),ie.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae=`closure_listenable_`+(Math.random()*1e6|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++oe,this.da=this.fa=!1}function ce(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function le(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function E(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function D(e){let t={};for(let n in e)t[n]=e[n];return t}let ue=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function de(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ue.length;t++)n=ue[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}fe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=me(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new se(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function pe(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ce(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function me(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var he=`closure_lm_`+(Math.random()*1e6|0),ge={};function _e(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)_e(e,t[a],n,r,i);return null}return n=De(n),e&&e[ae]?e.J(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Te(e);if(c||(e[he]=c=new fe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ye(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ye(){function e(n){return t.call(e.src,e.listener,n)}let t=we;return e}function be(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=De(n),e&&e[ae]?e.K(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function xe(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xe(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=De(n),e&&e[ae]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=me(t,n,r,i),n>-1&&(ce(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,r,i)),(n=e>-1?t[e]:null)&&Se(n))}function Se(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[ae])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(pe(n,e),n.h==0&&(n.src=null,t[he]=null)):ce(e)}}}function Ce(e){return e in ge?ge[e]:ge[e]=`on`+e}function we(e,t){if(e.da)e=!0;else{t=new ie(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Se(e),e=n.call(r,t)}return e}function Te(e){return e=e[he],e instanceof fe?e:null}var Ee=`__closure_events_fn_`+(Math.random()*1e9>>>0);function De(e){return typeof e==`function`?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Oe(){T.call(this),this.i=new fe(this),this.M=this,this.G=null}d(Oe,T),Oe.prototype[ae]=!0,Oe.prototype.removeEventListener=function(e,t,n,r){xe(this,e,t,n,r)};function ke(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new te(t,e);else if(t instanceof te)t.target=t.target||e;else{var i=t;t=new te(r,e),de(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Ae(a,r,!0,t)&&i;if(a=t.g=e,i=Ae(a,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Ae(a,r,!1,t)&&i}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ce(n[e]);delete e.g[t],e.h--}}this.G=null},Oe.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ae(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&pe(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function je(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Me(e){e.g=je(()=>{e.g=null,e.i&&(e.i=!1,Me(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Ne extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(e){T.call(this),this.h=e,this.g={}}d(Pe,T);var Fe=[];function Ie(e){le(e.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},e),e.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Ie(this)},Pe.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Le=o.JSON.stringify,Re=o.JSON.parse,ze=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Be(){}function Ve(){}var He={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ue(){te.call(this,`d`)}d(Ue,te);function We(){te.call(this,`c`)}d(We,te);var Ge={},Ke=null;function qe(){return Ke||=new Oe}Ge.Ia=`serverreachability`;function Je(e){te.call(this,Ge.Ia,e)}d(Je,te);function Ye(e){let t=qe();ke(t,new Je(t))}Ge.STAT_EVENT=`statevent`;function Xe(e,t){te.call(this,Ge.STAT_EVENT,e),this.stat=t}d(Xe,te);function Ze(e){let t=qe();ke(t,new Xe(t,e))}Ge.Ja=`timingevent`;function Qe(e,t){te.call(this,Ge.Ja,e),this.size=t}d(Qe,te);function $e(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function et(){this.g=!0}et.prototype.ua=function(){this.g=!1};function tt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function nt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function rt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+at(e,n)+(r?` `+r:``)})}function it(e,t){e.info(function(){return`TIMEOUT: `+t})}et.prototype.info=function(){};function at(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Le(a)}catch{return t}}var ot={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},st={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ct;function lt(){}d(lt,Be),lt.prototype.g=function(){return new XMLHttpRequest},ct=new lt;function ut(e){return encodeURIComponent(String(e))}function dt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ft(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pt}function pt(){this.i=null,this.g=``,this.h=!1}var mt={},ht={};function gt(e,t,n){e.M=1,e.A=Ht(Rt(t)),e.u=n,e.R=!0,_t(e,null)}function _t(e,t){e.F=Date.now(),xt(e),e.B=Rt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),nn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new pt,e.g=qn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Ne(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Fe[0]=i.toString()),i=Fe);for(let e=0;e<i.length;e++){let a=_e(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?D(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ye(),tt(e.i,e.v,e.B,e.l,e.S,e.u)}ft.prototype.ba=function(e){e=e.target;let t=this.O;t&&k(e)==3?t.j():this.Y(e)},ft.prototype.Y=function(e){try{if(e==this.g)a:{let s=k(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||s!=4||c==7||Ye(c==8||l<=0?3:2),Ct(this);var t=this.g.ca();this.X=t;var n=vt(this);if(this.o=t==200,nt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!re(r)){var a=r;break b}}a=null}if(e=a)rt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,Et(this,e);else{this.o=!1,this.m=3,Ze(12),Tt(this),wt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=bt(this,n),t==ht){s==4&&(this.m=4,Ze(14),e=!1),rt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==mt){this.m=4,Ze(15),rt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else rt(this.i,this.l,t,null),Et(this,t);if(yt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Ze(16),e=!1),this.o=this.o&&e,!e)rt(this.i,this.l,n,`[Invalid Chunked Response]`),Tt(this),wt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),zn(o),o.P=!0,Ze(11))}}else rt(this.i,this.l,n,null),Et(this,n);s==4&&Tt(this),this.o&&!this.K&&(s==4?Hn(this.j,this):(this.o=!1,xt(this)))}else En(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),Tt(this),wt(this)}}}catch{}};function vt(e){if(!yt(e))return e.g.la();let t=Tn(e.g);if(t===``)return``;let n=``,r=t.length,i=k(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Tt(e),wt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function yt(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function bt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ht:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1,r+n>t.length?ht:(t=t.slice(r,r+n),e.C=r+n,t)))}ft.prototype.cancel=function(){this.K=!0,Tt(this)};function xt(e){e.T=Date.now()+e.H,St(e,e.H)}function St(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=$e(l(e.aa,e),t)}function Ct(e){e.D&&=(o.clearTimeout(e.D),null)}ft.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(it(this.i,this.B),this.M!=2&&(Ye(),Ze(17)),Tt(this),this.m=2,wt(this)):St(this,this.T-e)};function wt(e){e.j.I==0||e.K||Hn(e.j,e)}function Tt(e){Ct(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Et(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||jt(n.h,e))){if(!e.L&&jt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Vn(n),An(n);else break a;Rn(n),Ze(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=$e(l(n.Va,n),6e3));At(n.h)<=1&&n.ta&&(n.ta=void 0)}else Wn(n,11)}else if((e.L||n.g==e)&&Vn(n),!re(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Mt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,O(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Kn(r,r.L?r.ba:null,r.W),o.L){Nt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ct(s),xt(s)),r.g=o}else Ln(r);n.i.length>0&&Mn(n)}else l[0]!=`stop`&&l[0]!=`close`||Wn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Wn(n,7):kn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ye(4)}catch{}}var Dt=class{constructor(e,t){this.g=e,this.map=t}};function Ot(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function At(e){return e.h?1:e.g?e.g.size:0}function jt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Mt(e,t){e.g?e.g.add(t):e.h=t}function Nt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ot.prototype.cancel=function(){if(this.i=Pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Pt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Ft=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function It(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Lt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Lt?(this.l=e.l,zt(this,e.j),this.o=e.o,this.g=e.g,Bt(this,e.u),this.h=e.h,Vt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(Ft))?(this.l=!1,zt(this,t[1]||``,!0),this.o=Ut(t[2]||``),this.g=Ut(t[3]||``,!0),Bt(this,t[4]),this.h=Ut(t[5]||``,!0),Vt(this,t[6]||``,!0),this.m=Ut(t[7]||``)):(this.l=!1,this.i=new Zt(null,this.l))}Lt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Wt(t,Kt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Wt(t,Kt,!0),`@`),e.push(ut(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Wt(n,n.charAt(0)==`/`?Jt:qt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Wt(n,Xt)),e.join(``)},Lt.prototype.resolve=function(e){let t=Rt(this),n=!!e.j;n?zt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Bt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Vt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Rt(e){return new Lt(e)}function zt(e,t,n){e.j=n?Ut(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Vt(e,t,n){t instanceof Zt?(e.i=t,on(e.i,e.l)):(n||(t=Wt(t,Yt)),e.i=new Zt(t,e.l))}function O(e,t,n){e.i.set(t,n)}function Ht(e){return O(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Wt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Gt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Kt=/[#\/\?@]/g,qt=/[#\?:]/g,Jt=/[#\?]/g,Yt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qt(e){e.g||(e.g=new Map,e.h=0,e.i&&It(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Zt.prototype,e.add=function(e,t){Qt(this),this.i=null,e=an(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $t(e,t){Qt(e),t=an(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function en(e,t){return Qt(e),t=an(e,t),e.g.has(t)}e.forEach=function(e,t){Qt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function tn(e,t){Qt(e);let n=[];if(typeof t==`string`)en(e,t)&&(n=n.concat(e.g.get(an(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Qt(this),this.i=null,e=an(this,e),en(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=tn(this,e),e.length>0?String(e[0]):t):t};function nn(e,t,n){$t(e,t),n.length>0&&(e.i=null,e.g.set(an(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ut(n);n=tn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ut(n[t])),e.push(r)}}return this.i=e.join(`&`)};function rn(e){let t=new Zt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(Qt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&($t(this,t),nn(this,n,e))},e)),e.j=t}function sn(e,t){let n=new et;if(o.Image){let r=new Image;r.onload=u(ln,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(ln,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(ln,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(ln,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cn(e,t){let n=new et,r=new AbortController,i=setTimeout(()=>{r.abort(),ln(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ln(n,`TestPingServer: ok`,!0,t):ln(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),ln(n,`TestPingServer: error`,!1,t)})}function ln(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function un(){this.g=new ze}function dn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(dn,Be),dn.prototype.g=function(){return new fn(this.i,this.h)};function fn(e,t){Oe.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(fn,Oe),e=fn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,hn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;pn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function pn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):hn(this),this.readyState==3&&pn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,mn(this))},e.Na=function(e){this.g&&(this.response=e,mn(this))},e.ga=function(){this.g&&mn(this)};function mn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,hn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function gn(e){let t=``;return le(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function _n(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=gn(n),typeof e==`string`||O(e,t,n))}function vn(e){Oe.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(vn,Oe);var yn=/^https?$/i,bn=[`POST`,`PUT`];e=vn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ct.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){xn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(bn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){xn(this,e)}};function xn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Sn(e),wn(e)}function Sn(e){e.A||(e.A=!0,ke(e,`complete`),ke(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ke(this,`complete`),ke(this,`abort`),wn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),vn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Cn(this):this.Xa())},e.Xa=function(){Cn(this)};function Cn(e){if(e.h&&a!==void 0){if(e.v&&k(e)==4)setTimeout(e.Ca.bind(e),0);else if(ke(e,`readystatechange`),k(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Ft)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!yn.test(t?t.toLowerCase():``)}n=r}if(n)ke(e,`complete`),ke(e,`success`);else{e.o=6;try{var i=k(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,Sn(e)}}finally{wn(e)}}}}function wn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||ke(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function k(e){return e.g?e.g.readyState:0}e.ca=function(){try{return k(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Re(t)}};function Tn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function En(e){let t={};e=(e.g&&k(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(re(e[r]))continue;var n=dt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}E(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function Dn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function On(e){this.za=0,this.i=[],this.j=new et,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dn(`baseRetryDelayMs`,5e3,e),this.Za=Dn(`retryDelaySeedMs`,1e4,e),this.Ta=Dn(`forwardChannelMaxRetries`,2,e),this.va=Dn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Ot(e&&e.concurrentRequestLimit),this.Ba=new un,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=On.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Ze(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Kn(this,null,this.W),Mn(this)};function kn(e){if(jn(e),e.I==3){var t=e.V++,n=Rt(e.J);if(O(n,`SID`,e.M),O(n,`RID`,t),O(n,`TYPE`,`terminate`),Fn(e,n),t=new ft(e,e.j,t),t.M=2,t.A=Ht(Rt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=qn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),xt(t)}Gn(e)}function An(e){e.g&&=(zn(e),e.g.cancel(),null)}function jn(e){An(e),e.v&&=(o.clearTimeout(e.v),null),Vn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Mn(e){if(!kt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function Nn(e,t){return At(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=$e(l(e.Ea,e,t),Un(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ft(this,this.j,e),a=this.o;if(this.U&&(a?(a=D(a),de(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=In(this,i,t),n=Rt(this.J),O(n,`RID`,e),O(n,`CVER`,22),this.G&&O(n,`X-HTTP-Session-Id`,this.G),Fn(this,n),a&&(this.R?t=`headers=`+ut(gn(a))+`&`+t:this.u&&_n(n,this.u,a)),Mt(this.h,i),this.Ra&&O(n,`TYPE`,`init`),this.S?(O(n,`$req`,t),O(n,`SID`,`null`),i.U=!0,gt(i,n,null)):gt(i,n,t),this.I=2}}else this.I==3&&(e?Pn(this,e):this.i.length==0||kt(this.h)||Pn(this))};function Pn(e,t){var n=t?t.l:e.V++;let r=Rt(e.J);O(r,`SID`,e.M),O(r,`RID`,n),O(r,`AID`,e.K),Fn(e,r),e.u&&e.o&&_n(r,e.u,e.o),n=new ft(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=In(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Mt(e.h,n),gt(n,r,t)}function Fn(e,t){e.H&&le(e.H,function(e,n){O(t,n,e)}),e.l&&le({},function(e,n){O(t,n,e)})}function In(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Le(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function Rn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=$e(l(e.Da,e),Un(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Bn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=$e(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Ze(10),An(this),Bn(this))};function zn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Bn(e){e.g=new ft(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Rt(e.na);O(t,`RID`,`rpc`),O(t,`SID`,e.M),O(t,`AID`,e.K),O(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&O(t,`TO`,e.ia),O(t,`TYPE`,`xmlhttp`),Fn(e,t),e.u&&e.o&&_n(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Ht(Rt(t)),n.u=null,n.R=!0,_t(n,e)}e.Va=function(){this.C!=null&&(this.C=null,An(this),Rn(this),Ze(19))};function Vn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Hn(e,t){var n=null;if(e.g==t){Vn(e),zn(e),e.g=null;var r=2}else if(jt(e.h,t))n=t.G,Nt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=qe(),ke(r,new Qe(r,n)),Mn(e)}else Ln(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Nn(e,t)||r==2&&Rn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wn(e,5);break;case 4:Wn(e,10);break;case 3:Wn(e,6);break;default:Wn(e,2)}}}function Un(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Wn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Lt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||zt(r,`https`),Ht(r),t?sn(r.toString(),n):cn(r.toString(),n)}else Ze(2);e.I=0,e.l&&e.l.pa(t),Gn(e),jn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Ze(2)):(this.j.info(`Failed to ping google.com`),Ze(1))};function Gn(e){if(e.I=0,e.ja=[],e.l){let t=Pt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Kn(e,t,n){var r=n instanceof Lt?Rt(n):new Lt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Bt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Lt(null);r&&zt(e,r),t&&(e.g=t),i&&Bt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&O(r,n,t),O(r,`VER`,e.ka),Fn(e,r),r}function qn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new vn(new dn({ab:n})):new vn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jn(){}e=Jn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Yn(){}Yn.prototype.g=function(e,t){return new Xn(e,t)};function Xn(e,t){Oe.call(this),this.g=new On(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!re(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!re(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new $n(this)}d(Xn,Oe),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){kn(this.g)},Xn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Le(e),e=n);t.i.push(new Dt(t.Ya++,e)),t.I==3&&Mn(t)},Xn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Xn.Z.N.call(this)};function Zn(e){Ue.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Zn,Ue);function Qn(){We.call(this),this.status=1}d(Qn,We);function $n(e){this.g=e}d($n,Jn),$n.prototype.ra=function(){ke(this.g,`a`)},$n.prototype.qa=function(e){ke(this.g,new Zn(e))},$n.prototype.pa=function(e){ke(this.g,new Qn)},$n.prototype.oa=function(){ke(this.g,`b`)},Yn.prototype.createWebChannel=Yn.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Fy=Dy.createWebChannelTransport=function(){return new Yn},Py=Dy.getStatEventTarget=function(){return qe()},Ny=Dy.Event=Ge,My=Dy.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,jy=Dy.ErrorCode=ot,st.COMPLETE=`complete`,Ay=Dy.EventType=st,Ve.EventType=He,He.OPEN=`a`,He.CLOSE=`b`,He.ERROR=`c`,He.MESSAGE=`d`,Oe.prototype.listen=Oe.prototype.J,ky=Dy.WebChannel=Ve,Dy.FetchXmlHttpFactory=dn,vn.prototype.listenOnce=vn.prototype.K,vn.prototype.getLastError=vn.prototype.Ha,vn.prototype.getLastErrorCode=vn.prototype.ya,vn.prototype.getStatus=vn.prototype.ca,vn.prototype.getResponseJson=vn.prototype.La,vn.prototype.getResponseText=vn.prototype.la,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Fa,Oy=Dy.XhrIo=vn}).apply(Ey===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Ey);var Iy=`@firebase/firestore`,Ly=`4.9.2`,Ry=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Ry.UNAUTHENTICATED=new Ry(null),Ry.GOOGLE_CREDENTIALS=new Ry(`google-credentials-uid`),Ry.FIRST_PARTY=new Ry(`first-party-uid`),Ry.MOCK_USER=new Ry(`mock-user`);var zy=`12.3.0`,By=new Xf(`@firebase/firestore`);function Vy(){return By.logLevel}function H(e,...t){if(By.logLevel<=B.DEBUG){let n=t.map(Wy);By.debug(`Firestore (${zy}): ${e}`,...n)}}function Hy(e,...t){if(By.logLevel<=B.ERROR){let n=t.map(Wy);By.error(`Firestore (${zy}): ${e}`,...n)}}function Uy(e,...t){if(By.logLevel<=B.WARN){let n=t.map(Wy);By.warn(`Firestore (${zy}): ${e}`,...n)}}function Wy(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function U(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Gy(e,r,n)}function Gy(e,t,n){let r=`FIRESTORE (${zy}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Hy(r),Error(r)}function Ky(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Gy(t,i,r)}function W(e,t){return e}var G={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},K=class extends yf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},qy=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Jy=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Yy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ry.UNAUTHENTICATED)))}shutdown(){}},Xy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Zy=class{constructor(e){this.t=e,this.currentUser=Ry.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ky(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new qy;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qy,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{H(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(H(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new qy)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Ky(typeof t.accessToken==`string`,31837,{l:t}),new Jy(t.accessToken,this.currentUser)):null:(H(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ky(e===null||typeof e==`string`,2055,{h:e}),new Ry(e)}},Qy=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Ry.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},$y=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Qy(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ry.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},eb=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},tb=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sm(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ky(this.o===void 0,3512);let n=e=>{e.error!=null&&H(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,H(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{H(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):H(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new eb(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ky(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new eb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nb(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var rb=class{static newId(){let e=``;for(;e.length<20;){let t=nb(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function q(e,t){return e<t?-1:e>t?1:0}function ib(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return sb(n)===sb(i)?q(n,i):sb(n)?1:-1}return q(e.length,t.length)}var ab=55296,ob=57343;function sb(e){let t=e.charCodeAt(0);return t>=ab&&t<=ob}function cb(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var lb=`__name__`,ub=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&U(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&U(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return q(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):ib(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return wy.fromString(e.substring(4,e.length-2))}},db=class e extends ub{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new K(G.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pb=class e extends ub{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return fb.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new e([lb])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new K(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new K(G.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new K(G.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new K(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},J=class e{constructor(e){this.path=e}static fromPath(t){return new e(db.fromString(t))}static fromName(t){return new e(db.fromString(t).popFirst(5))}static empty(){return new e(db.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&db.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return db.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new db(t.slice()))}};function mb(e,t,n){if(!n)throw new K(G.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hb(e,t,n,r){if(!0===t&&!0===r)throw new K(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gb(e){if(!J.isDocumentKey(e))throw new K(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _b(e){if(J.isDocumentKey(e))throw new K(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vb(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function yb(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:U(12329,{type:typeof e})}function bb(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(G.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=yb(e);throw new K(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function xb(e,t){let n={typeString:e};return t&&(n.value=t),n}function Sb(e,t){if(!vb(e))throw new K(G.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new K(G.INVALID_ARGUMENT,n);return!0}var Cb=-62135596800,wb=1e6,Tb=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*wb))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new K(G.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<Cb||e>=253402300800)throw new K(G.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wb}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sb(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-Cb;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};Tb._jsonSchemaVersion=`firestore/timestamp/1.0`,Tb._jsonSchema={type:xb(`string`,Tb._jsonSchemaVersion),seconds:xb(`number`),nanoseconds:xb(`number`)};var Y=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new Tb(0,0))}static max(){return new e(new Tb(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},Eb=-1,Db=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Db.UNKNOWN_ID=-1;function Ob(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Ab(Y.fromTimestamp(r===1e9?new Tb(n+1,0):new Tb(n,r)),J.empty(),t)}function kb(e){return new Ab(e.readTime,e.key,Eb)}var Ab=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(Y.min(),J.empty(),Eb)}static max(){return new e(Y.max(),J.empty(),Eb)}};function jb(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=J.comparator(e.documentKey,t.documentKey),n===0?q(e.largestBatchId,t.largestBatchId):n):n}var Mb=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Nb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Pb(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==Mb)throw e;H(`LocalStore`,`Unexpectedly lost primary lease`)}var X=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&U(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Fb(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Ib(e){return e.name===`IndexedDbTransactionError`}var Lb=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Lb.ce=-1;var Rb=-1;function zb(e){return e==null}function Bb(e){return e===0&&1/e==-1/0}function Vb(e){return typeof e==`number`&&Number.isInteger(e)&&!Bb(e)&&e<=2**53-1&&e>=-(2**53-1)}var Hb=``;function Ub(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Gb(t)),t=Wb(e.get(n),t);return Gb(t)}function Wb(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Hb:n+=``;break;default:n+=r}}return n}function Gb(e){return e+Hb+``}function Kb(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qb(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jb(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yb=class e{constructor(e,t){this.comparator=e,this.root=t||Zb.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zb.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zb.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xb(this.root,e,this.comparator,!0)}},Xb=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zb=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw U(43730,{key:this.key,value:this.value});if(this.right.isRed())throw U(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw U(27949);return e+(this.isRed()?0:1)}};Zb.EMPTY=null,Zb.RED=!0,Zb.BLACK=!1,Zb.EMPTY=new class{constructor(){this.size=0}get key(){throw U(57766)}get value(){throw U(16141)}get color(){throw U(16727)}get left(){throw U(29726)}get right(){throw U(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Zb(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qb=class e{constructor(e){this.comparator=e,this.data=new Yb(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},$b=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},ex=class e{constructor(e){this.fields=e,e.sort(pb.comparator)}static empty(){return new e([])}unionWith(t){let n=new Qb(pb.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cb(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},tx=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},nx=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new tx(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nx.EMPTY_BYTE_STRING=new nx(``);var rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ix(e){if(Ky(!!e,39018),typeof e==`string`){let t=0,n=rx.exec(e);if(Ky(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ax(e.seconds),nanos:ax(e.nanos)}}function ax(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function ox(e){return typeof e==`string`?nx.fromBase64String(e):nx.fromUint8Array(e)}var sx=`server_timestamp`,cx=`__type__`,lx=`__previous_value__`,ux=`__local_write_time__`;function dx(e){return(e?.mapValue?.fields||{})[cx]?.stringValue===sx}function fx(e){let t=e.mapValue.fields[lx];return dx(t)?fx(t):t}function px(e){let t=ix(e.mapValue.fields[ux].timestampValue);return new Tb(t.seconds,t.nanos)}var mx=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},hx=`(default)`,gx=class e{constructor(e,t){this.projectId=e,this.database=t||hx}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===hx}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},_x=`__type__`,vx=`__max__`,yx={mapValue:{fields:{__type__:{stringValue:vx}}}},bx=`__vector__`,xx=`value`;function Sx(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?dx(e)?4:zx(e)?9007199254740991:Lx(e)?10:11:U(28295,{value:e})}function Cx(e,t){if(e===t)return!0;let n=Sx(e);if(n!==Sx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return px(e).isEqual(px(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=ix(e.timestampValue),r=ix(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ox(e.bytesValue).isEqual(ox(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ax(e.geoPointValue.latitude)===ax(t.geoPointValue.latitude)&&ax(e.geoPointValue.longitude)===ax(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return ax(e.integerValue)===ax(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=ax(e.doubleValue),r=ax(t.doubleValue);return n===r?Bb(n)===Bb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cb(e.arrayValue.values||[],t.arrayValue.values||[],Cx);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kb(n)!==Kb(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!Cx(n[e],r[e])))return!1;return!0}(e,t);default:return U(52216,{left:e})}}function wx(e,t){return(e.values||[]).find((e=>Cx(e,t)))!==void 0}function Tx(e,t){if(e===t)return 0;let n=Sx(e),r=Sx(t);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=ax(e.integerValue||e.doubleValue),r=ax(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ex(e.timestampValue,t.timestampValue);case 4:return Ex(px(e),px(t));case 5:return ib(e.stringValue,t.stringValue);case 6:return function(e,t){let n=ox(e),r=ox(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=q(n[e],r[e]);if(t!==0)return t}return q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=q(ax(e.latitude),ax(t.latitude));return n===0?q(ax(e.longitude),ax(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return Dx(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[xx]?.arrayValue,a=r[xx]?.arrayValue,o=q(i?.values?.length||0,a?.values?.length||0);return o===0?Dx(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===yx.mapValue&&t===yx.mapValue)return 0;if(e===yx.mapValue)return 1;if(t===yx.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=ib(r[e],a[e]);if(t!==0)return t;let o=Tx(n[r[e]],i[a[e]]);if(o!==0)return o}return q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw U(23264,{he:n})}}function Ex(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return q(e,t);let n=ix(e),r=ix(t),i=q(n.seconds,r.seconds);return i===0?q(n.nanos,r.nanos):i}function Dx(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=Tx(n[e],r[e]);if(t)return t}return q(n.length,r.length)}function Ox(e){return kx(e)}function kx(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=ix(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return ox(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return J.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=kx(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${kx(e.fields[i])}`;return n+`}`}(e.mapValue):U(61005,{value:e})}function Ax(e){switch(Sx(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=fx(e);return t?16+Ax(t):16;case 5:return 2*e.stringValue.length;case 6:return ox(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ax(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return qb(e.fields,((e,n)=>{t+=e.length+Ax(n)})),t}(e.mapValue);default:throw U(13486,{value:e})}}function jx(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mx(e){return!!e&&`integerValue`in e}function Nx(e){return!!e&&`arrayValue`in e}function Px(e){return!!e&&`nullValue`in e}function Fx(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Ix(e){return!!e&&`mapValue`in e}function Lx(e){return(e?.mapValue?.fields||{})[_x]?.stringValue===bx}function Rx(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return qb(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Rx(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rx(e.arrayValue.values[n]);return t}return{...e}}function zx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===vx}var Bx=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ix(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rx(t)}setAll(e){let t=pb.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rx(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Ix(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cx(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ix(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){qb(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(Rx(this.value))}};function Vx(e){let t=[];return qb(e.fields,((e,n)=>{let r=new pb([e]);if(Ix(n)){let e=Vx(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new ex(t)}var Hx=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,Y.min(),Y.min(),Y.min(),Bx.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,Y.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,Y.min(),Y.min(),Bx.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,Y.min(),Y.min(),Bx.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bx.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bx.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Ux=class{constructor(e,t){this.position=e,this.inclusive=t}};function Wx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),n.key):Tx(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Gx(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Cx(e.position[n],t.position[n]))return!1;return!0}var Kx=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function qx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Jx=class{},Yx=class e extends Jx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new rS(t,n,r):n===`array-contains`?new sS(t,r):n===`in`?new cS(t,r):n===`not-in`?new lS(t,r):n===`array-contains-any`?new uS(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new iS(e,n):new aS(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(Tx(t,this.value)):t!==null&&Sx(this.value)===Sx(t)&&this.matchesComparison(Tx(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return U(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xx=class e extends Jx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Zx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Zx(e){return e.op===`and`}function Qx(e){return $x(e)&&Zx(e)}function $x(e){for(let t of e.filters)if(t instanceof Xx)return!1;return!0}function eS(e){if(e instanceof Yx)return e.field.canonicalString()+e.op.toString()+Ox(e.value);if(Qx(e))return e.filters.map((e=>eS(e))).join(`,`);{let t=e.filters.map((e=>eS(e))).join(`,`);return`${e.op}(${t})`}}function tS(e,t){return e instanceof Yx?function(e,t){return t instanceof Yx&&e.op===t.op&&e.field.isEqual(t.field)&&Cx(e.value,t.value)}(e,t):e instanceof Xx?function(e,t){return t instanceof Xx&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&tS(n,t.filters[r])),!0):!1}(e,t):void U(19439)}function nS(e){return e instanceof Yx?function(e){return`${e.field.canonicalString()} ${e.op} ${Ox(e.value)}`}(e):e instanceof Xx?function(e){return e.op.toString()+` {`+e.getFilters().map(nS).join(` ,`)+`}`}(e):`Filter`}var rS=class extends Yx{constructor(e,t,n){super(e,t,n),this.key=J.fromName(n.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},iS=class extends Yx{constructor(e,t){super(e,`in`,t),this.keys=oS(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},aS=class extends Yx{constructor(e,t){super(e,`not-in`,t),this.keys=oS(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function oS(e,t){return(t.arrayValue?.values||[]).map((e=>J.fromName(e.referenceValue)))}var sS=class extends Yx{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Nx(t)&&wx(t.arrayValue,this.value)}},cS=class extends Yx{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&wx(this.value.arrayValue,t)}},lS=class extends Yx{constructor(e,t){super(e,`not-in`,t)}matches(e){if(wx(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wx(this.value.arrayValue,t)}},uS=class extends Yx{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Nx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wx(this.value.arrayValue,e)))}},dS=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function fS(e,t=null,n=[],r=[],i=null,a=null,o=null){return new dS(e,t,n,r,i,a,o)}function pS(e){let t=W(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>eS(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),zb(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Ox(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Ox(e))).join(`,`)),t.Te=e}return t.Te}function mS(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gx(e.startAt,t.startAt)&&Gx(e.endAt,t.endAt)}function hS(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var gS=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function _S(e,t,n,r,i,a,o,s){return new gS(e,t,n,r,i,a,o,s)}function vS(e){return new gS(e)}function yS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function bS(e){return e.collectionGroup!==null}function xS(e){let t=W(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Qb(pb.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Kx(r,n))})),e.has(pb.keyField().canonicalString())||t.Ie.push(new Kx(pb.keyField(),n))}return t.Ie}function SS(e){let t=W(e);return t.Ee||=CS(t,xS(e)),t.Ee}function CS(e,t){if(e.limitType===`F`)return fS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Kx(e.field,t)}));let n=e.endAt?new Ux(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ux(e.startAt.position,e.startAt.inclusive):null;return fS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wS(e,t){let n=e.filters.concat([t]);return new gS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function TS(e,t,n){return new gS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ES(e,t){return mS(SS(e),SS(t))&&e.limitType===t.limitType}function DS(e){return`${pS(SS(e))}|lt:${e.limitType}`}function OS(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>nS(e))).join(`, `)}]`),zb(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Ox(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Ox(e))).join(`,`)),`Target(${t})`}(SS(e))}; limitType=${e.limitType})`}function kS(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?J.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of xS(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Wx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xS(e),t)||e.endAt&&!function(e,t,n){let r=Wx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xS(e),t))}(e,t)}function AS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jS(e){return(t,n)=>{let r=!1;for(let i of xS(e)){let e=MS(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function MS(e,t,n){let r=e.field.isKeyField()?J.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?Tx(r,i):U(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return U(19790,{direction:e.dir})}}var NS=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qb(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}},PS=new Yb(J.comparator);function FS(){return PS}var IS=new Yb(J.comparator);function LS(...e){let t=IS;for(let n of e)t=t.insert(n.key,n);return t}function RS(e){let t=IS;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zS(){return VS()}function BS(){return VS()}function VS(){return new NS((e=>e.toString()),((e,t)=>e.isEqual(t)))}var HS=new Yb(J.comparator),US=new Qb(J.comparator);function Z(...e){let t=US;for(let n of e)t=t.add(n);return t}var WS=new Qb(q);function GS(){return WS}function KS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Bb(t)?`-0`:t}}function qS(e){return{integerValue:``+e}}function JS(e,t){return Vb(t)?qS(t):KS(e,t)}var YS=class{constructor(){this._=void 0}};function XS(e,t,n){return e instanceof $S?function(e,t){let n={fields:{[cx]:{stringValue:sx},[ux]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dx(t)&&(t=fx(t)),t&&(n.fields[lx]=t),{mapValue:n}}(n,t):e instanceof eC?tC(e,t):e instanceof nC?rC(e,t):function(e,t){let n=QS(e,t),r=aC(n)+aC(e.Ae);return Mx(n)&&Mx(e.Ae)?qS(r):KS(e.serializer,r)}(e,t)}function ZS(e,t,n){return e instanceof eC?tC(e,t):e instanceof nC?rC(e,t):n}function QS(e,t){return e instanceof iC?function(e){return Mx(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var $S=class extends YS{},eC=class extends YS{constructor(e){super(),this.elements=e}};function tC(e,t){let n=oC(t);for(let t of e.elements)n.some((e=>Cx(e,t)))||n.push(t);return{arrayValue:{values:n}}}var nC=class extends YS{constructor(e){super(),this.elements=e}};function rC(e,t){let n=oC(t);for(let t of e.elements)n=n.filter((e=>!Cx(e,t)));return{arrayValue:{values:n}}}var iC=class extends YS{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function aC(e){return ax(e.integerValue||e.doubleValue)}function oC(e){return Nx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sC=class{constructor(e,t){this.field=e,this.transform=t}};function cC(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof eC&&t instanceof eC||e instanceof nC&&t instanceof nC?cb(e.elements,t.elements,Cx):e instanceof iC&&t instanceof iC?Cx(e.Ae,t.Ae):e instanceof $S&&t instanceof $S}(e.transform,t.transform)}var lC=class{constructor(e,t){this.version=e,this.transformResults=t}},uC=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dC(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var fC=class{};function pC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new CC(e.key,uC.none()):new vC(e.key,e.data,uC.none());{let n=e.data,r=Bx.empty(),i=new Qb(pb.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new yC(e.key,r,new ex(i.toArray()),uC.none())}}function mC(e,t,n){e instanceof vC?function(e,t,n){let r=e.value.clone(),i=xC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yC?function(e,t,n){if(!dC(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=xC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hC(e,t,n,r){return e instanceof vC?function(e,t,n,r){if(!dC(e.precondition,t))return n;let i=e.value.clone(),a=SC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yC?function(e,t,n,r){if(!dC(e.precondition,t))return n;let i=SC(e.fieldTransforms,r,t),a=t.data;return a.setAll(bC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return dC(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gC(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=QS(r.transform,e||null);i!=null&&(n===null&&(n=Bx.empty()),n.set(r.field,i))}return n||null}function _C(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&cb(e,t,((e,t)=>cC(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vC=class extends fC{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},yC=class extends fC{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function bC(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function xC(e,t,n){let r=new Map;Ky(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ZS(o,s,n[i]))}return r}function SC(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,XS(e,a,t))}return r}var CC=class extends fC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wC=class extends fC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},TC=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&mC(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=hC(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=hC(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=BS();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=pC(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Y.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Z())}isEqual(e){return this.batchId===e.batchId&&cb(this.mutations,e.mutations,((e,t)=>_C(e,t)))&&cb(this.baseMutations,e.baseMutations,((e,t)=>_C(e,t)))}},EC=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){Ky(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return HS}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},DC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},OC=class{constructor(e,t){this.count=e,this.unchangedNames=t}},kC,Q;function AC(e){switch(e){case G.OK:return U(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return U(15467,{code:e})}}function jC(e){if(e===void 0)return Hy(`GRPC error has no .code`),G.UNKNOWN;switch(e){case kC.OK:return G.OK;case kC.CANCELLED:return G.CANCELLED;case kC.UNKNOWN:return G.UNKNOWN;case kC.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case kC.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case kC.INTERNAL:return G.INTERNAL;case kC.UNAVAILABLE:return G.UNAVAILABLE;case kC.UNAUTHENTICATED:return G.UNAUTHENTICATED;case kC.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case kC.NOT_FOUND:return G.NOT_FOUND;case kC.ALREADY_EXISTS:return G.ALREADY_EXISTS;case kC.PERMISSION_DENIED:return G.PERMISSION_DENIED;case kC.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case kC.ABORTED:return G.ABORTED;case kC.OUT_OF_RANGE:return G.OUT_OF_RANGE;case kC.UNIMPLEMENTED:return G.UNIMPLEMENTED;case kC.DATA_LOSS:return G.DATA_LOSS;default:return U(39323,{code:e})}}(Q=kC||={})[Q.OK=0]=`OK`,Q[Q.CANCELLED=1]=`CANCELLED`,Q[Q.UNKNOWN=2]=`UNKNOWN`,Q[Q.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,Q[Q.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,Q[Q.NOT_FOUND=5]=`NOT_FOUND`,Q[Q.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,Q[Q.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,Q[Q.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,Q[Q.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,Q[Q.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,Q[Q.ABORTED=10]=`ABORTED`,Q[Q.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,Q[Q.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,Q[Q.INTERNAL=13]=`INTERNAL`,Q[Q.UNAVAILABLE=14]=`UNAVAILABLE`,Q[Q.DATA_LOSS=15]=`DATA_LOSS`;var MC=null;function NC(){return new TextEncoder}var PC=new wy([4294967295,4294967295],0);function FC(e){let t=NC().encode(e),n=new Ty;return n.update(t),new Uint8Array(n.digest())}function IC(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new wy([n,r],0),new wy([i,a],0)]}var LC=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new RC(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new RC(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new RC(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=wy.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(wy.fromNumber(n)));return r.compare(PC)===1&&(r=new wy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=IC(FC(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=IC(FC(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},RC=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},zC=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,BC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Y.min(),i,new Yb(q),FS(),Z())}},BC=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Z(),Z(),Z())}},VC=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},HC=class{constructor(e,t){this.targetId=e,this.Ce=t}},UC=class{constructor(e,t,n=nx.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},WC=class{constructor(){this.ve=0,this.Fe=qC(),this.Me=nx.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Z(),t=Z(),n=Z();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:U(38017,{changeType:i})}})),new BC(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=qC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,Ky(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},GC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=FS(),this.Je=KC(),this.He=KC(),this.Ye=new Yb(q)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:U(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(hS(i))if(n===0){let e=new J(i.path);this.et(t,e,Hx.newNoDocument(e,Y.min()))}else Ky(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}MC?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=ox(n).toUint8Array()}catch(e){if(e instanceof tx)return Uy(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new LC(a,r,i)}catch(e){return Uy(e instanceof RC?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&hS(i.target)){let t=new J(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Hx.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Z();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new zC(e,t,this.Ye,this.je,n);return this.je=FS(),this.Je=KC(),this.He=KC(),this.Ye=new Yb(q),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new WC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qb(q),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qb(q),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||H(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function KC(){return new Yb(J.comparator)}function qC(){return new Yb(J.comparator)}var JC=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),YC=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),XC=(()=>({and:`AND`,or:`OR`}))(),ZC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function QC(e,t){return e.useProto3Json||zb(t)?t:{value:t}}function $C(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function ew(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tw(e,t){return $C(e,t.toTimestamp())}function nw(e){return Ky(!!e,49232),Y.fromTimestamp(function(e){let t=ix(e);return new Tb(t.seconds,t.nanos)}(e))}function rw(e,t){return iw(e,t).canonicalString()}function iw(e,t){let n=function(e){return new db([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function aw(e){let t=db.fromString(e);return Ky(Ow(t),10190,{key:t.toString()}),t}function ow(e,t){return rw(e.databaseId,t.path)}function sw(e,t){let n=aw(t);if(n.get(1)!==e.databaseId.projectId)throw new K(G.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(G.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new J(dw(n))}function cw(e,t){return rw(e.databaseId,t)}function lw(e){let t=aw(e);return t.length===4?db.emptyPath():dw(t)}function uw(e){return new db([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function dw(e){return Ky(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function fw(e,t,n){return{name:ow(e,t),fields:n.value.mapValue.fields}}function pw(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:U(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ky(t===void 0||typeof t==`string`,58123),nx.fromBase64String(t||``)):(Ky(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),nx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new UC(r,i,a,o&&function(e){return new K(e.code===void 0?G.UNKNOWN:jC(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=sw(e,r.document.name),a=nw(r.document.updateTime),o=r.document.createTime?nw(r.document.createTime):Y.min(),s=new Bx({mapValue:{fields:r.document.fields}}),c=Hx.newFoundDocument(i,a,o,s);n=new VC(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=sw(e,r.document),a=r.readTime?nw(r.readTime):Y.min(),o=Hx.newNoDocument(i,a);n=new VC([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=sw(e,r.document);n=new VC([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return U(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new OC(r,i),o=e.targetId;n=new HC(o,a)}}return n}function mw(e,t){let n;if(t instanceof vC)n={update:fw(e,t.key,t.value)};else if(t instanceof CC)n={delete:ow(e,t.key)};else if(t instanceof yC)n={update:fw(e,t.key,t.data),updateMask:Dw(t.fieldMask)};else{if(!(t instanceof wC))return U(16599,{Vt:t.type});n={verify:ow(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof $S)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof eC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iC)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw U(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?U(27497):{exists:t.exists}:{updateTime:tw(e,t.updateTime)}}(e,t.precondition)),n}function hw(e,t){return e&&e.length>0?(Ky(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?nw(e.updateTime):nw(t);return n.isEqual(Y.min())&&(n=nw(t)),new lC(n,e.transformResults||[])}(e,t)))):[]}function gw(e,t){return{documents:[cw(e,t.path)]}}function _w(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=cw(e,i);let a=function(e){if(e.length!==0)return Ew(Xx.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:ww(e.field),direction:xw(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=QC(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function vw(e){let t=lw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ky(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=bw(e);return t instanceof Xx&&Qx(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Kx(Tw(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,zb(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Ux(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Ux(e.values||[],t)}(n.endAt)),_S(t,i,o,a,s,`F`,c,l)}function yw(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return U(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bw(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?U(30097,{filter:e}):function(e){return Xx.create(e.compositeFilter.filters.map((e=>bw(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return U(1026)}}(e.compositeFilter.op))}(e):function(e){return Yx.create(Tw(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return U(58110);default:return U(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=Tw(e.unaryFilter.field);return Yx.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=Tw(e.unaryFilter.field);return Yx.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=Tw(e.unaryFilter.field);return Yx.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=Tw(e.unaryFilter.field);return Yx.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return U(61313);default:return U(60726)}}(e)}function xw(e){return JC[e]}function Sw(e){return YC[e]}function Cw(e){return XC[e]}function ww(e){return{fieldPath:e.canonicalString()}}function Tw(e){return pb.fromServerFormat(e.fieldPath)}function Ew(e){return e instanceof Yx?function(e){if(e.op===`==`){if(Fx(e.value))return{unaryFilter:{field:ww(e.field),op:`IS_NAN`}};if(Px(e.value))return{unaryFilter:{field:ww(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Fx(e.value))return{unaryFilter:{field:ww(e.field),op:`IS_NOT_NAN`}};if(Px(e.value))return{unaryFilter:{field:ww(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:ww(e.field),op:Sw(e.op),value:e.value}}}(e):e instanceof Xx?function(e){let t=e.getFilters().map((e=>Ew(e)));return t.length===1?t[0]:{compositeFilter:{op:Cw(e.op),filters:t}}}(e):U(54877,{filter:e})}function Dw(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ow(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var kw=class e{constructor(e,t,n,r,i=Y.min(),a=Y.min(),o=nx.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Aw=class{constructor(e){this.yt=e}};function jw(e){let t=vw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?TS(t,t.limit,`L`):t}var Mw=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(ax(e.integerValue));else if(`doubleValue`in e){let n=ax(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Bb(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=ix(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(ox(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?zx(e)?this.Ft(t,2**53-1):Lx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):U(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=xx,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ax(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),J.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Mw.Kt=new Mw;var Nw=class{constructor(){this.Cn=new Pw}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ab.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ab.min())}updateCollectionGroup(e,t,n){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}},Pw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qb(db.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qb(db.comparator)).toArray()}};new Uint8Array;var Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040,Lw=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};Lw.DEFAULT_COLLECTION_PERCENTILE=10,Lw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lw.DEFAULT=new Lw(Iw,Lw.DEFAULT_COLLECTION_PERCENTILE,Lw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lw.DISABLED=new Lw(-1,0,0);var Rw=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},zw=`LruGarbageCollector`,Bw=1048576;function Vw([e,t],[n,r]){let i=q(e,n);return i===0?q(t,r):i}var Hw=class{constructor(e){this.Ir=e,this.buffer=new Qb(Vw),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Vw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Uw=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){H(zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ib(e)?H(zw,`Ignoring IndexedDB error during garbage collection: `,e):await Pb(e)}await this.Vr(3e5)}))}},Ww=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Lb.ce);let n=new Hw(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(H(`LruGarbageCollector`,`Garbage collection skipped; disabled`),X.resolve(Fw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(H(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(H(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Vy()<=B.DEBUG&&H(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Gw(e,t){return new Ww(e,t)}var Kw=class{constructor(){this.changes=new NS((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hx.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):X.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},qw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Jw=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&hC(n.mutation,e,ex.empty(),Tb.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Z()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Z()){let r=zS();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=LS();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=zS();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Z())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=FS(),a=VS(),o=function(){return VS()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof yC)?i=i.insert(t.key,t):o===void 0?a.set(t.key,ex.empty()):(a.set(t.key,o.mutation.getFieldMask()),hC(o.mutation,t,o.mutation.getFieldMask(),Tb.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new qw(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=VS(),r=new Yb(((e,t)=>e-t)),i=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||ex.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Z()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=BS();c.forEach((e=>{if(!i.has(e)){let r=pC(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return X.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):X.resolve(zS()),o=Eb,s=i;return a.next((t=>X.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?X.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Z()))).next((e=>({batchId:o,changes:RS(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next((e=>{let t=LS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=LS();return this.indexManager.getCollectionParents(e,i).next((o=>X.forEach(o,(o=>{let s=function(e,t){return new gS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Hx.newInvalidDocument(r)))}));let n=LS();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&hC(a.mutation,r,ex.empty(),Tb.now()),kS(t,r)&&(n=n.insert(e,r))})),n}))}},Yw=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:nw(e.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:jw(e.bundledQuery),readTime:nw(e.readTime)}}(t)),X.resolve()}},Xw=class{constructor(){this.overlays=new Yb(J.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){let n=zS();return X.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),X.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),X.resolve()}getOverlaysForCollection(e,t,n){let r=zS(),i=t.length+1,a=new J(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yb(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=zS(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=zS(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return X.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new DC(t,n));let i=this.qr.get(t);i===void 0&&(i=Z(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},Zw=class{constructor(){this.sessionToken=nx.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}},Qw=class{constructor(){this.Qr=new Qb($w.$r),this.Ur=new Qb($w.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new $w(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new $w(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new J(new db([])),n=new $w(t,e),r=new $w(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new J(new db([])),n=new $w(t,e),r=new $w(t,e+1),i=Z();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new $w(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},$w=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return J.comparator(e.key,t.key)||q(e.Yr,t.Yr)}static Kr(e,t){return q(e.Yr,t.Yr)||J.comparator(e.key,t.key)}},eT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qb($w.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new TC(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new $w(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rb:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new $w(t,0),r=new $w(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qb(q);return t.forEach((e=>{let t=new $w(e,0),r=new $w(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),X.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;J.isDocumentKey(i)||(i=i.child(``));let a=new $w(new J(i),0),o=new Qb(q);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),X.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Ky(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return X.forEach(t.mutations,(r=>{let i=new $w(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new $w(t,0),r=this.Zr.firstAfterOrEqual(n);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},tT=class{constructor(e){this.ri=e,this.docs=function(){return new Yb(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return X.resolve(n?n.document.mutableCopy():Hx.newInvalidDocument(t))}getEntries(e,t){let n=FS();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hx.newInvalidDocument(e))})),X.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=FS(),a=t.path,o=new J(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||jb(kb(o),n)<=0||(r.has(o.key)||kS(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,t,n,r){U(9500)}ii(e,t){return X.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new nT(this)}getSize(e){return X.resolve(this.size)}},nT=class extends Kw{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},rT=class{constructor(e){this.persistence=e,this.si=new NS((e=>pS(e)),mS),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.oi=0,this._i=new Qw,this.targetCount=0,this.ai=Rw.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Rw(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,X.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),X.waitFor(i).next((()=>r))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return X.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),X.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),X.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return X.resolve(n)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}},iT=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Lb(0),this.li=!1,this.li=!0,this.hi=new Zw,this.referenceDelegate=e(this),this.Pi=new rT(this),this.indexManager=new Nw,this.remoteDocumentCache=function(e){return new tT(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Aw(t),this.Ii=new Yw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new eT(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){H(`MemoryPersistence`,`Starting transaction:`,e);let r=new aT(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return X.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},aT=class extends Nb{constructor(e){super(),this.currentSequenceNumber=e}},oT=class e{constructor(e){this.persistence=e,this.Ri=new Qw,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw U(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),X.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(n=>{let r=J.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,Y.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},sT=class e{constructor(e,t){this.persistence=e,this.pi=new NS((e=>Ub(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Gw(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?X.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Y.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ax(e.data.value)),t}br(e,t,n){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return X.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},cT=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Z(),i=Z();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},lT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},uT=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mf()?8:Fb(sf())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new lT;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Vy()<=B.DEBUG&&H(`QueryEngine`,`SDK will not create cache indexes for query:`,OS(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),X.resolve()):(Vy()<=B.DEBUG&&H(`QueryEngine`,`Query:`,OS(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(Vy()<=B.DEBUG&&H(`QueryEngine`,`The SDK decides to create cache indexes for query:`,OS(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,SS(t))):X.resolve())}ys(e,t){if(yS(t))return X.resolve(null);let n=SS(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=TS(t,null,`F`),n=SS(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Z(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,TS(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return yS(t)||r.isEqual(Y.min())?X.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?X.resolve(null):(Vy()<=B.DEBUG&&H(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),OS(t)),this.vs(e,a,t,Ob(r,Eb)).next((e=>e)))}))}Ds(e,t){let n=new Qb(jS(e));return t.forEach(((t,r)=>{kS(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Vy()<=B.DEBUG&&H(`QueryEngine`,`Using full collection scan to execute query:`,OS(t)),this.ps.getDocumentsMatchingQuery(e,t,Ab.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},dT=`LocalStore`,fT=3e8,pT=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Yb(q),this.xs=new NS((e=>pS(e)),mS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function mT(e,t,n,r){return new pT(e,t,n,r)}async function hT(e,t){let n=W(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Z();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function gT(e,t){let n=W(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=X.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);Ky(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Z();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function _T(e){let t=W(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function vT(e,t){let n=W(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(nx.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=fT?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=FS(),c=Z();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(yT(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(Y.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return X.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function yT(e,t,n){let r=Z(),i=Z();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=FS();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Y.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):H(dT,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function bT(e,t){let n=W(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Rb),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function xT(e,t){let n=W(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,X.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new kw(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function ST(e,t,n){let r=W(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ib(e))throw e;H(dT,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function CT(e,t,n){let r=W(e),i=Y.min(),a=Z();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=W(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):X.resolve(r.Ms.get(i))}(r,e,SS(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Y.min(),n?a:Z()))).next((e=>(wT(r,AS(t),e),{documents:e,Qs:a})))))}function wT(e,t,n){let r=e.Os.get(t)||Y.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var TT=class{constructor(){this.activeTargetIds=GS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},ET=class{constructor(){this.Mo=new TT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},DT=class{Oo(e){}shutdown(){}},OT=`ConnectivityMonitor`,kT=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){H(OT,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){H(OT,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},AT=null;function jT(){return AT===null?AT=function(){return 268435456+Math.round(2147483648*Math.random())}():AT++,`0x`+AT.toString(16)}var MT=`RestConnection`,NT={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},PT=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===hx?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=jT(),o=this.zo(e,t.toUriEncodedString());H(MT,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=Qd(c);return this.Jo(e,o,s,n,l).then((t=>(H(MT,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Uy(MT,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+zy}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=NT[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},FT=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},IT=`WebChannelConnection`,LT=class extends PT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=jT();return new Promise(((i,o)=>{let s=new Oy;s.setWithCredentials(!0),s.listenOnce(Ay.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case jy.NO_ERROR:let t=s.getResponseJson();H(IT,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case jy.TIMEOUT:H(IT,`RPC '${e}' ${a} timed out`),o(new K(G.DEADLINE_EXCEEDED,`Request time out`));break;case jy.HTTP_ERROR:let n=s.getStatus();if(H(IT,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new K(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(G).indexOf(t)>=0?t:G.UNKNOWN}(t.status),t.message)):o(new K(G.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new K(G.UNAVAILABLE,`Connection failed.`));break;default:U(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{H(IT,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);H(IT,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=jT(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Fy(),o=Py(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);H(IT,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new FT({Yo:t=>{f?H(IT,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(H(IT,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),H(IT,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,ky.EventType.OPEN,(()=>{f||(H(IT,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,ky.EventType.CLOSE,(()=>{f||(f=!0,H(IT,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,ky.EventType.ERROR,(t=>{f||(f=!0,Uy(IT,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new K(G.UNAVAILABLE,`The operation could not be completed`)))})),m(u,ky.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];Ky(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){H(IT,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=kC[e];if(t!==void 0)return jC(t)}(t),i=a.message;n===void 0&&(n=G.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new K(n,i)),u.close()}else H(IT,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Ny.STAT_EVENT,(t=>{t.stat===My.PROXY?H(IT,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===My.NOPROXY&&H(IT,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function RT(){return typeof document<`u`?document:null}function zT(e){return new ZC(e,!0)}var BT=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&H(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},VT=`PersistentStream`,HT=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===G.RESOURCE_EXHAUSTED?(Hy(t.toString()),Hy(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new K(G.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return H(VT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(H(VT,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},UT=class extends HT{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=pw(this.serializer,e),n=function(e){if(!(`targetChange`in e))return Y.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?Y.min():t.readTime?nw(t.readTime):Y.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=uw(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=hS(r)?{documents:gw(e,r)}:{query:_w(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ew(e,t.resumeToken);let r=QC(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Y.min())>0){n.readTime=$C(e,t.snapshotVersion.toTimestamp());let r=QC(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=yw(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=uw(this.serializer),t.removeTarget=e,this.q_(t)}},WT=class extends HT{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return Ky(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ky(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ky(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=hw(e.writeResults,e.commitTime),n=nw(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=uw(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>mw(this.serializer,e)))};this.q_(t)}},GT=class{},KT=class extends GT{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new K(G.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,iw(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new K(G.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,iw(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new K(G.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},qT=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hy(t),this.aa=!1):H(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},JT=`RemoteStore`,YT=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{iE(this)&&(H(JT,`Restarting streams for network reachability change.`),await async function(e){let t=W(e);t.Ea.add(4),await ZT(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await XT(t)}(this))}))})),this.Ra=new qT(n,r)}};async function XT(e){if(iE(e))for(let t of e.da)await t(!0)}async function ZT(e){for(let t of e.da)await t(!1)}function QT(e,t){let n=W(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rE(n)?nE(n):CE(n).O_()&&eE(n,t))}function $T(e,t){let n=W(e),r=CE(n);n.Ia.delete(t),r.O_()&&tE(n,t),n.Ia.size===0&&(r.O_()?r.L_():iE(n)&&n.Ra.set(`Unknown`))}function eE(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}CE(e).Y_(t)}function tE(e,t){e.Va.Ue(t),CE(e).Z_(t)}function nE(e){e.Va=new GC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),CE(e).start(),e.Ra.ua()}function rE(e){return iE(e)&&!CE(e).x_()&&e.Ia.size>0}function iE(e){return W(e).Ea.size===0}function aE(e){e.Va=void 0}async function oE(e){e.Ra.set(`Online`)}async function sE(e){e.Ia.forEach(((t,n)=>{eE(e,t)}))}async function cE(e,t){aE(e),rE(e)?(e.Ra.ha(t),nE(e)):e.Ra.set(`Unknown`)}async function lE(e,t,n){if(e.Ra.set(`Online`),t instanceof UC&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){H(JT,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await uE(e,n)}else if(t instanceof VC?e.Va.Ze(t):t instanceof HC?e.Va.st(t):e.Va.tt(t),!n.isEqual(Y.min()))try{let t=await _T(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(nx.EMPTY_BYTE_STRING,r.snapshotVersion)),tE(e,t),eE(e,new kw(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){H(JT,`Failed to raise snapshot:`,t),await uE(e,t)}}async function uE(e,t,n){if(!Ib(t))throw t;e.Ea.add(1),await ZT(e),e.Ra.set(`Offline`),n||=()=>_T(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{H(JT,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await XT(e)}))}function dE(e,t){return t().catch((n=>uE(e,n,t)))}async function fE(e){let t=W(e),n=wE(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rb;for(;pE(t);)try{let e=await bT(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,mE(t,e)}catch(e){await uE(t,e)}hE(t)&&gE(t)}function pE(e){return iE(e)&&e.Ta.length<10}function mE(e,t){e.Ta.push(t);let n=wE(e);n.O_()&&n.X_&&n.ea(t.mutations)}function hE(e){return iE(e)&&!wE(e).x_()&&e.Ta.length>0}function gE(e){wE(e).start()}async function _E(e){wE(e).ra()}async function vE(e){let t=wE(e);for(let n of e.Ta)t.ea(n.mutations)}async function yE(e,t,n){let r=e.Ta.shift(),i=EC.from(r,t,n);await dE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await fE(e)}async function bE(e,t){t&&wE(e).X_&&await async function(e,t){if(function(e){return AC(e)&&e!==G.ABORTED}(t.code)){let n=e.Ta.shift();wE(e).B_(),await dE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await fE(e)}}(e,t),hE(e)&&gE(e)}async function xE(e,t){let n=W(e);n.asyncQueue.verifyOperationInProgress(),H(JT,`RemoteStore received new credentials`);let r=iE(n);n.Ea.add(3),await ZT(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await XT(n)}async function SE(e,t){let n=W(e);t?(n.Ea.delete(2),await XT(n)):t||(n.Ea.add(2),await ZT(n),n.Ra.set(`Unknown`))}function CE(e){return e.ma||(e.ma=function(e,t,n){let r=W(e);return r.sa(),new UT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:oE.bind(null,e),t_:sE.bind(null,e),r_:cE.bind(null,e),H_:lE.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),rE(e)?nE(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),aE(e))}))),e.ma}function wE(e){return e.fa||(e.fa=function(e,t,n){let r=W(e);return r.sa(),new WT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:_E.bind(null,e),r_:bE.bind(null,e),ta:vE.bind(null,e),na:yE.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await fE(e)):(await e.fa.stop(),e.Ta.length>0&&(H(JT,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var TE=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new qy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(G.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function EE(e,t){if(Hy(`AsyncQueue`,`${t}: ${e}`),Ib(e))return new K(G.UNAVAILABLE,`${t}: ${e}`);throw e}var DE=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||J.comparator(t.key,n.key):(e,t)=>J.comparator(e.key,t.key),this.keyedMap=LS(),this.sortedSet=new Yb(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},OE=class{constructor(){this.ga=new Yb(J.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):U(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},kE=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,DE.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ES(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},AE=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},jE=class{constructor(){this.queries=ME(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=W(e),r=n.queries;n.queries=ME(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new K(G.ABORTED,`Firestore shutting down`))}};function ME(){return new NS((e=>DS(e)),ES)}async function NE(e,t){let n=W(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new AE,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=EE(e,`Initialization of query '${OS(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&LE(n)}async function PE(e,t){let n=W(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FE(e,t){let n=W(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&LE(n)}function IE(e,t,n){let r=W(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function LE(e){e.Ca.forEach((e=>{e.next()}))}var RE,zE;(zE=RE||={}).Ma=`default`,zE.Cache=`cache`;var BE=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new kE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=kE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==RE.Cache}},VE=class{constructor(e){this.key=e}},HE=class{constructor(e){this.key=e}},UE=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Z(),this.mutatedKeys=Z(),this.eu=jS(e),this.tu=new DE(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new OE,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=kS(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new kE(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Z(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new HE(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new VE(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Z();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return kE.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},WE=`SyncEngine`,GE=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},KE=class{constructor(e){this.key=e,this.hu=!1}},qE=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new NS((e=>DS(e)),ES),this.Iu=new Map,this.Eu=new Set,this.du=new Yb(J.comparator),this.Au=new Map,this.Ru=new Qw,this.Vu={},this.mu=new Map,this.fu=Rw.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function JE(e,t,n=!0){let r=gD(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await XE(r,t,n,!0),i}async function YE(e,t){await XE(gD(e),t,!0,!1)}async function XE(e,t,n,r){let i=await xT(e.localStore,SS(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await ZE(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&QT(e.remoteStore,i),s}async function ZE(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await CT(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return uD(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await CT(e.localStore,t,!0),o=new UE(t,a.Qs),s=o.ru(a.documents),c=BC.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);uD(e,n,l.au);let u=new GE(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function QE(e,t,n){let r=W(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!ES(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ST(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$T(r.remoteStore,i.targetId),cD(r,i.targetId)})).catch(Pb)):(cD(r,i.targetId),await ST(r.localStore,i.targetId,!0))}async function $E(e,t){let n=W(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$T(n.remoteStore,r.targetId))}async function eD(e,t,n){let r=_D(e);try{let e=await function(e,t){let n=W(e),r=Tb.now(),i=t.reduce(((e,t)=>e.add(t.key)),Z()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=FS(),c=Z();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=gC(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new yC(e.key,t,Vx(t.value.mapValue),uC.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:RS(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new Yb(q),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await pD(r,e.changes),await fE(r.remoteStore)}catch(e){let t=EE(e,`Failed to persist write`);n.reject(t)}}async function tD(e,t){let n=W(e);try{let e=await vT(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(Ky(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ky(r.hu,14607):e.removedDocuments.size>0&&(Ky(r.hu,42227),r.hu=!1))})),await pD(n,e,t)}catch(e){await Pb(e)}}function nD(e,t,n){let r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=W(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&LE(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rD(e,t,n){let r=W(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Yb(J.comparator);e=e.insert(a,Hx.newNoDocument(a,Y.min()));let n=Z().add(a);await tD(r,new zC(Y.min(),new Map,new Yb(q),e,n)),r.du=r.du.remove(a),r.Au.delete(t),fD(r)}else await ST(r.localStore,t,!1).then((()=>cD(r,t,n))).catch(Pb)}async function iD(e,t){let n=W(e),r=t.batch.batchId;try{let e=await gT(n.localStore,t);sD(n,r,null),oD(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await pD(n,e)}catch(e){await Pb(e)}}async function aD(e,t,n){let r=W(e);try{let e=await function(e,t){let n=W(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ky(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);sD(r,t,n),oD(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await pD(r,e)}catch(e){await Pb(e)}}function oD(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function sD(e,t,n){let r=W(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function cD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||lD(e,t)}))}function lD(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&($T(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),fD(e))}function uD(e,t,n){for(let r of n)r instanceof VE?(e.Ru.addReference(r.key,t),dD(e,r)):r instanceof HE?(H(WE,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||lD(e,r.key)):U(19791,{wu:r})}function dD(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(H(WE,`New document in limbo: `+n),e.Eu.add(r),fD(e))}function fD(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new J(db.fromString(t)),r=e.fu.next();e.Au.set(r,new KE(n)),e.du=e.du.insert(n,r),QT(e.remoteStore,new kw(SS(vS(n.path)),r,`TargetPurposeLimboResolution`,Lb.ce))}}async function pD(e,t,n){let r=W(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=cT.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=W(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>X.forEach(t,(t=>X.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>X.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ib(e))throw e;H(dT,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function mD(e,t){let n=W(e);if(!n.currentUser.isEqual(t)){H(WE,`User change. New user:`,t.toKey());let e=await hT(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new K(G.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await pD(n,e.Ls)}}function hD(e,t){let n=W(e),r=n.Au.get(t);if(r&&r.hu)return Z().add(r.key);{let e=Z(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function gD(e){let t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rD.bind(null,t),t.Pu.H_=FE.bind(null,t.eventManager),t.Pu.yu=IE.bind(null,t.eventManager),t}function _D(e){let t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,t),t}var vD=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=zT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return mT(this.persistence,new uT,e.initialUser,this.serializer)}Cu(e){return new iT(oT.mi,this.serializer)}Du(e){return new ET}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};vD.provider={build:()=>new vD};var yD=class extends vD{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ky(this.persistence.referenceDelegate instanceof sT,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Uw(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Lw.DEFAULT:Lw.withCacheSize(this.cacheSizeBytes);return new iT((e=>sT.mi(e,t)),this.serializer)}},bD=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await SE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jE}()}createDatastore(e){let t=zT(e.databaseInfo.databaseId),n=function(e){return new LT(e)}(e.databaseInfo);return function(e,t,n,r){return new KT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new YT(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>nD(this.syncEngine,e,0)),function(){return kT.v()?new kT:new DT}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new qE(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=W(e);H(JT,`RemoteStore shutting down.`),t.Ea.add(5),await ZT(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};bD.provider={build:()=>new bD};var xD=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hy(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},SD=`FirestoreClient`,CD=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ry.UNAUTHENTICATED,this.clientId=rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{H(SD,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(H(SD,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=EE(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function wD(e,t){e.asyncQueue.verifyOperationInProgress(),H(SD,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hT(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function TD(e,t){e.asyncQueue.verifyOperationInProgress();let n=await ED(e);H(SD,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>xE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>xE(t.remoteStore,n))),e._onlineComponents=t}async function ED(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(SD,`Using user provided OfflineComponentProvider`);try{await wD(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===G.FAILED_PRECONDITION||e.code===G.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Uy(`Error using user provided cache. Falling back to memory cache: `+n),await wD(e,new vD)}}else H(SD,`Using default OfflineComponentProvider`),await wD(e,new yD(void 0));return e._offlineComponents}async function DD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(SD,`Using user provided OnlineComponentProvider`),await TD(e,e._uninitializedComponentsProvider._online)):(H(SD,`Using default OnlineComponentProvider`),await TD(e,new bD))),e._onlineComponents}function OD(e){return DD(e).then((e=>e.syncEngine))}async function kD(e){let t=await DD(e),n=t.eventManager;return n.onListen=JE.bind(null,t.syncEngine),n.onUnlisten=QE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=YE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$E.bind(null,t.syncEngine),n}function AD(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var jD=new Map,MD=`firestore.googleapis.com`,ND=!0,PD=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(G.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=MD,this.ssl=ND}else this.host=e.host,this.ssl=e.ssl??ND;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bw)throw new K(G.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}hb(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AD(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},FD=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new PD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new K(G.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new K(G.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new PD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Yy;switch(e.type){case`firstParty`:return new $y(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new K(G.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=jD.get(e);t&&(H(`ComponentProvider`,`Removing Datastore`),jD.delete(e),t.terminate())}(this),Promise.resolve()}};function ID(e,t,n,r={}){e=bb(e,FD);let i=Qd(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&($d(`https://${s}`),of(`Firestore`,!0)),a.host!==MD&&a.host!==s&&Uy(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!wf(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Ry.MOCK_USER;else{t=ef(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new K(G.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Ry(i)}e._authCredentials=new Xy(new Jy(t,n))}}var LD=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},RD=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zD(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Sb(n,e._jsonSchema))return new e(t,r||null,new J(db.fromString(n.referencePath)))}};RD._jsonSchemaVersion=`firestore/documentReference/1.0`,RD._jsonSchema={type:xb(`string`,RD._jsonSchemaVersion),referencePath:xb(`string`)};var zD=class e extends LD{constructor(e,t,n){super(e,t,vS(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new RD(this.firestore,null,new J(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function BD(e,t,...n){if(e=Rf(e),mb(`collection`,`path`,t),e instanceof FD){let r=db.fromString(t,...n);return _b(r),new zD(e,null,r)}{if(!(e instanceof RD||e instanceof zD))throw new K(G.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(db.fromString(t,...n));return _b(r),new zD(e.firestore,null,r)}}function VD(e,t,...n){if(e=Rf(e),arguments.length===1&&(t=rb.newId()),mb(`doc`,`path`,t),e instanceof FD){let r=db.fromString(t,...n);return gb(r),new RD(e,null,new J(r))}{if(!(e instanceof RD||e instanceof zD))throw new K(G.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(db.fromString(t,...n));return gb(r),new RD(e.firestore,e instanceof zD?e.converter:null,new J(r))}}var HD=`AsyncQueue`,UD=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BT(this,`async_queue_retry`),this._c=()=>{let e=RT();e&&H(HD,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=RT();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=RT();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new qy;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ib(e))throw e;H(HD,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Hy(`INTERNAL UNHANDLED ERROR: `,WD(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=TE.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&U(47125,{Pc:WD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function WD(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function GD(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var KD=class extends FD{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new UD,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new UD(e),this._firestoreClient=void 0,await e}}};function qD(e,t){let n=typeof e==`object`?e:fm(),r=typeof e==`string`?e:t||hx,i=om(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Jd(`firestore`);e&&ID(i,...e)}return i}function JD(e){if(e._terminated)throw new K(G.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||YD(e),e._firestoreClient}function YD(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new mx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,AD(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new CD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var XD=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(nx.fromBase64String(t))}catch(e){throw new K(G.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(nx.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sb(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};XD._jsonSchemaVersion=`firestore/bytes/1.0`,XD._jsonSchema={type:xb(`string`,XD._jsonSchemaVersion),bytes:xb(`string`)};var ZD=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(G.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new pb(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},QD=class{constructor(e){this._methodName=e}},$D=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(G.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new K(G.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(Sb(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};$D._jsonSchemaVersion=`firestore/geoPoint/1.0`,$D._jsonSchema={type:xb(`string`,$D._jsonSchemaVersion),latitude:xb(`number`),longitude:xb(`number`)};var eO=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sb(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new K(G.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};eO._jsonSchemaVersion=`firestore/vectorValue/1.0`,eO._jsonSchema={type:xb(`string`,eO._jsonSchemaVersion),vectorValues:xb(`object`)};var tO=/^__.*__$/,nO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new vC(e,this.data,t,this.fieldTransforms):new yC(e,this.data,this.fieldMask,t,this.fieldTransforms)}},rO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new yC(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function iO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U(40011,{Ac:e})}}var aO=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xO(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(iO(this.Ac)&&tO.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},oO=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zT(e)}Cc(e,t,n,r=!1){return new aO({Ac:e,methodName:t,Dc:n,path:pb.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sO(e){let t=e._freezeSettings(),n=zT(e._databaseId);return new oO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cO(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);_O(`Data must be an object, but it was:`,o,r);let s=hO(r,o),c,l;if(a.merge)c=new ex(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=vO(t,r,n);if(!o.contains(i))throw new K(G.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);SO(e,i)||e.push(i)}c=new ex(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new nO(new Bx(s),c,l)}var lO=class e extends QD{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},uO=class e extends QD{_toFieldTransform(e){return new sC(e.path,new $S)}isEqual(t){return t instanceof e}};function dO(e,t,n,r){let i=e.Cc(1,t,n);_O(`Data must be an object, but it was:`,i,r);let a=[],o=Bx.empty();return qb(r,((e,r)=>{let s=bO(t,e,n);r=Rf(r);let c=i.yc(s);if(r instanceof lO)a.push(s);else{let e=mO(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new rO(o,new ex(a),i.fieldTransforms)}function fO(e,t,n,r,i,a){let o=e.Cc(1,t,n),s=[vO(t,r,n)],c=[i];if(a.length%2!=0)throw new K(G.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(vO(t,a[e])),c.push(a[e+1]);let l=[],u=Bx.empty();for(let e=s.length-1;e>=0;--e)if(!SO(l,s[e])){let t=s[e],n=c[e];n=Rf(n);let r=o.yc(t);if(n instanceof lO)l.push(t);else{let e=mO(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new rO(u,new ex(l),o.fieldTransforms)}function pO(e,t,n,r=!1){return mO(n,e.Cc(r?4:3,t))}function mO(e,t){if(gO(e=Rf(e)))return _O(`Unsupported field value:`,t,e),hO(e,t);if(e instanceof QD)return function(e,t){if(!iO(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=mO(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=Rf(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return JS(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Tb.fromDate(e);return{timestampValue:$C(t.serializer,n)}}if(e instanceof Tb){let n=new Tb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$C(t.serializer,n)}}if(e instanceof $D)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XD)return{bytesValue:ew(t.serializer,e._byteString)};if(e instanceof RD){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rw(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof eO)return function(e,t){return{mapValue:{fields:{[_x]:{stringValue:bx},[xx]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return KS(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${yb(e)}`)}(e,t)}function hO(e,t){let n={};return Jb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qb(e,((e,r)=>{let i=mO(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function gO(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Tb||e instanceof $D||e instanceof XD||e instanceof RD||e instanceof QD||e instanceof eO)}function _O(e,t,n){if(!gO(n)||!vb(n)){let r=yb(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function vO(e,t,n){if((t=Rf(t))instanceof ZD)return t._internalPath;if(typeof t==`string`)return bO(e,t);throw xO(`Field path arguments must be of type string or `,e,!1,void 0,n)}var yO=RegExp(`[~\\*/\\[\\]]`);function bO(e,t,n){if(t.search(yO)>=0)throw xO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ZD(...t.split(`.`))._internalPath}catch{throw xO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xO(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new K(G.INVALID_ARGUMENT,s+e+c)}function SO(e,t){return e.some((e=>e.isEqual(t)))}var CO=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new RD(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(TO(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wO=class extends CO{data(){return super.data()}};function TO(e,t){return typeof t==`string`?bO(e,t):t instanceof ZD?t._internalPath:t._delegate._internalPath}function EO(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new K(G.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var DO=class{},OO=class extends DO{};function kO(e,t,...n){let r=[];t instanceof DO&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof jO)).length,n=e.filter((e=>e instanceof AO)).length;if(t>1||t>0&&n>0)throw new K(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var AO=class e extends OO{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return IO(e._query,t),new LD(e.firestore,e.converter,wS(e._query,t))}_parse(e){let t=sO(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new K(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){FO(o,a);let t=[];for(let n of o)t.push(PO(r,e,n));s={arrayValue:{values:t}}}else s=PO(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||FO(o,a),s=pO(n,t,o,a===`in`||a===`not-in`);return Yx.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}},jO=class e extends DO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Xx.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)IO(n,e),n=wS(n,e)}(e._query,t),new LD(e.firestore,e.converter,wS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},MO=class e extends OO{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new K(G.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new K(G.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new Kx(t,n)}(e._query,this._field,this._direction);return new LD(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new gS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function NO(e,t=`asc`){let n=t,r=TO(`orderBy`,e);return MO._create(r,n)}function PO(e,t,n){if(typeof(n=Rf(n))==`string`){if(n===``)throw new K(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!bS(t)&&n.indexOf(`/`)!==-1)throw new K(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(db.fromString(n));if(!J.isDocumentKey(r))throw new K(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jx(e,new J(r))}if(n instanceof RD)return jx(e,n._key);throw new K(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yb(n)}.`)}function FO(e,t){if(!Array.isArray(e)||e.length===0)throw new K(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IO(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new K(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new K(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var LO=class{convertValue(e,t=`none`){switch(Sx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ax(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ox(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw U(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return qb(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[xx].arrayValue?.values?.map((e=>ax(e.doubleValue)));return new eO(t)}convertGeoPoint(e){return new $D(ax(e.latitude),ax(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=fx(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(px(e));default:return null}}convertTimestamp(e){let t=ix(e);return new Tb(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=db.fromString(e);Ky(Ow(n),9688,{name:e});let r=new gx(n.get(1),n.get(3)),i=new J(n.popFirst(5));return r.isEqual(t)||Hy(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function RO(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var zO=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},BO=class e extends CO{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new VO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(TO(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(G.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};BO._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,BO._jsonSchema={type:xb(`string`,BO._jsonSchemaVersion),bundleSource:xb(`string`,`DocumentSnapshot`),bundleName:xb(`string`),bundle:xb(`string`)};var VO=class extends BO{data(e={}){return super.data(e)}},HO=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zO(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new VO(this._firestore,this._userDataWriter,n.key,n,new zO(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(G.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new VO(e._firestore,e._userDataWriter,n.doc.key,n.doc,new zO(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new VO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:UO(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(G.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=rb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function UO(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return U(61501,{type:e})}}HO._jsonSchemaVersion=`firestore/querySnapshot/1.0`,HO._jsonSchema={type:xb(`string`,HO._jsonSchemaVersion),bundleSource:xb(`string`,`QuerySnapshot`),bundleName:xb(`string`),bundle:xb(`string`)};var WO=class extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new XD(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new RD(this.firestore,null,t)}};function GO(e,t,n){e=bb(e,RD);let r=bb(e.firestore,KD),i=RO(e.converter,t,n);return XO(r,[cO(sO(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,uC.none())])}function KO(e,t,n,...r){e=bb(e,RD);let i=bb(e.firestore,KD),a=sO(i),o;return o=typeof(t=Rf(t))==`string`||t instanceof ZD?fO(a,`updateDoc`,e._key,t,n,r):dO(a,`updateDoc`,e._key,t),XO(i,[o.toMutation(e._key,uC.exists(!0))])}function qO(e){return XO(bb(e.firestore,KD),[new CC(e._key,uC.none())])}function JO(e,t){let n=bb(e.firestore,KD),r=VD(e),i=RO(e.converter,t);return XO(n,[cO(sO(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,uC.exists(!1))]).then((()=>r))}function YO(e,...t){e=Rf(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||GD(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GD(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof RD)o=bb(e.firestore,KD),s=vS(e._key.path),a={next:n=>{t[r]&&t[r](ZO(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=bb(e,LD);o=bb(n.firestore,KD),s=n._query;let i=new WO(o);a={next:e=>{t[r]&&t[r](new HO(o,i,n,e))},error:t[r+1],complete:t[r+2]},EO(e._query)}return function(e,t,n,r){let i=new xD(r),a=new BE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>NE(await kD(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>PE(await kD(e),a)))}}(JD(o),s,i,a)}function XO(e,t){return function(e,t){let n=new qy;return e.asyncQueue.enqueueAndForget((async()=>eD(await OD(e),t,n))),n.promise}(JD(e),t)}function ZO(e,t,n){let r=n.docs.get(t._key);return new BO(e,new WO(e),t._key,r,new zO(n.hasPendingWrites,n.fromCache),t.converter)}function QO(){return new uO(`serverTimestamp`)}(function(e,t=!0){(function(e){zy=e})(um),am(new zf(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new KD(new Zy(e.getProvider(`auth-internal`)),new tb(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new K(G.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new gx(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),pm(Iy,Ly,e),pm(Iy,Ly,`esm2020`)})();var $O=`@firebase/installations`,ek=`0.6.19`,tk=1e4,nk=`w:${ek}`,rk=`FIS_v2`,ik=`https://firebaseinstallations.googleapis.com/v1`,ak=3600*1e3,ok=new bf(`installations`,`Installations`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"not-registered":`Firebase Installation is not registered.`,"installation-not-found":`Firebase Installation not found.`,"request-failed":`{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"`,"app-offline":`Could not process request. Application offline.`,"delete-pending-registration":`Can't delete installation while there is a pending registration request.`});function sk(e){return e instanceof yf&&e.code.includes(`request-failed`)}function ck({projectId:e}){return`${ik}/projects/${e}/installations`}function lk(e){return{token:e.token,requestStatus:2,expiresIn:mk(e.expiresIn),creationTime:Date.now()}}async function uk(e,t){let n=(await t.json()).error;return ok.create(`request-failed`,{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function dk({apiKey:e}){return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e})}function fk(e,{refreshToken:t}){let n=dk(e);return n.append(`Authorization`,hk(t)),n}async function pk(e){let t=await e();return t.status>=500&&t.status<600?e():t}function mk(e){return Number(e.replace(`s`,`000`))}function hk(e){return`${rk} ${e}`}async function gk({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=ck(e),i=dk(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={fid:n,authVersion:rk,appId:e.appId,sdkVersion:nk},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await pk(()=>fetch(r,s));if(c.ok){let e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:lk(e.authToken)}}else throw await uk(`Create Installation`,c)}function _k(e){return new Promise(t=>{setTimeout(t,e)})}function vk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,`-`).replace(/\//g,`_`)}var yk=/^[cdef][\w-]{21}$/,bk=``;function xk(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=Sk(e);return yk.test(t)?t:bk}catch{return bk}}function Sk(e){return vk(e).substr(0,22)}function Ck(e){return`${e.appName}!${e.appId}`}var wk=new Map;function Tk(e,t){let n=Ck(e);Ek(n,t),Dk(n,t)}function Ek(e,t){let n=wk.get(e);if(n)for(let e of n)e(t)}function Dk(e,t){let n=kk();n&&n.postMessage({key:e,fid:t}),Ak()}var Ok=null;function kk(){return!Ok&&`BroadcastChannel`in self&&(Ok=new BroadcastChannel(`[Firebase] FID Change`),Ok.onmessage=e=>{Ek(e.data.key,e.data.fid)}),Ok}function Ak(){wk.size===0&&Ok&&(Ok.close(),Ok=null)}var jk=`firebase-installations-database`,Mk=1,Nk=`firebase-installations-store`,Pk=null;function Fk(){return Pk||=hp(jk,Mk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Nk)}}}),Pk}async function Ik(e,t){let n=Ck(e),r=(await Fk()).transaction(Nk,`readwrite`),i=r.objectStore(Nk),a=await i.get(n);return await i.put(t,n),await r.done,(!a||a.fid!==t.fid)&&Tk(e,t.fid),t}async function Lk(e){let t=Ck(e),n=(await Fk()).transaction(Nk,`readwrite`);await n.objectStore(Nk).delete(t),await n.done}async function Rk(e,t){let n=Ck(e),r=(await Fk()).transaction(Nk,`readwrite`),i=r.objectStore(Nk),a=await i.get(n),o=t(a);return o===void 0?await i.delete(n):await i.put(o,n),await r.done,o&&(!a||a.fid!==o.fid)&&Tk(e,o.fid),o}async function zk(e){let t,n=await Rk(e.appConfig,n=>{let r=Vk(e,Bk(n));return t=r.registrationPromise,r.installationEntry});return n.fid===bk?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Bk(e){return Gk(e||{fid:xk(),registrationStatus:0})}function Vk(e,t){if(t.registrationStatus===0){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ok.create(`app-offline`))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:Hk(e,n)}}else if(t.registrationStatus===1)return{installationEntry:t,registrationPromise:Uk(e)};else return{installationEntry:t}}async function Hk(e,t){try{let n=await gk(e,t);return Ik(e.appConfig,n)}catch(n){throw sk(n)&&n.customData.serverCode===409?await Lk(e.appConfig):await Ik(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Uk(e){let t=await Wk(e.appConfig);for(;t.registrationStatus===1;)await _k(100),t=await Wk(e.appConfig);if(t.registrationStatus===0){let{installationEntry:t,registrationPromise:n}=await zk(e);return n||t}return t}function Wk(e){return Rk(e,e=>{if(!e)throw ok.create(`installation-not-found`);return Gk(e)})}function Gk(e){return Kk(e)?{fid:e.fid,registrationStatus:0}:e}function Kk(e){return e.registrationStatus===1&&e.registrationTime+tk<Date.now()}async function qk({appConfig:e,heartbeatServiceProvider:t},n){let r=Jk(e,n),i=fk(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={installation:{sdkVersion:nk,appId:e.appId}},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await pk(()=>fetch(r,s));if(c.ok)return lk(await c.json());throw await uk(`Generate Auth Token`,c)}function Jk(e,{fid:t}){return`${ck(e)}/${t}/authTokens:generate`}async function Yk(e,t=!1){let n,r=await Rk(e.appConfig,r=>{if(!$k(r))throw ok.create(`not-registered`);let i=r.authToken;if(!t&&eA(i))return r;if(i.requestStatus===1)return n=Xk(e,t),r;{if(!navigator.onLine)throw ok.create(`app-offline`);let t=nA(r);return n=Qk(e,t),t}});return n?await n:r.authToken}async function Xk(e,t){let n=await Zk(e.appConfig);for(;n.authToken.requestStatus===1;)await _k(100),n=await Zk(e.appConfig);let r=n.authToken;return r.requestStatus===0?Yk(e,t):r}function Zk(e){return Rk(e,e=>{if(!$k(e))throw ok.create(`not-registered`);let t=e.authToken;return rA(t)?{...e,authToken:{requestStatus:0}}:e})}async function Qk(e,t){try{let n=await qk(e,t),r={...t,authToken:n};return await Ik(e.appConfig,r),n}catch(n){if(sk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Lk(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await Ik(e.appConfig,n)}throw n}}function $k(e){return e!==void 0&&e.registrationStatus===2}function eA(e){return e.requestStatus===2&&!tA(e)}function tA(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ak}function nA(e){let t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function rA(e){return e.requestStatus===1&&e.requestTime+tk<Date.now()}async function iA(e){let t=e,{installationEntry:n,registrationPromise:r}=await zk(t);return r?r.catch(console.error):Yk(t).catch(console.error),n.fid}async function aA(e,t=!1){let n=e;return await oA(n),(await Yk(n,t)).token}async function oA(e){let{registrationPromise:t}=await zk(e);t&&await t}function sA(e){if(!e||!e.options)throw cA(`App Configuration`);if(!e.name)throw cA(`App Name`);for(let t of[`projectId`,`apiKey`,`appId`])if(!e.options[t])throw cA(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function cA(e){return ok.create(`missing-app-config-values`,{valueName:e})}var lA=`installations`,uA=`installations-internal`,dA=e=>{let t=e.getProvider(`app`).getImmediate();return{app:t,appConfig:sA(t),heartbeatServiceProvider:om(t,`heartbeat`),_delete:()=>Promise.resolve()}},fA=e=>{let t=om(e.getProvider(`app`).getImmediate(),lA).getImmediate();return{getId:()=>iA(t),getToken:e=>aA(t,e)}};function pA(){am(new zf(lA,dA,`PUBLIC`)),am(new zf(uA,fA,`PRIVATE`))}pA(),pm($O,ek),pm($O,ek,`esm2020`);var mA=`analytics`,hA=`firebase_id`,gA=`origin`,_A=60*1e3,vA=`https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig`,yA=`https://www.googletagmanager.com/gtag/js`,bA=new Xf(`@firebase/analytics`),xA=new bf(`analytics`,`Analytics`,{"already-exists":`A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.`,"already-initialized":`initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.`,"already-initialized-settings":`Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.`,"interop-component-reg-failed":`Firebase Analytics Interop Component failed to instantiate: {$reason}`,"invalid-analytics-context":`Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"indexeddb-unavailable":`IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"fetch-throttle":`The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.`,"config-fetch-failed":`Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}`,"no-api-key":`The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.`,"no-app-id":`The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.`,"no-client-id":`The "client_id" field is empty.`,"invalid-gtag-resource":`Trusted Types detected an invalid gtag resource: {$gtagURL}.`});function SA(e){if(!e.startsWith(yA)){let t=xA.create(`invalid-gtag-resource`,{gtagURL:e});return bA.warn(t.message),``}return e}function CA(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function wA(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function TA(e,t){let n=wA(`firebase-js-sdk-policy`,{createScriptURL:SA}),r=document.createElement(`script`),i=`${yA}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function EA(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function DA(e,t,n,r,i,a){let o=r[i];try{if(o)await t[o];else{let e=(await CA(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){bA.error(e)}e(`config`,i,a)}async function OA(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await CA(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e(`event`,r,i||{})}catch(e){bA.error(e)}}function kA(e,t,n,r){async function i(i,...a){try{if(i===`event`){let[r,i]=a;await OA(e,t,n,r,i)}else if(i===`config`){let[i,o]=a;await DA(e,t,n,r,i,o)}else if(i===`consent`){let[t,n]=a;e(`consent`,t,n)}else if(i===`get`){let[t,n,r]=a;e(`get`,t,n,r)}else if(i===`set`){let[t]=a;e(`set`,t)}else e(i,...a)}catch(e){bA.error(e)}}return i}function AA(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&typeof window[i]==`function`&&(a=window[i]),window[i]=kA(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function jA(e){let t=window.document.getElementsByTagName(`script`);for(let n of Object.values(t))if(n.src&&n.src.includes(yA)&&n.src.includes(e))return n;return null}var MA=30,NA=1e3,PA=new class{constructor(e={},t=NA){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function FA(e){return new Headers({Accept:`application/json`,"x-goog-api-key":e})}async function IA(e){let{appId:t,apiKey:n}=e,r={method:`GET`,headers:FA(n)},i=vA.replace(`{app-id}`,t),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let e=``;try{let t=await a.json();t.error?.message&&(e=t.error.message)}catch{}throw xA.create(`config-fetch-failed`,{httpStatus:a.status,responseMessage:e})}return a.json()}async function LA(e,t=PA,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw xA.create(`no-app-id`);if(!i){if(a)return{measurementId:a,appId:r};throw xA.create(`no-api-key`)}let o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new VA;return setTimeout(async()=>{s.abort()},n===void 0?_A:n),RA({appId:r,apiKey:i,measurementId:a},o,s,t)}async function RA(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=PA){let{appId:a,measurementId:o}=e;try{await zA(r,t)}catch(e){if(o)return bA.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:a,measurementId:o};throw e}try{let t=await IA(e);return i.deleteThrottleMetadata(a),t}catch(t){let s=t;if(!BA(s)){if(i.deleteThrottleMetadata(a),o)return bA.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:a,measurementId:o};throw t}let c=Number(s?.customData?.httpStatus)===503?Lf(n,i.intervalMillis,MA):Lf(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,l),bA.debug(`Calling attemptFetch again in ${c} millis`),RA(e,l,r,i)}}function zA(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(xA.create(`fetch-throttle`,{throttleEndTimeMillis:t}))})})}function BA(e){if(!(e instanceof yf)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var VA=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}},HA;async function UA(e,t,n,r,i){if(i&&i.global){e(`event`,n,r);return}else{let i=await t;e(`event`,n,{...r,send_to:i})}}async function WA(e,t,n,r){if(r&&r.global){let t={};for(let e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e(`set`,t),Promise.resolve()}else e(`config`,await t,{update:!0,user_properties:n})}var GA;function KA(e){GA=e}function qA(e){HA=e}async function JA(){if(hf())try{await gf()}catch(e){return bA.warn(xA.create(`indexeddb-unavailable`,{errorInfo:e?.toString()}).message),!1}else return bA.warn(xA.create(`indexeddb-unavailable`,{errorInfo:`IndexedDB is not available in this environment.`}).message),!1;return!0}async function YA(e,t,n,r,i,a,o){let s=LA(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&bA.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>bA.error(e)),t.push(s);let c=JA().then(e=>{if(e)return r.getId()}),[l,u]=await Promise.all([s,c]);jA(a)||TA(a,l.measurementId),GA&&(i(`consent`,`default`,GA),KA(void 0)),i(`js`,new Date);let d=o?.config??{};return d[gA]=`firebase`,d.update=!0,u!=null&&(d[hA]=u),i(`config`,l.measurementId,d),HA&&(i(`set`,HA),qA(void 0)),l.measurementId}var XA=class{constructor(e){this.app=e}_delete(){return delete ZA[this.app.options.appId],Promise.resolve()}},ZA={},QA=[],$A={},ej=`dataLayer`,tj=`gtag`,nj,rj,ij=!1;function aj(){let e=[];if(df()&&e.push(`This is a browser extension environment.`),_f()||e.push(`Cookies are not available.`),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(` `),n=xA.create(`invalid-analytics-context`,{errorInfo:t});bA.warn(n.message)}}function oj(e,t,n){aj();let r=e.options.appId;if(!r)throw xA.create(`no-app-id`);if(!e.options.apiKey)if(e.options.measurementId)bA.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xA.create(`no-api-key`);if(ZA[r]!=null)throw xA.create(`already-exists`,{id:r});if(!ij){EA(ej);let{wrappedGtag:e,gtagCore:t}=AA(ZA,QA,$A,ej,tj);rj=e,nj=t,ij=!0}return ZA[r]=YA(e,QA,$A,t,nj,ej,n),new XA(e)}function sj(e=fm()){e=Rf(e);let t=om(e,mA);return t.isInitialized()?t.getImmediate():cj(e)}function cj(e,t={}){let n=om(e,mA);if(n.isInitialized()){let e=n.getImmediate();if(wf(t,n.getOptions()))return e;throw xA.create(`already-initialized`)}return n.initialize({options:t})}function lj(e,t,n){e=Rf(e),WA(rj,ZA[e.app.options.appId],t,n).catch(e=>bA.error(e))}function uj(e,t,n,r){e=Rf(e),UA(rj,ZA[e.app.options.appId],t,n,r).catch(e=>bA.error(e))}var dj=`@firebase/analytics`,fj=`0.10.19`;function pj(){am(new zf(mA,(e,{options:t})=>oj(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),t),`PUBLIC`)),am(new zf(`analytics-internal`,e,`PRIVATE`)),pm(dj,fj),pm(dj,fj,`esm2020`);function e(e){try{let t=e.getProvider(mA).getImmediate();return{logEvent:(e,n,r)=>uj(t,e,n,r),setUserProperties:(e,n)=>lj(t,e,n)}}catch(e){throw xA.create(`interop-component-reg-failed`,{reason:e})}}}pj();var mj=`/firebase-messaging-sw.js`,hj=`/firebase-cloud-messaging-push-scope`,gj=`BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4`,_j=`https://fcmregistrations.googleapis.com/v1`,vj=`google.c.a.c_id`,yj=`google.c.a.c_l`,bj=`google.c.a.ts`,xj=`google.c.a.e`,Sj=1e4,Cj;(function(e){e[e.DATA_MESSAGE=1]=`DATA_MESSAGE`,e[e.DISPLAY_NOTIFICATION=3]=`DISPLAY_NOTIFICATION`})(Cj||={});var wj;(function(e){e.PUSH_RECEIVED=`push-received`,e.NOTIFICATION_CLICKED=`notification-clicked`})(wj||={});function Tj(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,``).replace(/\+/g,`-`).replace(/\//g,`_`)}function Ej(e){let t=(e+`=`.repeat((4-e.length%4)%4)).replace(/\-/g,`+`).replace(/_/g,`/`),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}var Dj=`fcm_token_details_db`,Oj=5,kj=`fcm_token_object_Store`;async function Aj(e){if(`databases`in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(Dj))return null;let t=null;return(await hp(Dj,Oj,{upgrade:async(n,r,i,a)=>{if(r<2||!n.objectStoreNames.contains(kj))return;let o=a.objectStore(kj),s=await o.index(`fcmSenderId`).get(e);if(await o.clear(),s){if(r===2){let e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==`string`?e.vapidKey:Tj(e.vapidKey)}}}else if(r===3){let e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Tj(e.auth),p256dh:Tj(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Tj(e.vapidKey)}}}else if(r===4){let e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Tj(e.auth),p256dh:Tj(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Tj(e.vapidKey)}}}}}})).close(),await gp(Dj),await gp(`fcm_vapid_details_db`),await gp(`undefined`),jj(t)?t:null}function jj(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime==`number`&&e.createTime>0&&typeof e.token==`string`&&e.token.length>0&&typeof t.auth==`string`&&t.auth.length>0&&typeof t.p256dh==`string`&&t.p256dh.length>0&&typeof t.endpoint==`string`&&t.endpoint.length>0&&typeof t.swScope==`string`&&t.swScope.length>0&&typeof t.vapidKey==`string`&&t.vapidKey.length>0}var Mj=`firebase-messaging-database`,Nj=1,Pj=`firebase-messaging-store`,Fj=null;function Ij(){return Fj||=hp(Mj,Nj,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pj)}}}),Fj}async function Lj(e){let t=zj(e),n=await(await Ij()).transaction(Pj).objectStore(Pj).get(t);if(n)return n;{let t=await Aj(e.appConfig.senderId);if(t)return await Rj(e,t),t}}async function Rj(e,t){let n=zj(e),r=(await Ij()).transaction(Pj,`readwrite`);return await r.objectStore(Pj).put(t,n),await r.done,t}function zj({appConfig:e}){return e.appId}var Bj=new bf(`messaging`,`Messaging`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"only-available-in-window":`This method is available in a Window context.`,"only-available-in-sw":`This method is available in a service worker context.`,"permission-default":`The notification permission was not granted and dismissed instead.`,"permission-blocked":`The notification permission was not granted and blocked instead.`,"unsupported-browser":`This browser doesn't support the API's required to use the Firebase SDK.`,"indexed-db-unsupported":`This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)`,"failed-service-worker-registration":`We are unable to register the default service worker. {$browserErrorMessage}`,"token-subscribe-failed":`A problem occurred while subscribing the user to FCM: {$errorInfo}`,"token-subscribe-no-token":`FCM returned no token when subscribing the user to push.`,"token-unsubscribe-failed":`A problem occurred while unsubscribing the user from FCM: {$errorInfo}`,"token-update-failed":`A problem occurred while updating the user from FCM: {$errorInfo}`,"token-update-no-token":`FCM returned no token when updating the user to push.`,"use-sw-after-get-token":`The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.`,"invalid-sw-registration":`The input to useServiceWorker() must be a ServiceWorkerRegistration.`,"invalid-bg-handler":`The input to setBackgroundMessageHandler() must be a function.`,"invalid-vapid-key":`The public VAPID key must be a string.`,"use-vapid-key-after-get-token":`The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.`});async function Vj(e,t){let n=await Gj(e),r=Kj(t),i={method:`POST`,headers:n,body:JSON.stringify(r)},a;try{a=await(await fetch(Wj(e.appConfig),i)).json()}catch(e){throw Bj.create(`token-subscribe-failed`,{errorInfo:e?.toString()})}if(a.error){let e=a.error.message;throw Bj.create(`token-subscribe-failed`,{errorInfo:e})}if(!a.token)throw Bj.create(`token-subscribe-no-token`);return a.token}async function Hj(e,t){let n=await Gj(e),r=Kj(t.subscriptionOptions),i={method:`PATCH`,headers:n,body:JSON.stringify(r)},a;try{a=await(await fetch(`${Wj(e.appConfig)}/${t.token}`,i)).json()}catch(e){throw Bj.create(`token-update-failed`,{errorInfo:e?.toString()})}if(a.error){let e=a.error.message;throw Bj.create(`token-update-failed`,{errorInfo:e})}if(!a.token)throw Bj.create(`token-update-no-token`);return a.token}async function Uj(e,t){let n={method:`DELETE`,headers:await Gj(e)};try{let r=await(await fetch(`${Wj(e.appConfig)}/${t}`,n)).json();if(r.error){let e=r.error.message;throw Bj.create(`token-unsubscribe-failed`,{errorInfo:e})}}catch(e){throw Bj.create(`token-unsubscribe-failed`,{errorInfo:e?.toString()})}}function Wj({projectId:e}){return`${_j}/projects/${e}/registrations`}async function Gj({appConfig:e,installations:t}){let n=await t.getToken();return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Kj({p256dh:e,auth:t,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:t,p256dh:e}};return r!==gj&&(i.web.applicationPubKey=r),i}var qj=10080*60*1e3;async function Jj(e){let t=await Zj(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Tj(t.getKey(`auth`)),p256dh:Tj(t.getKey(`p256dh`))},r=await Lj(e.firebaseDependencies);if(r){if(Qj(r.subscriptionOptions,n))return Date.now()>=r.createTime+qj?Yj(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Uj(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Xj(e.firebaseDependencies,n)}else return Xj(e.firebaseDependencies,n)}async function Yj(e,t){try{let n=await Hj(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Rj(e.firebaseDependencies,r),n}catch(e){throw e}}async function Xj(e,t){let n={token:await Vj(e,t),createTime:Date.now(),subscriptionOptions:t};return await Rj(e,n),n.token}async function Zj(e,t){return await e.pushManager.getSubscription()||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ej(t)})}function Qj(e,t){let n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function $j(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return eM(t,e),tM(t,e),nM(t,e),t}function eM(e,t){if(!t.notification)return;e.notification={};let n=t.notification.title;n&&(e.notification.title=n);let r=t.notification.body;r&&(e.notification.body=r);let i=t.notification.image;i&&(e.notification.image=i);let a=t.notification.icon;a&&(e.notification.icon=a)}function tM(e,t){t.data&&(e.data=t.data)}function nM(e,t){if(!t.fcmOptions&&!t.notification?.click_action)return;e.fcmOptions={};let n=t.fcmOptions?.link??t.notification?.click_action;n&&(e.fcmOptions.link=n);let r=t.fcmOptions?.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}function rM(e){return typeof e==`object`&&!!e&&vj in e}iM(`AzSCbw63g1R0nCw85jG8`,`Iaya3yLKwmgvh7cF0q4`);function iM(e,t){let n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join(``)}function aM(e){if(!e||!e.options)throw oM(`App Configuration Object`);if(!e.name)throw oM(`App Name`);let t=[`projectId`,`apiKey`,`appId`,`messagingSenderId`],{options:n}=e;for(let e of t)if(!n[e])throw oM(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function oM(e){return Bj.create(`missing-app-config-values`,{valueName:e})}var sM=class{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1,this.firebaseDependencies={app:e,appConfig:aM(e),installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}};async function cM(e){try{e.swRegistration=await navigator.serviceWorker.register(mj,{scope:hj}),e.swRegistration.update().catch(()=>{}),await lM(e.swRegistration)}catch(e){throw Bj.create(`failed-service-worker-registration`,{browserErrorMessage:e?.message})}}async function lM(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(Error(`Service worker not registered after ${Sj} ms`)),Sj),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{e.target?.state===`activated`&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(Error(`No incoming service worker found.`)))})}async function uM(e,t){if(!t&&!e.swRegistration&&await cM(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Bj.create(`invalid-sw-registration`);e.swRegistration=t}}async function dM(e,t){t?e.vapidKey=t:e.vapidKey||=gj}async function fM(e,t){if(!navigator)throw Bj.create(`only-available-in-window`);if(Notification.permission===`default`&&await Notification.requestPermission(),Notification.permission!==`granted`)throw Bj.create(`permission-blocked`);return await dM(e,t?.vapidKey),await uM(e,t?.serviceWorkerRegistration),Jj(e)}async function pM(e,t,n){let r=mM(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[vj],message_name:n[yj],message_time:n[bj],message_device_time:Math.floor(Date.now()/1e3)})}function mM(e){switch(e){case wj.NOTIFICATION_CLICKED:return`notification_open`;case wj.PUSH_RECEIVED:return`notification_foreground`;default:throw Error()}}async function hM(e,t){let n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===wj.PUSH_RECEIVED&&(typeof e.onMessageHandler==`function`?e.onMessageHandler($j(n)):e.onMessageHandler.next($j(n)));let r=n.data;rM(r)&&r[xj]===`1`&&await pM(e,n.messageType,r)}var gM=`@firebase/messaging`,_M=`0.12.23`,vM=e=>{let t=new sM(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),e.getProvider(`analytics-internal`));return navigator.serviceWorker.addEventListener(`message`,e=>hM(t,e)),t},yM=e=>{let t=e.getProvider(`messaging`).getImmediate();return{getToken:e=>fM(t,e)}};function bM(){am(new zf(`messaging`,vM,`PUBLIC`)),am(new zf(`messaging-internal`,yM,`PRIVATE`)),pm(gM,_M),pm(gM,_M,`esm2020`)}async function xM(){try{await gf()}catch{return!1}return typeof window<`u`&&hf()&&_f()&&`serviceWorker`in navigator&&`PushManager`in window&&`Notification`in window&&`fetch`in window&&ServiceWorkerRegistration.prototype.hasOwnProperty(`showNotification`)&&PushSubscription.prototype.hasOwnProperty(`getKey`)}function SM(e=fm()){return xM().then(e=>{if(!e)throw Bj.create(`unsupported-browser`)},e=>{throw Bj.create(`indexed-db-unsupported`)}),om(Rf(e),`messaging`).getImmediate()}async function CM(e,t){return e=Rf(e),fM(e,t)}bM();var wM=dm({apiKey:`AIzaSyCjhVGXFNBWGBusv0ueBEbo0ChlqSArFmA`,authDomain:`ldr-app-923ac.firebaseapp.com`,projectId:`ldr-app-923ac`,storageBucket:`ldr-app-923ac.firebasestorage.app`,messagingSenderId:`586642496044`,appId:`1:586642496044:web:cf1430b28ad7ca02b2cf89`,measurementId:`G-KN6PSBQNRQ`});const TM=by(wM),$=qD(wM);sj(wM);var EM=null;if(`serviceWorker`in navigator&&`Notification`in window)try{EM=SM(wM)}catch(e){console.log(`Messaging not supported:`,e)}var DM=(0,x.createContext)();function OM(){return(0,x.useContext)(DM)}function kM({children:e}){let[t,n]=(0,x.useState)(null),[r,i]=(0,x.useState)(!0);(0,x.useEffect)(()=>u_(TM,e=>{n(e),i(!1)}),[]);let a={currentUser:t,signIn:(e,t)=>s_(TM,e,t),signUp:(e,t)=>o_(TM,e,t),signOut:()=>d_(TM),loading:r};return(0,M.jsx)(DM.Provider,{value:a,children:e})}var AM=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),jM=(...e)=>e.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(` `),MM={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},NM=(0,x.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,x.createElement)(`svg`,{ref:c,...MM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jM(`lucide`,i),...s},[...o.map(([e,t])=>(0,x.createElement)(e,t)),...Array.isArray(a)?a:[a]])),PM=(e,t)=>{let n=(0,x.forwardRef)(({className:n,...r},i)=>(0,x.createElement)(NM,{ref:i,iconNode:t,className:jM(`lucide-${AM(e)}`,n),...r}));return n.displayName=`${e}`,n},FM=PM(`Award`,[[`path`,{d:`m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526`,key:`1yiouv`}],[`circle`,{cx:`12`,cy:`8`,r:`6`,key:`1vp47v`}]]),IM=PM(`BellOff`,[[`path`,{d:`M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5`,key:`o7mx20`}],[`path`,{d:`M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7`,key:`16f1lm`}],[`path`,{d:`M10.3 21a1.94 1.94 0 0 0 3.4 0`,key:`qgo35s`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),LM=PM(`Bell`,[[`path`,{d:`M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9`,key:`1qo2s2`}],[`path`,{d:`M10.3 21a1.94 1.94 0 0 0 3.4 0`,key:`qgo35s`}]]),RM=PM(`BookOpen`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),zM=PM(`Calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),BM=PM(`Check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),VM=PM(`CircleCheck`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),HM=PM(`Circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),UM=PM(`Copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),WM=PM(`Ellipsis`,[[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`19`,cy:`12`,r:`1`,key:`1wjl8i`}],[`circle`,{cx:`5`,cy:`12`,r:`1`,key:`1pcz8c`}]]),GM=PM(`Filter`,[[`polygon`,{points:`22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3`,key:`1yg77f`}]]),KM=PM(`Heart`,[[`path`,{d:`M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z`,key:`c3ymky`}]]),qM=PM(`House`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`1d0kgt`}]]),JM=PM(`Link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),YM=PM(`LogOut`,[[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}],[`polyline`,{points:`16 17 21 12 16 7`,key:`1gabdz`}],[`line`,{x1:`21`,x2:`9`,y1:`12`,y2:`12`,key:`1uyos4`}]]),XM=PM(`Mail`,[[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}],[`path`,{d:`m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7`,key:`1ocrg3`}]]),ZM=PM(`MapPin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),QM=PM(`Moon`,[[`path`,{d:`M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z`,key:`a7tn18`}]]),$M=PM(`Pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),eN=PM(`Plane`,[[`path`,{d:`M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z`,key:`1v9wt8`}]]),tN=PM(`Plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),nN=PM(`Save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),rN=PM(`Send`,[[`path`,{d:`M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z`,key:`1ffxy3`}],[`path`,{d:`m21.854 2.147-10.94 10.939`,key:`12cjpa`}]]),iN=PM(`Settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),aN=PM(`Sparkles`,[[`path`,{d:`M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z`,key:`4pj2yx`}],[`path`,{d:`M20 3v4`,key:`1olli1`}],[`path`,{d:`M22 5h-4`,key:`1gvqau`}],[`path`,{d:`M4 17v2`,key:`vumght`}],[`path`,{d:`M5 18H3`,key:`zchphs`}]]),oN=PM(`Sun`,[[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M12 20v2`,key:`1lh1kg`}],[`path`,{d:`m4.93 4.93 1.41 1.41`,key:`149t6j`}],[`path`,{d:`m17.66 17.66 1.41 1.41`,key:`ptbguv`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`M20 12h2`,key:`1q8mjw`}],[`path`,{d:`m6.34 17.66-1.41 1.41`,key:`1m8zz5`}],[`path`,{d:`m19.07 4.93-1.41 1.41`,key:`1shlcs`}]]),sN=PM(`Trash2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),cN=PM(`Tv`,[[`rect`,{width:`20`,height:`15`,x:`2`,y:`7`,rx:`2`,ry:`2`,key:`10ag99`}],[`polyline`,{points:`17 2 12 7 7 2`,key:`11pgbg`}]]),lN=PM(`UserPlus`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`19`,x2:`19`,y1:`8`,y2:`14`,key:`1bvyxn`}],[`line`,{x1:`22`,x2:`16`,y1:`11`,y2:`11`,key:`1shjgl`}]]),uN=PM(`User`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),dN=PM(`X`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]);const fN=e=>YO(VD($,`settings`,`main`),t=>{console.log(`Settings loaded:`,t.exists()?t.data():`No data`),t.exists()?e(t.data()):e({nextMeetDate:``,relationshipStart:``})},e=>{console.error(`Error loading settings:`,e)}),pN=async e=>{try{console.log(`Saving date to Firebase:`,e),await GO(VD($,`settings`,`main`),{nextMeetDate:e},{merge:!0}),console.log(`Date saved successfully!`)}catch(e){throw console.error(`Error saving date:`,e),e}},mN=e=>YO(kO(BD($,`dateIdeas`),NO(`timestamp`,`desc`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),hN=async e=>{await JO(BD($,`dateIdeas`),{...e,timestamp:QO(),completed:!1})},gN=async(e,t)=>{await KO(VD($,`dateIdeas`,e),t)},_N=async e=>{await qO(VD($,`dateIdeas`,e))},vN=e=>YO(kO(BD($,`books`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),yN=async e=>{await JO(BD($,`books`),e)},bN=async(e,t)=>{await KO(VD($,`books`,e),t)},xN=async e=>{await qO(VD($,`books`,e))},SN=e=>YO(kO(BD($,`shows`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),CN=async e=>{await JO(BD($,`shows`),e)},wN=async(e,t)=>{await KO(VD($,`shows`,e),t)},TN=async e=>{await qO(VD($,`shows`,e))},EN=e=>YO(kO(BD($,`futureTrips`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),DN=async e=>{await JO(BD($,`futureTrips`),e)},ON=async(e,t)=>{await KO(VD($,`futureTrips`,e),t)},kN=async e=>{await qO(VD($,`futureTrips`,e))},AN=e=>YO(kO(BD($,`dreamTrips`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),jN=async e=>{await JO(BD($,`dreamTrips`),e)},MN=async(e,t)=>{await KO(VD($,`dreamTrips`,e),t)},NN=async e=>{await qO(VD($,`dreamTrips`,e))},PN=e=>YO(kO(BD($,`specialDates`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),FN=async e=>{await JO(BD($,`specialDates`),e)},IN=async(e,t)=>{await KO(VD($,`specialDates`,e),t)},LN=async e=>{await qO(VD($,`specialDates`,e))},RN=e=>YO(kO(BD($,`letters`),NO(`createdAt`,`desc`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),zN=async e=>{await JO(BD($,`letters`),e)},BN=async e=>{await qO(VD($,`letters`,e))},VN=e=>YO(kO(BD($,`gratitudes`),NO(`createdAt`,`desc`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),HN=async e=>{await JO(BD($,`gratitudes`),e)},UN=async e=>{await qO(VD($,`gratitudes`,e))},WN=e=>YO(kO(BD($,`milestones`),NO(`date`,`desc`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),GN=async e=>{await JO(BD($,`milestones`),e)},KN=async(e,t)=>{await KO(VD($,`milestones`,e),t)},qN=async e=>{await qO(VD($,`milestones`,e))},JN=e=>YO(kO(BD($,`dailyHabits`),NO(`createdAt`,`desc`)),t=>{e(t.docs.map(e=>({id:e.id,...e.data()})))}),YN=async e=>{await JO(BD($,`dailyHabits`),e)},XN=async(e,t)=>{await KO(VD($,`dailyHabits`,e),t)},ZN=async e=>{await qO(VD($,`dailyHabits`,e))},QN=(e,t)=>YO(VD($,`userProfiles`,e),e=>{e.exists()?t(e.data()):t(null)}),$N=async(e,t)=>{await GO(VD($,`userProfiles`,e),{...t,createdAt:QO(),updatedAt:QO()})},eP=async(e,t)=>{await GO(VD($,`userProfiles`,e),{...t,updatedAt:QO()},{merge:!0})},tP=e=>YO(kO(BD($,`userProfiles`)),t=>{let n={};t.docs.forEach(e=>{n[e.id]=e.data()}),e(n)});function nP(){let[e,t]=(0,x.useState)(``),[n,r]=(0,x.useState)(``),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(!1),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)(!1),{signIn:f,signUp:p}=OM(),m=Ye();return(0,M.jsx)(`div`,{className:`min-h-screen flex items-center justify-center px-4`,children:(0,M.jsxs)(`div`,{className:`card max-w-md w-full`,children:[(0,M.jsxs)(`div`,{className:`text-center mb-8`,children:[(0,M.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,M.jsx)(KM,{className:`w-16 h-16 text-pink-500 fill-pink-500 animate-pulse`})}),(0,M.jsx)(`h1`,{className:`text-3xl font-bold bg-gradient-to-r from-pink-500 to-green-500 bg-clip-text text-transparent`,children:`LDR App`}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-2`,children:`Our shared space to plan our future together`})]}),(0,M.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),l(``),d(!0);try{if(o){if(!i.trim()){l(`Please enter your name`),d(!1);return}await $N((await p(e,n)).user.uid,{name:i.trim(),email:e})}else await f(e,n);m(`/`)}catch(e){l(e.message)}finally{d(!1)}},className:`space-y-4`,children:[o&&(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Name`}),(0,M.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),className:`input`,required:!0,placeholder:`Your name`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Email`}),(0,M.jsx)(`input`,{type:`email`,value:e,onChange:e=>t(e.target.value),className:`input`,required:!0,placeholder:`you@example.com`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Password`}),(0,M.jsx)(`input`,{type:`password`,value:n,onChange:e=>r(e.target.value),className:`input`,required:!0,placeholder:``,minLength:6})]}),c&&(0,M.jsx)(`div`,{className:`bg-red-50 dark:bg-red-900 text-red-600 dark:text-red-200 px-4 py-3 rounded-lg text-sm`,children:c}),(0,M.jsx)(`button`,{type:`submit`,disabled:u,className:`btn-primary w-full`,children:u?`Loading...`:o?`Sign Up`:`Sign In`}),(0,M.jsx)(`button`,{type:`button`,onClick:()=>s(!o),className:`w-full text-center text-sm text-pink-600 hover:text-pink-700 transition-colors`,children:o?`Already have an account? Sign in`:`Don't have an account? Sign up`})]})]})})}function rP(){let[e,t]=(0,x.useState)(``),[n,r]=(0,x.useState)(``),[i,a]=(0,x.useState)(!1),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(``),u=Ye();(0,x.useEffect)(()=>fN(e=>{t(e.nextMeetDate||``)}),[]),(0,x.useEffect)(()=>{if(!e)return;let t=()=>{let t=new Date;t.setHours(0,0,0,0);let n=new Date(e+`T00:00:00`)-t;if(n<=0){r(`We're together!`);return}let i=Math.floor(n/(1e3*60*60*24));r(i===1?`1 day until we're together!`:`${i} days until we're together!`)};t();let n=setInterval(t,1e3*60*60);return()=>clearInterval(n)},[e]);let d=async()=>{if(o)try{console.log(`Attempting to save date:`,o),await pN(o),a(!1),s(``),l(`Date saved successfully!`),setTimeout(()=>l(``),3e3)}catch(e){console.error(`Error updating date:`,e),l(`Failed to save date. Check console for details.`),setTimeout(()=>l(``),5e3)}},f=[{title:`Date Ideas`,icon:KM,path:`/date-ideas`,gradient:`from-pink-300 to-pink-400`,description:`Things we want to do together`},{title:`By Location`,icon:ZM,path:`/date-ideas-by-location`,gradient:`from-green-300 to-emerald-400`,description:`Ideas sorted by place`},{title:`Books`,icon:RM,path:`/books`,gradient:`from-pink-200 to-green-300`,description:`Books to read together`},{title:`Shows`,icon:cN,path:`/shows`,gradient:`from-green-300 to-green-400`,description:`Shows to watch together`},{title:`Future Trips`,icon:eN,path:`/future-trips`,gradient:`from-pink-300 to-green-300`,description:`Trips we are planning`},{title:`Dream Trips`,icon:aN,path:`/dream-trips`,gradient:`from-green-200 to-pink-300`,description:`Our bucket list destinations`},{title:`Invite Partner`,icon:lN,path:`/invite`,gradient:`from-pink-300 to-pink-400`,description:`Share this app with your partner`},{title:`Special Dates`,icon:zM,path:`/special-dates`,gradient:`from-green-300 to-pink-300`,description:`Our calendar of special moments`},{title:`Mailbox`,icon:XM,path:`/mailbox`,gradient:`from-pink-400 to-green-400`,description:`Love letters for each other`},{title:`Gratitude Wall`,icon:aN,path:`/gratitude`,gradient:`from-yellow-300 to-pink-400`,description:`Things we appreciate`},{title:`Milestones`,icon:FM,path:`/milestones`,gradient:`from-purple-300 to-pink-400`,description:`Track our journey together`},{title:`Daily Habits`,icon:VM,path:`/daily-habits`,gradient:`from-green-300 to-emerald-400`,description:`Build habits together`}];return(0,M.jsxs)(`div`,{className:`space-y-8`,children:[(0,M.jsxs)(`div`,{className:`card text-center bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700 border-2 border-pink-200 dark:border-pink-500`,children:[(0,M.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,M.jsx)(KM,{className:`w-16 h-16 text-pink-500 fill-pink-500 animate-pulse`})}),e?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(`h2`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2`,children:n}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mb-4`,children:new Date(e+`T00:00:00`).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`,timeZone:`UTC`})})]}):(0,M.jsx)(`p`,{className:`text-xl text-gray-600 dark:text-gray-300 mb-4`,children:`Set when you'll see each other next`}),(0,M.jsxs)(`button`,{onClick:()=>{a(!i),!i&&e&&s(e)},className:`btn-secondary inline-flex items-center gap-2`,children:[(0,M.jsx)(zM,{className:`w-5 h-5`}),e?`Update Date`:`Set Date`]}),c&&(0,M.jsx)(`p`,{className:`mt-3 text-sm font-medium ${c.includes(`Failed`)?`text-red-600 dark:text-red-400`:`text-green-600 dark:text-green-400`}`,children:c}),i&&(0,M.jsxs)(`div`,{className:`mt-4 p-4 bg-white dark:bg-gray-700 rounded-xl`,children:[(0,M.jsx)(`input`,{type:`date`,value:o,onChange:e=>s(e.target.value),className:`input mb-3`}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:d,className:`btn-primary flex-1`,children:`Save`}),(0,M.jsx)(`button`,{onClick:()=>a(!1),className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),(0,M.jsxs)(`div`,{className:`space-y-8`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(KM,{className:`w-6 h-6 text-pink-500 fill-pink-500`}),`Our Relationship`]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.filter(e=>[`Milestones`,`Special Dates`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,M.jsxs)(`button`,{onClick:()=>u(n),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(VM,{className:`w-6 h-6 text-green-500`}),`Daily Connection`]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.filter(e=>[`Daily Habits`,`Gratitude Wall`,`Mailbox`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,M.jsxs)(`button`,{onClick:()=>u(n),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(zM,{className:`w-6 h-6 text-pink-500`}),`Planning Together`]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.filter(e=>[`Date Ideas`,`By Location`,`Future Trips`,`Dream Trips`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,M.jsxs)(`button`,{onClick:()=>u(n),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(aN,{className:`w-6 h-6 text-purple-500`}),`Shared Interests`]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.filter(e=>[`Books`,`Shows`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,M.jsxs)(`button`,{onClick:()=>u(n),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h2`,{className:`text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(lN,{className:`w-6 h-6 text-green-500`}),`Settings`]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:f.filter(e=>[`Invite Partner`].includes(e.title)).map(({title:e,icon:t,path:n,gradient:r,description:i})=>(0,M.jsxs)(`button`,{onClick:()=>u(n),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:e}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:i})]},n))})]})]})]})}var iP=[`Romantic`,`Movie Night`,`Games`,`Cute`,`Adventure`,`Food`,`Other`];function aP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)(!0),{currentUser:u}=OM(),[d,f]=(0,x.useState)({title:``,description:``,category:`Romantic`,location:``});(0,x.useEffect)(()=>mN(t),[]);let p=async e=>{e.preventDefault();let t={...d,addedBy:u.email};i?(await gN(i,d),a(null)):await hN(t),f({title:``,description:``,category:`Romantic`,location:``}),r(!1)},m=e=>{f({title:e.title,description:e.description||``,category:e.category,location:e.location||``}),a(e.id),r(!0)},h=async e=>{await gN(e.id,{completed:!e.completed})},g=async e=>{window.confirm(`Are you sure you want to delete this idea?`)&&await _N(e)},_=e.filter(e=>!(o!==`all`&&e.category!==o||!c&&e.completed));return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Date Ideas`}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),f({title:``,description:``,category:`Romantic`,location:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Idea`]})]}),(0,M.jsxs)(`div`,{className:`card space-y-3`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,M.jsx)(GM,{className:`w-5 h-5 text-gray-600`}),(0,M.jsx)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:`All`}),iP.map(e=>(0,M.jsx)(`button`,{onClick:()=>s(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===e?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:e},e))]}),(0,M.jsxs)(`label`,{className:`flex items-center gap-2 text-sm text-gray-700 cursor-pointer`,children:[(0,M.jsx)(`input`,{type:`checkbox`,checked:c,onChange:e=>l(e.target.checked),className:`w-4 h-4 text-pink-500 rounded focus:ring-pink-500`}),`Show completed ideas`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:p,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Idea`:`New Date Idea`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,M.jsx)(`input`,{type:`text`,value:d.title,onChange:e=>f({...d,title:e.target.value}),className:`input`,required:!0,placeholder:`What do you want to do?`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description`}),(0,M.jsx)(`textarea`,{value:d.description,onChange:e=>f({...d,description:e.target.value}),className:`input`,rows:3,placeholder:`Add more details...`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Category *`}),(0,M.jsx)(`select`,{value:d.category,onChange:e=>f({...d,category:e.target.value}),className:`input`,required:!0,children:iP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Location`}),(0,M.jsx)(`input`,{type:`text`,value:d.location,onChange:e=>f({...d,location:e.target.value}),className:`input`,placeholder:`Where? (optional)`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Idea`:`Add Idea`})]}),(0,M.jsx)(`div`,{className:`space-y-4`,children:_.length===0?(0,M.jsx)(`div`,{className:`card text-center py-12`,children:(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No date ideas yet. Add your first one!`})}):_.map(e=>(0,M.jsx)(`div`,{className:`card ${e.completed?`bg-gray-50 opacity-75`:``}`,children:(0,M.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,M.jsx)(`h3`,{className:`text-lg font-semibold ${e.completed?`line-through text-gray-500`:`text-gray-800`}`,children:e.title}),(0,M.jsx)(`span`,{className:`px-3 py-1 bg-pink-100 text-pink-700 rounded-full text-xs font-medium`,children:e.category})]}),e.description&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mb-2`,children:e.description}),e.location&&(0,M.jsxs)(`p`,{className:`text-gray-500 text-sm`,children:[` `,e.location]}),(0,M.jsxs)(`p`,{className:`text-xs text-gray-400 mt-2`,children:[`Added by `,e.addedBy]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>h(e),className:`p-2 rounded-full transition-colors ${e.completed?`bg-green-100 text-green-600`:`bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-green-100 hover:text-green-600 dark:hover:bg-green-900`}`,title:e.completed?`Mark incomplete`:`Mark complete`,children:(0,M.jsx)(BM,{className:`w-5 h-5`})}),(0,M.jsx)(`button`,{onClick:()=>m(e),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-5 h-5`})}),(0,M.jsx)(`button`,{onClick:()=>g(e.id),className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-5 h-5`})})]})]})},e.id))})]})}var oP=[`Romantic`,`Movie Night`,`Games`,`Cute`,`Adventure`,`Food`,`Other`];function sP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(null),{currentUser:c}=OM(),[l,u]=(0,x.useState)({title:``,description:``,category:`Romantic`,location:``});(0,x.useEffect)(()=>mN(t),[]);let d=async e=>{e.preventDefault();let t={...l,addedBy:c.email};i?(await gN(i,l),a(null)):await hN(t),u({title:``,description:``,category:`Romantic`,location:``}),r(!1)},f=e=>{u({title:e.title,description:e.description||``,category:e.category,location:e.location||``}),a(e.id),r(!0)},p=async e=>{await gN(e.id,{completed:!e.completed})},m=async e=>{window.confirm(`Are you sure you want to delete this idea?`)&&await _N(e)},h=e.reduce((e,t)=>{let n=t.location||`Someday / Not Specific`;return e[n]||(e[n]=[]),e[n].push(t),e},{}),g=Object.keys(h).sort();return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Date Ideas by Location `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),u({title:``,description:``,category:`Romantic`,location:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Idea`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:d,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Idea`:`New Date Idea`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,M.jsx)(`input`,{type:`text`,value:l.title,onChange:e=>u({...l,title:e.target.value}),className:`input`,required:!0,placeholder:`What do you want to do?`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description`}),(0,M.jsx)(`textarea`,{value:l.description,onChange:e=>u({...l,description:e.target.value}),className:`input`,rows:3,placeholder:`Add more details...`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Category *`}),(0,M.jsx)(`select`,{value:l.category,onChange:e=>u({...l,category:e.target.value}),className:`input`,required:!0,children:oP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Location *`}),(0,M.jsx)(`input`,{type:`text`,value:l.location,onChange:e=>u({...l,location:e.target.value}),className:`input`,placeholder:`e.g., Buffalo NY , New York City , California `})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Idea`:`Add Idea`})]}),g.length===0?(0,M.jsx)(`div`,{className:`card text-center py-12`,children:(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No date ideas yet. Add your first one!`})}):(0,M.jsx)(`div`,{className:`space-y-6`,children:g.map(e=>(0,M.jsxs)(`div`,{className:`space-y-3`,children:[(0,M.jsxs)(`button`,{onClick:()=>s(o===e?null:e),className:`flex items-center gap-2 text-2xl font-bold text-gray-800 hover:text-pink-600 transition-colors`,children:[(0,M.jsx)(ZM,{className:`w-6 h-6`}),e,(0,M.jsxs)(`span`,{className:`text-sm font-normal text-gray-500`,children:[`(`,h[e].length,`)`]})]}),(o===e||o===null)&&(0,M.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ml-8`,children:h[e].map(e=>(0,M.jsx)(`div`,{className:`card ${e.completed?`bg-gray-50 opacity-75`:``}`,children:(0,M.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,M.jsx)(`h3`,{className:`text-lg font-semibold ${e.completed?`line-through text-gray-500`:`text-gray-800`}`,children:e.title}),(0,M.jsx)(`span`,{className:`px-3 py-1 bg-pink-100 text-pink-700 rounded-full text-xs font-medium`,children:e.category})]}),e.description&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mb-2`,children:e.description}),(0,M.jsxs)(`p`,{className:`text-xs text-gray-400 mt-2`,children:[`Added by `,e.addedBy]})]}),(0,M.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>p(e),className:`p-2 rounded-full transition-colors ${e.completed?`bg-green-100 text-green-600`:`bg-gray-100 text-gray-600 hover:bg-green-100 hover:text-green-600`}`,title:e.completed?`Mark incomplete`:`Mark complete`,children:(0,M.jsx)(BM,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>f(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>m(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]})]})},e.id))})]},e))})]})}var cP=[`Not Started`,`In Progress`,`Finished`];function lP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)({title:``,author:``,status:`Not Started`,notes:``});(0,x.useEffect)(()=>vN(t),[]);let u=async e=>{e.preventDefault(),i?(await bN(i,c),a(null)):await yN(c),l({title:``,author:``,status:`Not Started`,notes:``}),r(!1)},d=e=>{l({title:e.title,author:e.author,status:e.status,notes:e.notes||``}),a(e.id),r(!0)},f=async e=>{window.confirm(`Are you sure you want to delete this book?`)&&await xN(e)},p=e.filter(e=>o===`all`?!0:e.status===o),m=e=>{switch(e){case`Not Started`:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`;case`In Progress`:return`bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300`;case`Finished`:return`bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300`;default:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`}};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Books to Read Together `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),l({title:``,author:``,status:`Not Started`,notes:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Book`]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,M.jsxs)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[`All (`,e.length,`)`]}),cP.map(t=>(0,M.jsxs)(`button`,{onClick:()=>s(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===t?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[t,` (`,e.filter(e=>e.status===t).length,`)`]},t))]}),n&&(0,M.jsxs)(`form`,{onSubmit:u,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Book`:`Add New Book`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,M.jsx)(`input`,{type:`text`,value:c.title,onChange:e=>l({...c,title:e.target.value}),className:`input`,required:!0,placeholder:`Book title`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Author *`}),(0,M.jsx)(`input`,{type:`text`,value:c.author,onChange:e=>l({...c,author:e.target.value}),className:`input`,required:!0,placeholder:`Author name`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Status *`}),(0,M.jsx)(`select`,{value:c.status,onChange:e=>l({...c,status:e.target.value}),className:`input`,required:!0,children:cP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Notes`}),(0,M.jsx)(`textarea`,{value:c.notes,onChange:e=>l({...c,notes:e.target.value}),className:`input`,rows:3,placeholder:`Your thoughts about this book...`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Book`:`Add Book`})]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:p.length===0?(0,M.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,M.jsx)(RM,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No books yet. Add your first book to read together! `})]}):p.map(e=>(0,M.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,M.jsx)(RM,{className:`w-8 h-8 text-green-400`}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>d(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>f(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]})]}),(0,M.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-1`,children:e.title}),(0,M.jsxs)(`p`,{className:`text-gray-600 text-sm mb-3`,children:[`by `,e.author]}),(0,M.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${m(e.status)}`,children:e.status}),e.notes&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mt-3 pt-3 border-t border-gray-100`,children:e.notes})]},e.id))})]})}var uP=[`Not Started`,`Watching`,`Finished`],dP=[`Netflix`,`Hulu`,`Prime Video`,`Disney+`,`HBO Max`,`Apple TV+`,`Other`];function fP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)({title:``,platform:`Netflix`,status:`Not Started`,notes:``});(0,x.useEffect)(()=>SN(t),[]);let u=async e=>{e.preventDefault(),i?(await wN(i,c),a(null)):await CN(c),l({title:``,platform:`Netflix`,status:`Not Started`,notes:``}),r(!1)},d=e=>{l({title:e.title,platform:e.platform,status:e.status,notes:e.notes||``}),a(e.id),r(!0)},f=async e=>{window.confirm(`Are you sure you want to delete this show?`)&&await TN(e)},p=e.filter(e=>o===`all`?!0:e.status===o),m=e=>{switch(e){case`Not Started`:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`;case`Watching`:return`bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300`;case`Finished`:return`bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300`;default:return`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`}};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Shows to Watch Together `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),l({title:``,platform:`Netflix`,status:`Not Started`,notes:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Show`]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,M.jsxs)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[`All (`,e.length,`)`]}),uP.map(t=>(0,M.jsxs)(`button`,{onClick:()=>s(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===t?`bg-pink-500 text-white`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,children:[t,` (`,e.filter(e=>e.status===t).length,`)`]},t))]}),n&&(0,M.jsxs)(`form`,{onSubmit:u,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Show`:`Add New Show`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,M.jsx)(`input`,{type:`text`,value:c.title,onChange:e=>l({...c,title:e.target.value}),className:`input`,required:!0,placeholder:`Show title`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Platform *`}),(0,M.jsx)(`select`,{value:c.platform,onChange:e=>l({...c,platform:e.target.value}),className:`input`,required:!0,children:dP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Status *`}),(0,M.jsx)(`select`,{value:c.status,onChange:e=>l({...c,status:e.target.value}),className:`input`,required:!0,children:uP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Notes`}),(0,M.jsx)(`textarea`,{value:c.notes,onChange:e=>l({...c,notes:e.target.value}),className:`input`,rows:3,placeholder:`Your thoughts about this show...`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Show`:`Add Show`})]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:p.length===0?(0,M.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,M.jsx)(cN,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No shows yet. Add your first show to watch together! `})]}):p.map(e=>(0,M.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,M.jsx)(cN,{className:`w-8 h-8 text-green-400`}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>d(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>f(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]})]}),(0,M.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-1`,children:e.title}),(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mb-3`,children:e.platform}),(0,M.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${m(e.status)}`,children:e.status}),e.notes&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mt-3 pt-3 border-t border-gray-100`,children:e.notes})]},e.id))})]})}var pP=[`Low`,`Medium`,`High`];function mP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(`all`),[c,l]=(0,x.useState)({destination:``,priority:`Medium`,estimatedDate:``,notes:``});(0,x.useEffect)(()=>EN(t),[]);let u=async e=>{e.preventDefault(),i?(await ON(i,c),a(null)):await DN(c),l({destination:``,priority:`Medium`,estimatedDate:``,notes:``}),r(!1)},d=e=>{l({destination:e.destination,priority:e.priority,estimatedDate:e.estimatedDate||``,notes:e.notes||``}),a(e.id),r(!0)},f=async e=>{window.confirm(`Are you sure you want to delete this trip?`)&&await kN(e)},p=e.filter(e=>o===`all`?!0:e.priority===o),m=e=>{switch(e){case`Low`:return`bg-green-100 text-green-700`;case`Medium`:return`bg-yellow-100 text-yellow-700`;case`High`:return`bg-red-100 text-red-700`;default:return`bg-gray-100 text-gray-700`}};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Future Trips `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),l({destination:``,priority:`Medium`,estimatedDate:``,notes:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Trip`]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2 flex-wrap`,children:[(0,M.jsxs)(`button`,{onClick:()=>s(`all`),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===`all`?`bg-pink-500 text-white`:`bg-gray-100 text-gray-700 hover:bg-gray-200`}`,children:[`All (`,e.length,`)`]}),pP.map(t=>(0,M.jsxs)(`button`,{onClick:()=>s(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===t?`bg-pink-500 text-white`:`bg-gray-100 text-gray-700 hover:bg-gray-200`}`,children:[t,` (`,e.filter(e=>e.priority===t).length,`)`]},t))]}),n&&(0,M.jsxs)(`form`,{onSubmit:u,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Trip`:`Plan New Trip`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Destination *`}),(0,M.jsx)(`input`,{type:`text`,value:c.destination,onChange:e=>l({...c,destination:e.target.value}),className:`input`,required:!0,placeholder:`Where are we going?`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Priority *`}),(0,M.jsx)(`select`,{value:c.priority,onChange:e=>l({...c,priority:e.target.value}),className:`input`,required:!0,children:pP.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Estimated Date`}),(0,M.jsx)(`input`,{type:`date`,value:c.estimatedDate,onChange:e=>l({...c,estimatedDate:e.target.value}),className:`input`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Notes`}),(0,M.jsx)(`textarea`,{value:c.notes,onChange:e=>l({...c,notes:e.target.value}),className:`input`,rows:3,placeholder:`Details, plans, or anything else...`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Trip`:`Add Trip`})]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`,children:p.length===0?(0,M.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,M.jsx)(eN,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No future trips yet. Start planning your next adventure! `})]}):p.map(e=>(0,M.jsxs)(`div`,{className:`card hover:shadow-2xl transition-shadow`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,M.jsx)(eN,{className:`w-8 h-8 text-pink-400`}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>d(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>f(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]})]}),(0,M.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-3`,children:e.destination}),(0,M.jsxs)(`div`,{className:`space-y-2`,children:[(0,M.jsxs)(`span`,{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${m(e.priority)}`,children:[e.priority,` Priority`]}),e.estimatedDate&&(0,M.jsxs)(`p`,{className:`text-gray-600 text-sm`,children:[` `,new Date(e.estimatedDate).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`})]}),e.notes&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mt-3 pt-3 border-t border-gray-100`,children:e.notes})]})]},e.id))})]})}function hP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)({destination:``,why:``,pictureUrl:``});(0,x.useEffect)(()=>AN(t),[]);let c=async e=>{e.preventDefault(),i?(await MN(i,o),a(null)):await jN(o),s({destination:``,why:``,pictureUrl:``}),r(!1)},l=e=>{s({destination:e.destination,why:e.why||``,pictureUrl:e.pictureUrl||``}),a(e.id),r(!0)},u=async e=>{window.confirm(`Are you sure you want to delete this dream trip?`)&&await NN(e)};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Dream Trips `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),s({destination:``,why:``,pictureUrl:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Dream`]})]}),(0,M.jsx)(`p`,{className:`text-gray-600 text-center`,children:`Our bucket list of places we dream of visiting together someday `}),n&&(0,M.jsxs)(`form`,{onSubmit:c,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Dream Trip`:`Add Dream Trip`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Destination *`}),(0,M.jsx)(`input`,{type:`text`,value:o.destination,onChange:e=>s({...o,destination:e.target.value}),className:`input`,required:!0,placeholder:`Where do we dream of going?`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Why?`}),(0,M.jsx)(`textarea`,{value:o.why,onChange:e=>s({...o,why:e.target.value}),className:`input`,rows:3,placeholder:`Why is this place special to us?`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Picture URL`}),(0,M.jsx)(`input`,{type:`url`,value:o.pictureUrl,onChange:e=>s({...o,pictureUrl:e.target.value}),className:`input`,placeholder:`https://example.com/image.jpg (optional)`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Dream`:`Add Dream`})]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`,children:e.length===0?(0,M.jsxs)(`div`,{className:`col-span-full card text-center py-12`,children:[(0,M.jsx)(aN,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No dream trips yet. Add your first bucket list destination! `})]}):e.map(e=>(0,M.jsxs)(`div`,{className:`card hover:shadow-2xl transition-all overflow-hidden p-0`,children:[e.pictureUrl&&(0,M.jsx)(`div`,{className:`w-full h-48 bg-gray-200 overflow-hidden`,children:(0,M.jsx)(`img`,{src:e.pictureUrl,alt:e.destination,className:`w-full h-full object-cover hover:scale-110 transition-transform duration-300`,onError:e=>{e.target.style.display=`none`}})}),(0,M.jsxs)(`div`,{className:`p-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-start mb-3`,children:[(0,M.jsx)(aN,{className:`w-8 h-8 text-green-400`}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>l(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-4 h-4`})}),(0,M.jsx)(`button`,{onClick:()=>u(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]})]}),(0,M.jsx)(`h3`,{className:`text-xl font-bold text-gray-800 mb-3`,children:e.destination}),e.why&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm leading-relaxed`,children:e.why})]})]},e.id))})]})}function gP(){let[e,t]=(0,x.useState)(!1),n=window.location.origin,r=`Hey! Join me on our LDR app so we can plan our future together! Sign up here: ${n}`;return(0,M.jsxs)(`div`,{className:`max-w-2xl mx-auto space-y-6`,children:[(0,M.jsxs)(`div`,{className:`text-center`,children:[(0,M.jsx)(`div`,{className:`flex justify-center mb-4`,children:(0,M.jsx)(KM,{className:`w-16 h-16 text-pink-400 fill-pink-400 animate-pulse`})}),(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800 mb-2`,children:`Invite Your Partner`}),(0,M.jsx)(`p`,{className:`text-gray-600`,children:`Share this app with your partner so you can start planning your future together!`})]}),(0,M.jsxs)(`div`,{className:`card`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,M.jsx)(JM,{className:`w-6 h-6 text-pink-500`}),(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800`,children:`Share App Link`})]}),(0,M.jsx)(`div`,{className:`bg-gray-50 rounded-lg p-4 mb-4`,children:(0,M.jsx)(`p`,{className:`text-sm text-gray-700 font-mono break-all`,children:n})}),(0,M.jsx)(`button`,{onClick:()=>{navigator.clipboard.writeText(n),t(!0),setTimeout(()=>t(!1),2e3)},className:`btn-primary w-full inline-flex items-center justify-center gap-2`,children:e?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(BM,{className:`w-5 h-5`}),`Copied!`]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(UM,{className:`w-5 h-5`}),`Copy Link`]})})]}),(0,M.jsxs)(`div`,{className:`card`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-3 mb-4`,children:[(0,M.jsx)(XM,{className:`w-6 h-6 text-green-500`}),(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800`,children:`Send Invite Message`})]}),(0,M.jsx)(`div`,{className:`bg-gray-50 rounded-lg p-4 mb-4`,children:(0,M.jsx)(`p`,{className:`text-sm text-gray-700`,children:r})}),(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsxs)(`button`,{onClick:()=>{navigator.clipboard.writeText(r),t(!0),setTimeout(()=>t(!1),2e3)},className:`btn-secondary flex-1 inline-flex items-center justify-center gap-2`,children:[(0,M.jsx)(UM,{className:`w-5 h-5`}),`Copy Message`]}),(0,M.jsxs)(`button`,{onClick:()=>{let e=encodeURIComponent(r);window.location.href=`mailto:?subject=Join%20me%20on%20our%20LDR%20app!&body=${e}`},className:`btn-primary flex-1 inline-flex items-center justify-center gap-2`,children:[(0,M.jsx)(XM,{className:`w-5 h-5`}),`Email Invite`]})]})]}),(0,M.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-50 to-green-50 border-2 border-pink-200`,children:[(0,M.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-3`,children:`How it works:`}),(0,M.jsxs)(`ol`,{className:`space-y-2 text-gray-700`,children:[(0,M.jsxs)(`li`,{className:`flex gap-2`,children:[(0,M.jsx)(`span`,{className:`font-semibold text-pink-500`,children:`1.`}),(0,M.jsx)(`span`,{children:`Share the link or message with your partner`})]}),(0,M.jsxs)(`li`,{className:`flex gap-2`,children:[(0,M.jsx)(`span`,{className:`font-semibold text-green-500`,children:`2.`}),(0,M.jsx)(`span`,{children:`They create their own account (or use the same one)`})]}),(0,M.jsxs)(`li`,{className:`flex gap-2`,children:[(0,M.jsx)(`span`,{className:`font-semibold text-pink-500`,children:`3.`}),(0,M.jsx)(`span`,{children:`You both can now see and edit all shared content!`})]}),(0,M.jsxs)(`li`,{className:`flex gap-2`,children:[(0,M.jsx)(`span`,{className:`font-semibold text-green-500`,children:`4.`}),(0,M.jsx)(`span`,{children:`Start planning your amazing future together!`})]})]})]}),(0,M.jsx)(`div`,{className:`card bg-blue-50 border border-blue-200`,children:(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsx)(`div`,{className:`text-blue-600`,children:``}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`h4`,{className:`font-semibold text-gray-800 mb-1`,children:`Privacy & Security`}),(0,M.jsx)(`p`,{className:`text-sm text-gray-600`,children:`Only users who create accounts can access your shared data. Make sure to only share this link with your partner!`})]})]})})]})}var _P=[`Anniversary`,`Birthday`,`First Date`,`Trip`,`Milestone`,`Other`];function vP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)({title:``,date:``,category:`Anniversary`,notes:``});(0,x.useEffect)(()=>PN(t),[]);let c=async e=>{e.preventDefault(),i?(await IN(i,o),a(null)):await FN(o),s({title:``,date:``,category:`Anniversary`,notes:``}),r(!1)},l=e=>{s({title:e.title,date:e.date,category:e.category,notes:e.notes||``}),a(e.id),r(!0)},u=async e=>{window.confirm(`Are you sure you want to delete this special date?`)&&await LN(e)},d=e=>{switch(e){case`Anniversary`:return`bg-pink-100 text-pink-700`;case`Birthday`:return`bg-purple-100 text-purple-700`;case`First Date`:return`bg-rose-100 text-rose-700`;case`Trip`:return`bg-green-100 text-green-700`;case`Milestone`:return`bg-blue-100 text-blue-700`;default:return`bg-gray-100 text-gray-700`}},f=[...e].sort((e,t)=>new Date(e.date)-new Date(t.date)),p=e=>{let t=new Date,n=new Date(e+`T00:00:00`)-t,r=Math.ceil(n/(1e3*60*60*24));return r<0?`${Math.abs(r)} days ago`:r===0?`Today!`:r===1?`Tomorrow!`:`In ${r} days`};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsx)(`h1`,{className:`text-3xl font-bold text-gray-800`,children:`Special Dates `}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),s({title:``,date:``,category:`Anniversary`,notes:``})},className:`btn-primary inline-flex items-center gap-2`,children:[n?(0,M.jsx)(dN,{className:`w-5 h-5`}):(0,M.jsx)(tN,{className:`w-5 h-5`}),n?`Cancel`:`Add Date`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:c,className:`card space-y-4`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:i?`Edit Special Date`:`Add Special Date`}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title *`}),(0,M.jsx)(`input`,{type:`text`,value:o.title,onChange:e=>s({...o,title:e.target.value}),className:`input`,required:!0,placeholder:`e.g., Our First Date`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Date *`}),(0,M.jsx)(`input`,{type:`date`,value:o.date,onChange:e=>s({...o,date:e.target.value}),className:`input`,required:!0})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Category *`}),(0,M.jsx)(`select`,{value:o.category,onChange:e=>s({...o,category:e.target.value}),className:`input`,required:!0,children:_P.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Notes`}),(0,M.jsx)(`textarea`,{value:o.notes,onChange:e=>s({...o,notes:e.target.value}),className:`input`,rows:3,placeholder:`Add a special memory or note...`})]}),(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary w-full`,children:i?`Update Date`:`Add Date`})]}),(0,M.jsx)(`div`,{className:`space-y-4`,children:f.length===0?(0,M.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,M.jsx)(KM,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500`,children:`No special dates yet. Add your first one!`})]}):f.map(e=>{let t=new Date(e.date)<new Date;return(0,M.jsx)(`div`,{className:`card ${t?`bg-gray-50`:`bg-gradient-to-br from-pink-50 to-green-50 border-2 border-pink-200`}`,children:(0,M.jsxs)(`div`,{className:`flex justify-between items-start gap-4`,children:[(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 mb-2 flex-wrap`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800`,children:e.title}),(0,M.jsx)(`span`,{className:`px-3 py-1 rounded-full text-xs font-medium ${d(e.category)}`,children:e.category})]}),(0,M.jsxs)(`div`,{className:`space-y-2`,children:[(0,M.jsxs)(`p`,{className:`text-gray-700 font-medium`,children:[` `,new Date(e.date+`T00:00:00`).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`})]}),(0,M.jsx)(`p`,{className:`text-sm font-medium ${t?`text-gray-500`:`text-pink-600`}`,children:p(e.date)}),e.notes&&(0,M.jsx)(`p`,{className:`text-gray-600 text-sm mt-2 pt-2 border-t border-gray-200`,children:e.notes})]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>l(e),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600 transition-colors`,title:`Edit`,children:(0,M.jsx)($M,{className:`w-5 h-5`})}),(0,M.jsx)(`button`,{onClick:()=>u(e.id),className:`p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors`,title:`Delete`,children:(0,M.jsx)(sN,{className:`w-5 h-5`})})]})]})},e.id)})})]})}function yP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)({subject:``,message:``,frogSticker:``}),[o,s]=(0,x.useState)(null),{currentUser:c}=OM();(0,x.useEffect)(()=>RN(e=>{t(e.sort((e,t)=>t.createdAt-e.createdAt))}),[]);let l=async e=>{e.preventDefault(),i.subject.trim()&&i.message.trim()&&(await zN({...i,from:c.email,read:!1,createdAt:Date.now()}),a({subject:``,message:``,frogSticker:``}),r(!1))},u=async e=>{window.confirm(`Delete this letter?`)&&(await BN(e),o?.id===e&&s(null))},d=e=>{s(e)},f=()=>{s(null)};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 flex items-center gap-3`,children:[(0,M.jsx)(XM,{className:`w-8 h-8 text-pink-500`}),`Mailbox`]}),(0,M.jsx)(`p`,{className:`text-gray-600 mt-1`,children:`Love letters for each other`})]}),(0,M.jsxs)(`button`,{onClick:()=>r(!n),className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(rN,{className:`w-5 h-5`}),`Write Letter`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:l,className:`card bg-gradient-to-br from-pink-50 to-green-50`,children:[(0,M.jsxs)(`h3`,{className:`text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(KM,{className:`w-5 h-5 text-pink-500`}),`New Love Letter`]}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Subject`}),(0,M.jsx)(`input`,{type:`text`,value:i.subject,onChange:e=>a({...i,subject:e.target.value}),className:`input`,placeholder:`A little note for you...`,required:!0})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Message`}),(0,M.jsx)(`textarea`,{value:i.message,onChange:e=>a({...i,message:e.target.value}),className:`input min-h-[200px] resize-y`,placeholder:`Write your heart out...`,required:!0})]}),(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:`Send Letter`}),(0,M.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a({subject:``,message:``,frogSticker:``})},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,M.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,M.jsx)(XM,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No letters yet`}),(0,M.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Write your first love letter!`})]}):(0,M.jsx)(`div`,{className:`grid gap-4`,children:e.map(e=>(0,M.jsx)(`div`,{className:`card hover:shadow-lg transition-shadow cursor-pointer bg-white border-2 border-pink-100`,onClick:()=>d(e),children:(0,M.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,M.jsx)(XM,{className:`w-5 h-5 ${e.from===c.email?`text-green-500`:`text-pink-500`}`}),(0,M.jsx)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:e.from===c.email?`From: You`:`From: ${e.from}`}),(0,M.jsx)(`span`,{className:`text-sm text-gray-400 dark:text-gray-500`,children:new Date(e.createdAt).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,year:`numeric`})}),e.frogSticker&&(0,M.jsx)(`span`,{className:`text-lg ml-auto`,children:e.frogSticker})]}),(0,M.jsx)(`h3`,{className:`text-lg font-semibold text-gray-800 mb-1`,children:e.subject}),(0,M.jsx)(`p`,{className:`text-gray-600 line-clamp-2`,children:e.message})]}),(0,M.jsx)(`button`,{onClick:t=>{t.stopPropagation(),u(e.id)},className:`text-gray-400 hover:text-red-500 transition-colors ml-4`,children:(0,M.jsx)(sN,{className:`w-5 h-5`})})]})},e.id))}),o&&(0,M.jsx)(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50`,onClick:f,children:(0,M.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto`,onClick:e=>e.stopPropagation(),children:[(0,M.jsx)(`div`,{className:`sticky top-0 bg-gradient-to-r from-pink-500 to-green-500 text-white p-6 rounded-t-2xl`,children:(0,M.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,M.jsx)(XM,{className:`w-5 h-5`}),(0,M.jsx)(`span`,{className:`text-sm opacity-90`,children:o.from===c.email?`From: You`:`From: ${o.from}`}),(0,M.jsx)(`span`,{className:`text-sm opacity-75`,children:new Date(o.createdAt).toLocaleDateString(`en-US`,{month:`long`,day:`numeric`,year:`numeric`,hour:`numeric`,minute:`2-digit`})})]}),(0,M.jsxs)(`h2`,{className:`text-2xl font-bold flex items-center gap-2`,children:[o.subject,o.frogSticker&&(0,M.jsx)(`span`,{className:`text-3xl`,children:o.frogSticker})]})]}),(0,M.jsx)(`button`,{onClick:f,className:`text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-colors`,children:``})]})}),(0,M.jsxs)(`div`,{className:`p-6`,children:[(0,M.jsx)(`div`,{className:`prose prose-pink max-w-none`,children:(0,M.jsx)(`p`,{className:`text-gray-700 whitespace-pre-wrap leading-relaxed`,children:o.message})}),(0,M.jsxs)(`div`,{className:`mt-6 pt-6 border-t border-gray-200 flex justify-between items-center`,children:[(0,M.jsx)(KM,{className:`w-6 h-6 text-pink-500 fill-pink-500`}),(0,M.jsxs)(`button`,{onClick:()=>{u(o.id),f()},className:`text-red-500 hover:text-red-600 flex items-center gap-2`,children:[(0,M.jsx)(sN,{className:`w-4 h-4`}),`Delete Letter`]})]})]})]})})]})}function bP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(``),{currentUser:o}=OM();(0,x.useEffect)(()=>VN(e=>{t(e.sort((e,t)=>t.createdAt-e.createdAt))}),[]);let s=async e=>{e.preventDefault(),i.trim()&&(await HN({message:i,from:o.email,createdAt:Date.now()}),a(``),r(!1))},c=async e=>{window.confirm(`Delete this gratitude post?`)&&await UN(e)},l=e=>{let t=[`from-pink-100 to-pink-200`,`from-green-100 to-green-200`,`from-pink-100 to-green-100`,`from-emerald-100 to-pink-100`];return t[e%t.length]};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,M.jsx)(aN,{className:`w-8 h-8 text-pink-500`}),`Gratitude Wall`]}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Things we appreciate about each other`})]}),(0,M.jsxs)(`button`,{onClick:()=>r(!n),className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(tN,{className:`w-5 h-5`}),`Add Gratitude`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:s,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,M.jsxs)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2`,children:[(0,M.jsx)(KM,{className:`w-5 h-5 text-pink-500 fill-pink-500`}),`What are you grateful for today?`]}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsx)(`textarea`,{value:i,onChange:e=>a(e.target.value),className:`input min-h-[120px] resize-y`,placeholder:`I'm grateful for...`,required:!0,autoFocus:!0}),(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:`Post`}),(0,M.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a(``)},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,M.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,M.jsx)(aN,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No gratitude posts yet`}),(0,M.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Start appreciating each other!`})]}):(0,M.jsx)(`div`,{className:`grid gap-4 sm:grid-cols-2 lg:grid-cols-3`,children:e.map((e,t)=>(0,M.jsxs)(`div`,{className:`card bg-gradient-to-br ${l(t)} border-2 border-opacity-50 hover:shadow-lg transition-all hover:-translate-y-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,M.jsx)(KM,{className:`w-5 h-5 ${e.from===o.email?`text-green-500 fill-green-500`:`text-pink-500 fill-pink-500`}`}),(0,M.jsx)(`span`,{className:`text-sm font-medium text-gray-700`,children:e.from===o.email?`You`:`Partner`})]}),(0,M.jsx)(`button`,{onClick:()=>c(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,M.jsx)(sN,{className:`w-4 h-4`})})]}),(0,M.jsx)(`p`,{className:`text-gray-800 dark:text-gray-100 mb-3 leading-relaxed`,children:e.message}),(0,M.jsx)(`div`,{className:`text-xs text-gray-500`,children:new Date(e.createdAt).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,year:`numeric`,hour:`numeric`,minute:`2-digit`})})]},e.id))})]})}function xP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)({title:``,description:``,date:``,category:`First`,frogSticker:``}),u=[``,``,``,``,``,``],d=[`First`,`Anniversary`,`Trip`,`Achievement`,`Other`];(0,x.useEffect)(()=>WN(e=>{t(e)}),[]),(0,x.useEffect)(()=>fN(e=>{s(e.relationshipStart||``)}),[]);let f=(()=>{if(!o)return null;let e=new Date(o),t=new Date,n=Math.abs(t-e),r=Math.floor(n/(1e3*60*60*24));return{years:Math.floor(r/365),months:Math.floor(r%365/30),days:r%30,totalDays:r}})(),p=async e=>{e.preventDefault(),i?(await KN(i,c),a(null)):await GN({...c,createdAt:Date.now()}),l({title:``,description:``,date:``,category:`First`}),r(!1)},m=e=>{l({title:e.title,description:e.description,date:e.date,category:e.category,frogSticker:e.frogSticker||``}),a(e.id),r(!0)},h=async e=>{window.confirm(`Delete this milestone?`)&&await qN(e)},g=e=>{switch(e){case`Anniversary`:return(0,M.jsx)(KM,{className:`w-5 h-5`});case`Trip`:return(0,M.jsx)(aN,{className:`w-5 h-5`});case`Achievement`:return(0,M.jsx)(FM,{className:`w-5 h-5`});default:return(0,M.jsx)(zM,{className:`w-5 h-5`})}},_=e=>{switch(e){case`Anniversary`:return`from-pink-400 to-pink-500`;case`Trip`:return`from-green-400 to-emerald-500`;case`Achievement`:return`from-yellow-400 to-orange-500`;case`First`:return`from-purple-400 to-pink-500`;default:return`from-gray-400 to-gray-500`}};return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,M.jsx)(FM,{className:`w-8 h-8 text-pink-500`}),`Milestones`]}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Track your relationship journey`})]}),(0,M.jsxs)(`button`,{onClick:()=>{r(!n),a(null),l({title:``,description:``,date:``,category:`First`,frogSticker:``})},className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(tN,{className:`w-5 h-5`}),`Add Milestone`]})]}),f&&(0,M.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-500 to-green-500 text-white`,children:[(0,M.jsx)(`h2`,{className:`text-2xl font-bold mb-4 text-center`,children:`Together For`}),(0,M.jsxs)(`div`,{className:`grid grid-cols-3 gap-4 text-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`div`,{className:`text-4xl font-bold`,children:f.years}),(0,M.jsx)(`div`,{className:`text-sm opacity-90`,children:`Years`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`div`,{className:`text-4xl font-bold`,children:f.months}),(0,M.jsx)(`div`,{className:`text-sm opacity-90`,children:`Months`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`div`,{className:`text-4xl font-bold`,children:f.days}),(0,M.jsx)(`div`,{className:`text-sm opacity-90`,children:`Days`})]})]}),(0,M.jsxs)(`div`,{className:`mt-4 text-center text-sm opacity-90`,children:[f.totalDays.toLocaleString(),` days total`]})]}),n&&(0,M.jsxs)(`form`,{onSubmit:p,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:i?`Edit Milestone`:`New Milestone`}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Title`}),(0,M.jsx)(`input`,{type:`text`,value:c.title,onChange:e=>l({...c,title:e.target.value}),className:`input`,placeholder:`Our first date`,required:!0})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Description (optional)`}),(0,M.jsx)(`textarea`,{value:c.description,onChange:e=>l({...c,description:e.target.value}),className:`input min-h-[80px]`,placeholder:`Tell the story...`})]}),(0,M.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Date`}),(0,M.jsx)(`input`,{type:`date`,value:c.date,onChange:e=>l({...c,date:e.target.value}),className:`input`,required:!0})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 mb-2`,children:`Category`}),(0,M.jsx)(`select`,{value:c.category,onChange:e=>l({...c,category:e.target.value}),className:`input`,children:d.map(e=>(0,M.jsx)(`option`,{value:e,children:e},e))})]})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Frog Sticker (optional)`}),(0,M.jsx)(`div`,{className:`flex gap-2 flex-wrap`,children:u.map((e,t)=>(0,M.jsx)(`button`,{type:`button`,onClick:()=>l({...c,frogSticker:e}),className:`w-12 h-12 rounded-lg border-2 transition-all ${c.frogSticker===e?`border-pink-500 bg-pink-50 dark:bg-pink-900/20 scale-110`:`border-gray-200 dark:border-gray-600 hover:border-pink-300`}`,children:(0,M.jsx)(`span`,{className:`text-2xl`,children:e||``})},t))})]}),(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:i?`Update`:`Add`}),(0,M.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a(null),l({title:``,description:``,date:``,category:`First`})},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,M.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,M.jsx)(FM,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No milestones yet`}),(0,M.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Start tracking your special moments!`})]}):(0,M.jsx)(`div`,{className:`space-y-4`,children:e.map(e=>(0,M.jsx)(`div`,{className:`card hover:shadow-lg transition-shadow`,children:(0,M.jsxs)(`div`,{className:`flex items-start gap-4`,children:[(0,M.jsxs)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${_(e.category)} flex items-center justify-center text-white flex-shrink-0 relative`,children:[g(e.category),e.frogSticker&&(0,M.jsx)(`span`,{className:`absolute -top-1 -right-1 text-lg`,children:e.frogSticker})]}),(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-start justify-between mb-2`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100`,children:e.title}),(0,M.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-gray-500 mt-1`,children:[(0,M.jsx)(zM,{className:`w-4 h-4`}),new Date(e.date).toLocaleDateString(`en-US`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`}),(0,M.jsx)(`span`,{className:`text-gray-400`,children:``}),(0,M.jsx)(`span`,{className:`px-2 py-1 bg-gray-100 rounded text-xs font-medium`,children:e.category})]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:()=>m(e),className:`text-gray-400 hover:text-blue-500 transition-colors`,children:(0,M.jsx)($M,{className:`w-5 h-5`})}),(0,M.jsx)(`button`,{onClick:()=>h(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,M.jsx)(sN,{className:`w-5 h-5`})})]})]}),e.description&&(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 leading-relaxed`,children:e.description})]})]})},e.id))})]})}function SP(){let[e,t]=(0,x.useState)([]),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(!1),[c,l]=(0,x.useState)({}),{currentUser:u}=OM();(0,x.useEffect)(()=>JN(e=>{t(e)}),[]),(0,x.useEffect)(()=>tP(e=>{l(e)}),[]);let d=()=>new Date().toISOString().split(`T`)[0],f=e=>{let t=d();return(e.completions||{})[t]?.both===!0},p=e=>{let t=d();return(e.completions||{})[t]?.[u.email]===!0},m=e=>{let t=d(),n=e.completions||{},r=Object.keys(n[t]||{}).filter(e=>e!==`both`).find(e=>e!==u.email);return r?n[t][r]===!0:!1},h=e=>{let t=d(),n=e.completions||{},r=Object.keys(n[t]||{}).filter(e=>e!==`both`).find(e=>e!==u.email);return r&&Object.values(c).find(e=>e.email===r)?.name||`Partner`},g=()=>c[u.uid]?.name||`You`,_=e=>{if(!e.completions)return 0;let t=Object.keys(e.completions).filter(t=>e.completions[t].both===!0).sort().reverse();if(t.length===0)return 0;let n=0,r=new Date;for(let e=0;e<t.length+1;e++){let i=new Date(r);i.setDate(i.getDate()-e);let a=i.toISOString().split(`T`)[0];if(t.includes(a))n++;else break}return n},v=e.length>0&&e.every(e=>f(e));(0,x.useEffect)(()=>{v&&e.length>0&&(s(!0),setTimeout(()=>s(!1),5e3))},[v,e.length]);let y=async e=>{e.preventDefault(),i.trim()&&(await YN({habit:i,createdBy:u.email,completions:{},createdAt:Date.now()}),a(``),r(!1))},b=async e=>{let t=d(),n=e.completions||{},r=n[t]||{},i=!r[u.email],a={...r,[u.email]:i},o=Object.keys(a).filter(e=>e!==`both`);a.both=o.length>=2&&o.every(e=>a[e]===!0);let s={...n,[t]:a};await XN(e.id,{completions:s})},S=async e=>{window.confirm(`Delete this habit?`)&&await ZN(e)},C=e.filter(e=>f(e)).length;return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[o&&(0,M.jsx)(`div`,{className:`fixed top-20 left-1/2 transform -translate-x-1/2 z-50 animate-bounce`,children:(0,M.jsx)(`div`,{className:`bg-gradient-to-r from-pink-500 to-green-500 text-white px-8 py-4 rounded-full shadow-2xl`,children:(0,M.jsxs)(`div`,{className:`flex items-center gap-3 text-xl font-bold`,children:[(0,M.jsx)(aN,{className:`w-6 h-6`}),`All habits completed! `,(0,M.jsx)(aN,{className:`w-6 h-6`})]})})}),(0,M.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,M.jsx)(VM,{className:`w-8 h-8 text-pink-500`}),`Daily Habits`]}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Build healthy habits together`})]}),(0,M.jsxs)(`button`,{onClick:()=>r(!n),className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(tN,{className:`w-5 h-5`}),`Add Habit`]})]}),e.length>0&&(0,M.jsxs)(`div`,{className:`card transition-all ${v?`bg-gradient-to-r from-pink-500 to-green-500 text-white`:`bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`}`,children:[(0,M.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,M.jsx)(`h2`,{className:`text-2xl font-bold ${v?`text-white`:`text-gray-800 dark:text-gray-100`}`,children:`Today's Progress`}),(0,M.jsx)(zM,{className:`w-6 h-6 ${v?`text-white`:`text-pink-500`}`})]}),(0,M.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,M.jsx)(`div`,{className:`flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-4 overflow-hidden`,children:(0,M.jsx)(`div`,{className:`h-full transition-all duration-500 ${v?`bg-white`:`bg-gradient-to-r from-pink-400 to-green-400`}`,style:{width:`${e.length>0?C/e.length*100:0}%`}})}),(0,M.jsxs)(`div`,{className:`text-2xl font-bold ${v?`text-white`:`text-gray-800 dark:text-gray-100`}`,children:[C,`/`,e.length]})]}),v&&(0,M.jsx)(`p`,{className:`text-center mt-3 text-white font-medium`,children:`Amazing work! All habits completed! `})]}),n&&(0,M.jsxs)(`form`,{onSubmit:y,className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`New Daily Habit`}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsx)(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),className:`input`,placeholder:`e.g., Send a good morning text, Exercise together, Read 10 pages`,required:!0,autoFocus:!0}),(0,M.jsxs)(`div`,{className:`flex gap-3`,children:[(0,M.jsx)(`button`,{type:`submit`,className:`btn-primary flex-1`,children:`Add`}),(0,M.jsx)(`button`,{type:`button`,onClick:()=>{r(!1),a(``)},className:`btn-secondary flex-1`,children:`Cancel`})]})]})]}),e.length===0?(0,M.jsxs)(`div`,{className:`card text-center py-12`,children:[(0,M.jsx)(VM,{className:`w-16 h-16 text-gray-300 mx-auto mb-4`}),(0,M.jsx)(`p`,{className:`text-gray-500 text-lg`,children:`No habits yet`}),(0,M.jsx)(`p`,{className:`text-gray-400 mt-2`,children:`Add your first daily habit to get started!`})]}):(0,M.jsx)(`div`,{className:`space-y-3`,children:e.map(e=>{let t=f(e),n=p(e),r=m(e),i=_(e);return(0,M.jsx)(`div`,{className:`card transition-all ${t?`bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-300 dark:border-green-600`:`hover:shadow-lg`}`,children:(0,M.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,M.jsx)(`button`,{onClick:()=>b(e),className:`flex-shrink-0 transition-all ${n?`text-green-500 scale-110`:`text-gray-300 dark:text-gray-600 hover:text-green-400`}`,children:n?(0,M.jsx)(VM,{className:`w-8 h-8`}):(0,M.jsx)(HM,{className:`w-8 h-8`})}),(0,M.jsxs)(`div`,{className:`flex-1`,children:[(0,M.jsx)(`h3`,{className:`text-lg font-medium ${t?`line-through text-gray-500 dark:text-gray-400`:`text-gray-800 dark:text-gray-100`}`,children:e.habit}),(0,M.jsxs)(`div`,{className:`flex items-center gap-3 mt-1`,children:[(0,M.jsxs)(`div`,{className:`flex items-center gap-1 text-sm`,children:[(0,M.jsxs)(`span`,{className:n?`text-green-600 dark:text-green-400`:`text-gray-400`,children:[g(),` `,n?``:``]}),(0,M.jsx)(`span`,{className:`text-gray-400`,children:``}),(0,M.jsxs)(`span`,{className:r?`text-green-600 dark:text-green-400`:`text-gray-400`,children:[h(e),` `,r?``:``]})]}),i>0&&(0,M.jsxs)(`p`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:[` `,i,` day streak!`]})]})]}),(0,M.jsx)(`button`,{onClick:()=>S(e.id),className:`text-gray-400 hover:text-red-500 transition-colors`,children:(0,M.jsx)(sN,{className:`w-5 h-5`})})]})},e.id)})})]})}const CP=async()=>{try{if(!EM)return console.log(`Messaging not supported`),null;if(await Notification.requestPermission()===`granted`){console.log(`Notification permission granted`);let e=await CM(EM,{vapidKey:`A69wF0vMYT4W0IXrUl1saXei9-qx_MF-xXZqd_voYu4`,serviceWorkerRegistration:await navigator.serviceWorker.register(`/firebase-messaging-sw.js`)});return e?(console.log(`FCM Token:`,e),e):(console.log(`No registration token available`),null)}else return console.log(`Notification permission denied`),null}catch(e){return console.error(`Error getting notification permission:`,e),null}};function wP(){let{currentUser:e}=OM(),[t,n]=(0,x.useState)(``),[r,i]=(0,x.useState)(!1),[a,o]=(0,x.useState)(!1),[s,c]=(0,x.useState)({}),[l,u]=(0,x.useState)(`default`),[d,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{if(e)return QN(e.uid,e=>{e&&n(e.name||``)})},[e]),(0,x.useEffect)(()=>tP(e=>{c(e)}),[]),(0,x.useEffect)(()=>{`Notification`in window&&u(Notification.permission)},[]);let p=async n=>{n.preventDefault(),i(!0),o(!1);try{await eP(e.uid,{name:t.trim(),email:e.email}),o(!0),setTimeout(()=>o(!1),3e3)}catch(e){console.error(`Error updating profile:`,e),alert(`Failed to update profile`)}finally{i(!1)}},m=async()=>{f(!0);try{await CP()?(u(`granted`),alert(`Notifications enabled! `)):alert(`Failed to enable notifications. Please check your browser settings.`)}catch(e){console.error(`Error enabling notifications:`,e),alert(`Error enabling notifications. Please try again.`)}finally{f(!1)}},h=s[e?.uid],g=Object.values(s).find(t=>t.email!==e?.email);return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,M.jsx)(uN,{className:`w-8 h-8 text-pink-500`}),`Profile Settings`]}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-2`,children:`Manage your profile information`})]}),(0,M.jsxs)(`div`,{className:`card bg-gradient-to-br from-pink-50 to-green-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Your Information`}),(0,M.jsxs)(`div`,{className:`space-y-3`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Name`}),(0,M.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:h?.name||`Not set`})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Email`}),(0,M.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:e?.email})]})]})]}),g&&(0,M.jsxs)(`div`,{className:`card bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-800 dark:to-gray-700`,children:[(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Your Partner`}),(0,M.jsxs)(`div`,{className:`space-y-3`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Name`}),(0,M.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:g.name})]}),(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`text-sm font-medium text-gray-600 dark:text-gray-400`,children:`Email`}),(0,M.jsx)(`p`,{className:`text-lg text-gray-800 dark:text-gray-100`,children:g.email})]})]})]}),(0,M.jsxs)(`form`,{onSubmit:p,className:`card`,children:[(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Update Your Name`}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2`,children:`Your Name`}),(0,M.jsx)(`input`,{type:`text`,value:t,onChange:e=>n(e.target.value),className:`input`,placeholder:`Enter your name`,required:!0})]}),a&&(0,M.jsx)(`div`,{className:`bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 px-4 py-3 rounded-lg text-sm`,children:`Profile updated successfully!`}),(0,M.jsxs)(`button`,{type:`submit`,disabled:r,className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(nN,{className:`w-5 h-5`}),r?`Saving...`:`Save Changes`]})]})]}),(0,M.jsxs)(`div`,{className:`card`,children:[(0,M.jsx)(`h2`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-4`,children:`Push Notifications`}),(0,M.jsxs)(`div`,{className:`space-y-4`,children:[(0,M.jsxs)(`div`,{className:`flex items-start gap-3`,children:[l===`granted`?(0,M.jsx)(LM,{className:`w-5 h-5 text-green-500 flex-shrink-0 mt-0.5`}):(0,M.jsx)(IM,{className:`w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5`}),(0,M.jsx)(`div`,{className:`flex-1`,children:(0,M.jsx)(`p`,{className:`text-gray-700 dark:text-gray-300`,children:l===`granted`?` Notifications are enabled`:l===`denied`?`Notifications are blocked. Please enable them in your browser settings.`:`Enable notifications to get updates from your partner`})})]}),l!==`granted`&&l!==`denied`&&(0,M.jsxs)(`button`,{onClick:m,disabled:d,className:`btn-primary flex items-center gap-2`,children:[(0,M.jsx)(LM,{className:`w-5 h-5`}),d?`Enabling...`:`Enable Notifications`]}),l===`denied`&&(0,M.jsxs)(`div`,{className:`bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 px-4 py-3 rounded-lg text-sm`,children:[(0,M.jsx)(`p`,{className:`font-medium mb-1`,children:`Notifications are blocked`}),(0,M.jsx)(`p`,{children:`To enable them, go to your browser settings and allow notifications for this site.`})]})]})]}),(0,M.jsxs)(`div`,{className:`card bg-gray-50 dark:bg-gray-800/50`,children:[(0,M.jsx)(`h3`,{className:`font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:` Tip`}),(0,M.jsx)(`p`,{className:`text-sm text-gray-600 dark:text-gray-300`,children:`Your name will be visible to your partner throughout the app, including in Daily Habits, Letters, and other shared features.`})]})]})}function TP(){let e=Ye();return(0,M.jsxs)(`div`,{className:`space-y-6`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsxs)(`h1`,{className:`text-3xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-3`,children:[(0,M.jsx)(iN,{className:`w-8 h-8 text-pink-500`}),`More`]}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 mt-1`,children:`Additional features and settings`})]}),(0,M.jsx)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4`,children:[{title:`Profile`,icon:uN,path:`/profile`,gradient:`from-pink-400 to-pink-500`,description:`Update your name and settings`},{title:`By Location`,icon:ZM,path:`/date-ideas-by-location`,gradient:`from-green-300 to-emerald-400`,description:`Date ideas sorted by place`},{title:`Books`,icon:RM,path:`/books`,gradient:`from-pink-200 to-green-300`,description:`Books to read together`},{title:`Shows`,icon:cN,path:`/shows`,gradient:`from-green-300 to-green-400`,description:`Shows to watch together`},{title:`Gratitude Wall`,icon:aN,path:`/gratitude`,gradient:`from-yellow-300 to-pink-400`,description:`Things we appreciate`},{title:`Invite Partner`,icon:lN,path:`/invite`,gradient:`from-pink-300 to-pink-400`,description:`Share this app`}].map(({title:t,icon:n,path:r,gradient:i,description:a})=>(0,M.jsxs)(`button`,{onClick:()=>e(r),className:`nav-card text-left group`,children:[(0,M.jsx)(`div`,{className:`w-12 h-12 rounded-full bg-gradient-to-r ${i} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:(0,M.jsx)(n,{className:`w-6 h-6 text-white`})}),(0,M.jsx)(`h3`,{className:`text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2`,children:t}),(0,M.jsx)(`p`,{className:`text-gray-600 dark:text-gray-300 text-sm`,children:a})]},r))})]})}var EP=(0,x.createContext)();function DP(){return(0,x.useContext)(EP)}function OP({children:e}){let[t,n]=(0,x.useState)(()=>localStorage.getItem(`theme`)===`dark`);return(0,x.useEffect)(()=>{t?(document.documentElement.classList.add(`dark`),localStorage.setItem(`theme`,`dark`)):(document.documentElement.classList.remove(`dark`),localStorage.setItem(`theme`,`light`))},[t]),(0,M.jsx)(EP.Provider,{value:{isDark:t,toggleTheme:()=>n(!t)},children:e})}function kP(){let{signOut:e,currentUser:t}=OM(),{isDark:n,toggleTheme:r}=DP(),i=Ye(),a=qe(),[o,s]=(0,x.useState)(``);return(0,x.useEffect)(()=>{if(t)return QN(t.uid,e=>{e&&s(e.name||``)})},[t]),(0,M.jsxs)(`div`,{className:`min-h-screen pb-20 bg-gradient-to-br from-pink-50 via-green-50 to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors`,children:[(0,M.jsx)(`header`,{className:`bg-white dark:bg-gray-800 shadow-md sticky top-0 z-10 transition-colors`,children:(0,M.jsxs)(`div`,{className:`max-w-7xl mx-auto px-4 py-4 flex justify-between items-center`,children:[(0,M.jsxs)(`div`,{children:[(0,M.jsx)(`h1`,{className:`text-2xl font-bold bg-gradient-to-r from-pink-500 to-green-500 bg-clip-text text-transparent`,children:`Our Space`}),o&&(0,M.jsxs)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400 mt-0.5`,children:[`Hi, `,o,` `]})]}),(0,M.jsxs)(`div`,{className:`flex gap-2`,children:[(0,M.jsx)(`button`,{onClick:r,className:`p-2 rounded-full hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors`,title:n?`Light Mode`:`Dark Mode`,children:n?(0,M.jsx)(oN,{className:`w-5 h-5 text-yellow-500`}):(0,M.jsx)(QM,{className:`w-5 h-5 text-pink-500`})}),(0,M.jsx)(`button`,{onClick:async()=>{try{await e(),i(`/login`)}catch(e){console.error(`Failed to sign out:`,e)}},className:`p-2 rounded-full hover:bg-pink-50 dark:hover:bg-gray-700 transition-colors`,title:`Sign Out`,children:(0,M.jsx)(YM,{className:`w-5 h-5 text-pink-500`})})]})]})}),(0,M.jsx)(`main`,{className:`max-w-7xl mx-auto px-4 py-6`,children:(0,M.jsx)(yt,{})}),(0,M.jsx)(`nav`,{className:`fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-pink-100 dark:border-gray-700 shadow-lg transition-colors`,children:(0,M.jsx)(`div`,{className:`flex justify-around items-center py-2`,children:[{path:`/`,icon:qM,label:`Home`},{path:`/daily-habits`,icon:VM,label:`Daily`},{path:`/date-ideas`,icon:KM,label:`Planning`},{path:`/mailbox`,icon:XM,label:`Letters`},{path:`/more`,icon:WM,label:`More`}].map(({path:e,icon:t,label:n})=>(0,M.jsxs)(`button`,{onClick:()=>i(e),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${a.pathname===e?`text-pink-500 dark:text-pink-400`:`text-gray-400 hover:text-pink-400 dark:text-gray-500 dark:hover:text-pink-400`}`,children:[(0,M.jsx)(t,{className:`w-6 h-6`}),(0,M.jsx)(`span`,{className:`text-xs mt-1`,children:n})]},e))})})]})}var AP={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},jP={duration:.3,ease:`easeInOut`};function MP({children:e}){return(0,M.jsx)(Pd.div,{initial:`initial`,animate:`animate`,exit:`exit`,variants:AP,transition:jP,children:e})}function NP(){let{currentUser:e,loading:t}=OM(),n=qe();return t?(0,M.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 via-green-50 to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900`,children:(0,M.jsx)(`div`,{className:`text-2xl text-pink-500 animate-pulse`,children:`Loading...`})}):(0,M.jsx)(Eo,{mode:`wait`,children:(0,M.jsxs)(St,{location:n,children:[(0,M.jsx)(bt,{path:`/login`,element:e?(0,M.jsx)(vt,{to:`/`}):(0,M.jsx)(nP,{})}),(0,M.jsxs)(bt,{path:`/`,element:e?(0,M.jsx)(kP,{}):(0,M.jsx)(vt,{to:`/login`}),children:[(0,M.jsx)(bt,{index:!0,element:(0,M.jsx)(MP,{children:(0,M.jsx)(rP,{})})}),(0,M.jsx)(bt,{path:`date-ideas`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(aP,{})})}),(0,M.jsx)(bt,{path:`date-ideas-by-location`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(sP,{})})}),(0,M.jsx)(bt,{path:`books`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(lP,{})})}),(0,M.jsx)(bt,{path:`shows`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(fP,{})})}),(0,M.jsx)(bt,{path:`future-trips`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(mP,{})})}),(0,M.jsx)(bt,{path:`dream-trips`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(hP,{})})}),(0,M.jsx)(bt,{path:`invite`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(gP,{})})}),(0,M.jsx)(bt,{path:`special-dates`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(vP,{})})}),(0,M.jsx)(bt,{path:`mailbox`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(yP,{})})}),(0,M.jsx)(bt,{path:`gratitude`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(bP,{})})}),(0,M.jsx)(bt,{path:`milestones`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(xP,{})})}),(0,M.jsx)(bt,{path:`daily-habits`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(SP,{})})}),(0,M.jsx)(bt,{path:`profile`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(wP,{})})}),(0,M.jsx)(bt,{path:`more`,element:(0,M.jsx)(MP,{children:(0,M.jsx)(TP,{})})})]})]},n.pathname)})}var PP=NP;y.createRoot(document.getElementById(`root`)).render((0,M.jsx)(x.StrictMode,{children:(0,M.jsx)(Et,{basename:`/LDR`,children:(0,M.jsx)(OP,{children:(0,M.jsx)(kM,{children:(0,M.jsx)(PP,{})})})})}));